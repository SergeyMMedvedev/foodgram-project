(this.webpackJsonpfoodgram=this.webpackJsonpfoodgram||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(21),r=n.n(s),i=n(5),o=(n(29),n(2)),u=n(7),l=(n(30),n(13),n(31),n(0));var d=function(e){var t=e.isLoggedIn,n=e.onExit,a=e.purchases;return Object(l.jsx)("nav",{className:"nav",children:Object(l.jsxs)("div",{className:"nav__container container",children:[t?Object(l.jsxs)("ul",{className:"nav__items list",children:[Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(i.c,{exact:!0,to:"/",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(i.c,{to:"/my-follow",activeClassName:"nav__link_active",className:"nav__link link",children:"\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(i.c,{to:"/form-recipe",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(i.c,{to:"/favorite",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})}),Object(l.jsxs)("li",{className:"nav__item",children:[Object(l.jsx)(i.c,{to:"/shop-list",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a"}),Object(l.jsx)("span",{className:"badge badge_style_blue nav__badge",id:"counter",children:a.length>0?a.length:""})]})]}):Object(l.jsxs)("ul",{className:"nav__items list",children:[Object(l.jsx)("li",{className:"nav__item nav__item_disabled",children:Object(l.jsx)(i.c,{exact:!0,to:"/",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"})}),Object(l.jsx)("li",{className:"nav__item nav__item_disabled",children:Object(l.jsx)("p",{className:"nav__link link nav__link_disabled",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a"})})]}),t?Object(l.jsxs)("ul",{className:"nav__items list",children:[Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(i.c,{to:"/change-password",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(i.c,{to:"/signin",onClick:n,activeClassName:"nav__link_active",className:"nav__link link",children:"\u0412\u044b\u0445\u043e\u0434"})})]}):Object(l.jsxs)("ul",{className:"nav__items list",children:[Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(i.c,{activeClassName:"nav__link_active",to:"/signin",className:"nav__link link",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(i.c,{activeClassName:"nav__link_active",to:"/signup",className:"button button_style_blue",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})]})]})})};var j=function(e){var t=e.isLoggedIn,n=e.onExit,a=e.purchases;return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)(d,{isLoggedIn:t,onExit:n,purchases:a})})};n(41);var b=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsxs)("div",{className:"footer__container container",children:[Object(l.jsx)("a",{href:"/",className:"footer__brand link",children:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432\u044b\u0439 \u043f\u043e\u043c\u043e\u0449\u043d\u0438\u043a"}),Object(l.jsxs)("ul",{className:"footer__items",children:[Object(l.jsx)("li",{className:"footer__item",children:Object(l.jsx)("a",{href:"/",className:"footer__link link",children:"\u041e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435 "})}),Object(l.jsx)("li",{className:"footer__item",children:Object(l.jsx)("a",{href:"/",className:"footer__link link",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})})]})]})})};n(42);var m=function(e){var t=e.main,n=e.selectedTags,c=e.onTagClick,s=e.onSetTagBreakfast,r=e.onSetTagTagDinner,i=e.onSetTagTagSupper,o=e.tagBreakfast,u=e.tagDinner,d=e.tagSupper,j=Object(a.useRef)();function b(e){if(t)"\u0437\u0430\u0432\u0442\u0440\u0430\u043a"===e.target.value&&(e.target.classList.toggle("tags__checkbox_active"),s()),"\u043e\u0431\u0435\u0434"===e.target.value&&(e.target.classList.toggle("tags__checkbox_active"),r()),"\u0443\u0436\u0438\u043d"===e.target.value&&(e.target.classList.toggle("tags__checkbox_active"),i());else if(e.target.classList.contains("tags__checkbox_active")){c(!0,e.target.value),e.target.classList.remove("tags__checkbox_active")}else{c(!1,e.target.value),e.target.classList.add("tags__checkbox_active")}}return Object(a.useEffect)((function(){n&&n.length>0&&j.current&&Array.prototype.slice.call(j.current.children).forEach((function(e){n.includes(e.firstChild.value)&&e.firstChild.classList.add("tags__checkbox_active")}))}),[n]),Object(a.useEffect)((function(){if(t&&j.current){var e=Array.prototype.slice.call(j.current.children),n=[o,u,d].map((function(e){return e.replace("&tag__name=","")}));e.forEach((function(e){n.includes(e.firstChild.value)&&e.firstChild.classList.add("tags__checkbox_active")}))}}),[o,u,d]),Object(l.jsxs)("ul",{ref:j,className:"tags",children:[Object(l.jsxs)("li",{className:"tags__item",children:[Object(l.jsx)("button",{value:"\u0437\u0430\u0432\u0442\u0440\u0430\u043a",onClick:b,type:"button",id:"breakfast",className:"tags__checkbox tags__checkbox_style_orange"}),Object(l.jsx)("span",{className:"tags__label",children:"\u0417\u0430\u0432\u0442\u0440\u0430\u043a"})]}),Object(l.jsxs)("li",{className:"tags__item",children:[Object(l.jsx)("button",{value:"\u043e\u0431\u0435\u0434",onClick:b,type:"button",id:"lunch",className:"tags__checkbox tags__checkbox_style_green"}),Object(l.jsx)("span",{htmlFor:"lunch",className:"tags__label",children:"\u041e\u0431\u0435\u0434"})]}),Object(l.jsxs)("li",{className:"tags__item",children:[Object(l.jsx)("button",{value:"\u0443\u0436\u0438\u043d",onClick:b,type:"button",id:"dinner",className:"tags__checkbox tags__checkbox_style_purple"}),Object(l.jsx)("span",{htmlFor:"dinner",className:"tags__label",children:"\u0423\u0436\u0438\u043d"})]})]})},h=(n(43),n(44),n(4)),f=n.n(h);var p=function(e){var t=e.children,n=e.column,a=f()("card-list",{"card-list_column":n});return Object(l.jsx)("div",{className:a,children:t})},_=(n(45),n.p+"static/media/testCardImg.1b1bdc76.png");n(46);var O=function(e){var t=e.className,n=e.tagName;return Object(l.jsx)("li",{className:"card__item",children:Object(l.jsx)("span",{className:"badge ".concat(t),children:n})},n)};function g(e){var t;return e?e.map((function(e){return t="\u0437\u0430\u0432\u0442\u0440\u0430\u043a"===e.name?"badge_style_orange":"\u043e\u0431\u0435\u0434"===e.name?"badge_style_green":"badge_style_purple",Object(l.jsx)(O,{className:t,tagName:e.name},e.name)})):""}n(47);var x=function(e){var t=e.active,n=e.big;return Object(l.jsx)("span",{className:f()("icon-favorite",{"icon-favorite_big":n},{"icon-favorite_active":t})})};n(48);var v=function(){return Object(l.jsx)("span",{className:"icon-plus button__icon"})};n(49);var N=function(){return Object(l.jsx)("span",{className:"icon-minus button__icon"})},k=c.a.createContext(),S="http://www.api.foodgram.students.nomoredomains.icu/api/v1";function y(e,t,n,a,c){var s=n.find((function(e){return e.classList.contains("pagination__item_active")}));new Promise((function(e){a&&a.classList.add("disappearAnimation"),s&&s.classList.add("pagination__item_deactive"),setTimeout((function(){return e("done")}),100)})).then((function(){c({page:e,author:t,loadedElementsContainer:a})}))}function w(e){return e.previous.slice(e.previous.indexOf("page=")+5,-1!==e.previous.indexOf("&",e.previous.indexOf("page=")+5)?e.previous.indexOf("&"):e.previous.length).length}function P(e){return e.next.slice(e.next.indexOf("page=")+5,-1!==e.next.indexOf("&",e.next.indexOf("page=")+5)?e.next.indexOf("&"):e.next.length).length}function E(e,t){return e.substr(e.indexOf("page=",S.length)+5,t)}function C(e,t){return e.substr(e.indexOf("page=",S.length),5+t)}function F(e){if(e.previous){if(!e.previous.includes("page="))return"page=2";var t=w(e);return"page=".concat(+E(e.previous,t)+1)}if(e.next){var n=P(e);return"page=".concat(+E(e.next,n)-1)}return"page=1"}function I(e){var t=+F(e).replace("page=","");return t===Math.ceil(e.count/6)&&e.count-6*Math.floor(e.count/6)===1&&0===(t-=1)&&(t=1),"page=".concat(t)}function R(e,t,n){return Object(l.jsx)("li",{className:f()("pagination__item",{pagination__item_active:"page=".concat(e)===F(n)}),children:Object(l.jsx)("button",{onClick:t,type:"button",className:"pagination__link link",value:"page=".concat(e),children:e})},e)}function T(e){return Object(l.jsx)("li",{className:"pagination__item",children:Object(l.jsx)("button",{disabled:!0,type:"button",className:"pagination__link link",children:"..."})},e)}function A(e){var t=e.pagination,n=e.getItems,a=e.selectedAuthor,c=e.paginatorRef,s=e.containerWithLoadableItemsRef;function r(e){var t,r=e.target.value,i=Array.prototype.slice.call(c.current.children);s&&(t=s.current),y(r,a,i,t,n)}var i=[],o=+F(t).replace("page=",""),u=Math.ceil(t.count/6);if(u<=7){for(var l=1;l<=Math.ceil(t.count/6);l+=1)i.push(R(l,r,t));return i}if(o>=1&&o<=3){i.push(R(1,r,t));for(var d=2;d<=5;d+=1)i.push(R(d,r,t));return i.push(T("...")),i.push(R(u,r,t)),i}if(o-3===1){for(var j=1;j<=o+2;j+=1)i.push(R(j,r,t));return i.push(T("...")),i.push(R(u,r,t)),i}if(o+3>=u){i.push(R(1,r,t)),i.push(T("..."));for(var b=u-5;b<=u;b+=1)i.push(R(b,r,t));return i}i.push(R(1,r,t)),i.push(T("..."));for(var m=o-2;m<=o+2;m+=1)i.push(R(m,r,t));return i.push(T("...2")),i.push(R(u,r,t)),i}n(50);var L=function(e){var t=e.text,n=e.blue,a=e.lightBlue,c=e.sizeAuto,s=e.onClick,r=e.disabled,i=e.sizeSubscribe,o=e.styleNone,u=e.lightOrange,d=e.underline,j=f()("button",{"button_style_light-blue":a},{button_size_auto:c},{button_style_blue:n},{button_disabled:r},{button_size_subscribe:i},{button_style_none:o},{"button_style_light-orange":u},{button_style_underline:d});return Object(l.jsx)("button",{onClick:s,type:"button",className:j,name:"subscribe",disabled:r,children:t})};function D(e){var t=e.allRecipesPage,n=e.favoriteRecipesPage,c=e.subscribers,s=e.recipeId,r=e.recipeName,u=e.tags,d=e.cookingTime,j=e.image,b=e.author,m=e.onAddToFavorites,h=e.onDeleteFromFavorites,f=e.onAddPurchase,p=e.pagination,O=e.selectedAuthor,S=e.onDeletePurchase,y=e.purchases,w=Object(a.useState)(!1),P=Object(o.a)(w,2),E=P[0],C=P[1],R=Object(a.useState)(""),T=Object(o.a)(R,2),A=T[0],D=T[1],U=Object(a.useContext)(k),M=Object(a.useRef)();return Object(a.useEffect)((function(){if(t){var e=c.some((function(e){return e.username===U.username}));C(e)}else C(!0)}),[c]),Object(a.useEffect)((function(){if(y)if(0===y.length)D("");else{var e=y.find((function(e){return e.purchase.id===s}));D(e?e.id:"")}}),[y]),Object(l.jsxs)("div",{ref:M,className:"card appearAnimation","data-id":"recipe__".concat(s),children:[Object(l.jsx)(i.b,{to:"/single-page/".concat(s),className:"link card__image-link",children:Object(l.jsx)("img",{src:j||_,alt:r,className:"card__image"})}),Object(l.jsxs)("div",{className:"card__body",children:[Object(l.jsx)(i.b,{className:"card__title link",to:"/single-page/".concat(s),children:r}),Object(l.jsx)("ul",{className:"card__items",children:g(u)}),Object(l.jsxs)("div",{className:"card__items card__items_column",children:[Object(l.jsxs)("p",{className:"card__text",children:[Object(l.jsx)("span",{className:"icon-time"})," ".concat(d," \u043c\u0438\u043d.")]}),Object(l.jsxs)("p",{className:"card__text",children:[Object(l.jsx)("span",{className:"icon-user"}),Object(l.jsx)(i.b,{to:"/recipes/".concat(b),className:"card__name-link",children:" ".concat(b)})]})]})]}),Object(l.jsxs)("div",{className:"card__footer",children:[A&&U.name?Object(l.jsx)(L,{text:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(N,{}),"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u043f\u043e\u043a\u0443\u043f\u043e\u043a"]}),onClick:function(){S(A)},lightOrange:!0,disabled:!U.name}):Object(l.jsx)(L,{text:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(v,{}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"]}),onClick:function(){f(s)},lightBlue:!0,disabled:!U.name}),U.name&&Object(l.jsx)(L,{onClick:E?function(){h(s,t?F(p):I(p),O,t,n)}:function(){m(s,F(p),O,t,n)},text:Object(l.jsx)(x,{active:E})})]})]})}var U=c.a.memo(D);n(51),n(52);var M=function(e){var t=e.inactive;return Object(l.jsx)("span",{className:f()("icon-left",{"icon-left_inactive":t})})};n(53);var B=function(e){var t=e.inactive;return Object(l.jsx)("span",{className:f()("icon-right",{"icon-right_inactive":t})})};function z(e){var t=e.pagination,n=e.getItems,c=e.selectedAuthor,s=e.containerWithLoadableItemsRef,r=Object(a.useRef)();return Object(l.jsx)(l.Fragment,{children:t.count>6&&Object(l.jsx)("nav",{className:"pagination","aria-label":"Search results pages",children:Object(l.jsxs)("ul",{ref:r,className:"pagination__container",children:[Object(l.jsx)("li",{className:"pagination__item",children:Object(l.jsx)("button",{onClick:function(){!function(e){var t,n=e.pagination,a=e.getItems,c=e.selectedAuthor,s=e.paginatorRef,r=e.containerWithLoadableItemsRef,i=Array.prototype.slice.call(s.current.children);if(r&&(t=r.current),n.previous)if(n.previous.includes("page=")){var o=w(n);y(C(n.previous,o),c,i,t,a)}else y("page=1",c,i,t,a)}({pagination:t,getItems:n,selectedAuthor:c,paginatorRef:r,containerWithLoadableItemsRef:s})},type:"button",className:"pagination__link link",children:Object(l.jsx)(M,{inactive:null===t.previous})})}),A({pagination:t,getItems:n,selectedAuthor:c,paginatorRef:r,containerWithLoadableItemsRef:s}).map((function(e){return e})),Object(l.jsx)("li",{className:"pagination__item",children:Object(l.jsx)("button",{onClick:function(){!function(e){var t,n=e.pagination,a=e.getItems,c=e.selectedAuthor,s=e.paginatorRef,r=e.containerWithLoadableItemsRef,i=Array.prototype.slice.call(s.current.children);if(r&&(t=r.current),n.next){var o=P(n);y(C(n.next,o),c,i,t,a)}}({pagination:t,getItems:n,selectedAuthor:c,paginatorRef:r,containerWithLoadableItemsRef:s})},type:"button",className:"pagination__link link",children:Object(l.jsx)(B,{inactive:null===t.next})})})]})})})}var J=c.a.memo(z),q=n(3),W=n.n(q),H=n(6),G=n(15),K=n(16),V=new(function(){function e(t){Object(G.a)(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}return Object(K.a)(e,[{key:"getRecipes",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c,s,r,i,o,u,l,d,j,b,m;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=void 0===n?"page=1":n,c=t.author,s=void 0===c?"":c,r=t.tagBreakfast,i=void 0===r?"":r,o=t.tagDinner,u=void 0===o?"":o,l=t.tagSupper,d=void 0===l?"":l,j=fetch("".concat(this.baseUrl,"/recipes/?").concat(a).concat(s).concat(i).concat(u).concat(d),{headers:this.headers}),e.next=4,j;case 4:return b=e.sent,e.next=7,b.json();case 7:if(m=e.sent,b.ok){e.next=10;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(m.message)));case 10:return e.abrupt("return",new Promise((function(e){e(m)})));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecipe",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/recipes/").concat(t),{headers:this.headers}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=9;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(c.message)));case 9:return e.abrupt("return",new Promise((function(e){e(c)})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRecipe",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/recipes/").concat(t),{method:"DELETE",headers:this.headers}),e.next=3,n;case 3:if(204===(a=e.sent).status){e.next=6;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(a.status)));case 6:return e.abrupt("return",new Promise((function(e){e(a.status)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIngredients",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/ingredients?search=").concat(t),{headers:this.headers}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=9;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(c.message)));case 9:return e.abrupt("return",new Promise((function(e){e(c)})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"postRecipe",value:function(){var e=Object(H.a)(W.a.mark((function e(t,n,a){var c,s,r,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=fetch("".concat(this.baseUrl,"/recipes/"),{method:"POST",headers:{Authorization:"Token ".concat(a)},body:n}),e.next=3,c;case 3:return s=e.sent,e.next=6,s.json();case 6:if(r=e.sent,s.ok){e.next=11;break}return i=[],Object.keys(r).forEach((function(e){i.push("".concat(e,": ").concat(r[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(i.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(r)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"updateRecipe",value:function(){var e=Object(H.a)(W.a.mark((function e(t,n,a){var c,s,r,i,o;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=t.get("image")).name&&c.size||t.delete("image"),s=fetch("".concat(this.baseUrl,"/recipes/").concat(a,"/"),{method:"PATCH",headers:{Authorization:"Token ".concat(n)},body:t}),e.next=5,s;case 5:return r=e.sent,e.next=8,r.json();case 8:if(i=e.sent,r.ok){e.next=13;break}return o=[],Object.keys(i).forEach((function(e){o.push("".concat(e,": ").concat(i[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(o.join("\n"))));case 13:return e.abrupt("return",new Promise((function(e){e(i)})));case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getSubscriptions",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c,s,r,i,o,u;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=void 0===n?"page=1":n,c=t.author,s=void 0===c?"":c,r=fetch("".concat(this.baseUrl,"/subscriptions/?").concat(a).concat(s),{method:"GET",headers:this.headers}),e.next=4,r;case 4:return i=e.sent,e.next=7,i.json();case 7:if(o=e.sent,i.ok){e.next=12;break}return u=[],Object.keys(o).forEach((function(e){u.push("".concat(e,": ").concat(o[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(u.join("\n"))));case 12:return e.abrupt("return",new Promise((function(e){e(o)})));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/subscriptions/"),{method:"POST",headers:this.headers,body:JSON.stringify({author:t})}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=11;break}return s=[],Object.keys(c).forEach((function(e){s.push("".concat(e,": ").concat(c[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(s.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(c)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/subscriptions/").concat(t,"/"),{method:"DELETE",headers:this.headers}),e.next=3,n;case 3:if(204===(a=e.sent).status){e.next=6;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(a.status)));case 6:return e.abrupt("return",new Promise((function(e){e(a.status)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFavoritesRecipes",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c,s,r,i,o,u,l,d,j,b;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=void 0===n?"page=1":n,c=t.tagBreakfast,s=void 0===c?"":c,r=t.tagDinner,i=void 0===r?"":r,o=t.tagSupper,u=void 0===o?"":o,l=fetch("".concat(this.baseUrl,"/favorites/?").concat(a).concat(s).concat(i).concat(u),{method:"GET",headers:this.headers}),e.next=4,l;case 4:return d=e.sent,e.next=7,d.json();case 7:if(j=e.sent,d.ok){e.next=12;break}return b=[],Object.keys(j).forEach((function(e){b.push("".concat(e,": ").concat(j[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(b.join("\n"))));case 12:return e.abrupt("return",new Promise((function(e){e(j)})));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addToFavoritesRecipes",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/favorites/"),{method:"POST",headers:this.headers,body:JSON.stringify({favorite:t})}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=11;break}return s=[],Object.keys(c).forEach((function(e){s.push("".concat(e,": ").concat(c[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(s.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(c)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteFromFavoritesRecipes",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/favorites/").concat(+t,"/"),{method:"DELETE",headers:this.headers}),e.next=3,n;case 3:if(204===(a=e.sent).status){e.next=6;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(a.status)));case 6:return e.abrupt("return",new Promise((function(e){e(a.status)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPurchases",value:function(){var e=Object(H.a)(W.a.mark((function e(){var t,n,a,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fetch("".concat(this.baseUrl,"/purchases/"),{method:"GET",headers:this.headers}),e.next=3,t;case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,n.ok){e.next=11;break}return c=[],Object.keys(a).forEach((function(e){c.push("".concat(e,": ").concat(a[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(c.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(a)})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addPurchase",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/purchases/"),{method:"POST",headers:this.headers,body:JSON.stringify({purchase:t})}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=11;break}return s=[],Object.keys(c).forEach((function(e){s.push("".concat(e,": ").concat(c[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(s.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(c)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePurchase",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/purchases/").concat(+t,"/"),{method:"DELETE",headers:this.headers}),e.next=3,n;case 3:if(204===(a=e.sent).status){e.next=6;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(a.status)));case 6:return e.abrupt("return",new Promise((function(e){e(a.status)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/download/"),{method:"POST",headers:this.headers,body:JSON.stringify(t)}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.blob();case 6:if(c=e.sent,a.ok){e.next=9;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430!"));case 9:return e.abrupt("return",new Promise((function(e){e(c)})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())({baseUrl:S,headers:{"Content-Type":"application/json"}});var Q=function(e){var t=e.recipes,n=e.favoriteRecipes,c=e.onAddToFavorites,s=e.onDeleteFromFavorites,r=e.onAddPurchase,i=e.recipesPagination,d=e.getRecipes,j=e.onAuthorClick,b=e.selectedAuthor,m=e.setSelectedAuthor,h=e.onSubscribe,f=e.onUnsubscribe,_=e.subscriptions,O=e.onDeletePurchase,g=e.purchases,x=e.setResponseError,v=e.setIsOpenInfoTooltip,N=Object(u.h)(),S=Object(a.useContext)(k),y=Object(a.useState)(null),w=Object(o.a)(y,2),P=w[0],E=w[1],C=Object(a.useRef)();return Object(a.useEffect)((function(){N.author&&S.name&&V.getSubscriptions({author:"&author=".concat(N.author)}).then((function(e){e.results&&E(e.results.length>0)})).catch((function(e){x(e),v(!0)}))}),[S,N.author,_]),Object(a.useEffect)((function(){N.author&&m("&author__username=".concat(N.author))}),[m,N,N.author]),Object(l.jsxs)(l.Fragment,{children:[N.author&&N.author!==S.name&&(P?Object(l.jsx)("div",{className:"recipe__button-container",children:Object(l.jsx)(L,{lightBlue:!0,text:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",onClick:function(){V.getSubscriptions({author:"&author=".concat(N.author)}).then((function(e){e.results&&f({subscriptionId:e.results[0].id,setIsUserIsSubscribed:E})})).catch((function(e){x(e),v(!0)}))}})}):S.name&&Object(l.jsx)("div",{className:"recipe__button-container",children:Object(l.jsx)(L,{lightBlue:!0,text:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0430",onClick:function(){h(N.author,E)}})})),Object(l.jsx)("div",{ref:C,children:Object(l.jsx)(p,{children:t.map((function(e){return Object(l.jsx)(U,{allRecipesPage:!0,subscribers:e.subscribers,recipeId:e.id,recipeName:e.name,tags:e.tag,cookingTime:e.cooking_time,image:e.image_url,author:e.author,onAddToFavorites:c,onDeleteFromFavorites:s,onAddPurchase:r,favoriteRecipes:n,pagination:i,onAuthorClick:j,selectedAuthor:b,onDeletePurchase:O,purchases:g},"card__".concat(e.id))}))})}),Object(l.jsx)(J,{pagination:i,getItems:d,selectedAuthor:b,containerWithLoadableItemsRef:C})]})};n(55),n(56);var X=function(e){var t=e.formRef,n=e.children,a=e.onSubmit;return Object(l.jsx)("div",{className:"form-container",children:Object(l.jsx)("form",{ref:t,className:"form",onSubmit:a,children:n})})};n(57);var Y=function(e){var t=e.text,n=e.blue,a=e.lightBlue,c=e.sizeAuto,s=e.disabled,r=e.loading,i=f()("submit-button",{"submit-button_style_light-blue":a},{"submit-button_size_auto":c},{"submit-button_style_blue":n},{"submit-button_disabled":s});return Object(l.jsx)("input",{type:"submit",className:i,name:"subscribe",value:r?"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430...":t,disabled:s})};var Z=function(e){var t=e.onSubmit,n=e.serverError,c=Object(a.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],u=Object(a.useState)(""),d=Object(o.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(""),h=Object(o.a)(m,2),p=h[0],_=h[1],O=Object(a.useState)(""),g=Object(o.a)(O,2),x=g[0],v=g[1],N=Object(a.useState)(""),k=Object(o.a)(N,2),S=k[0],y=k[1],w=Object(a.useState)(""),P=Object(o.a)(w,2),E=P[0],C=P[1],F=Object(a.useState)(""),I=Object(o.a)(F,2),R=I[0],T=I[1],A=Object(a.useState)(""),L=Object(o.a)(A,2),D=L[0],U=L[1],M=Object(a.useState)(""),B=Object(o.a)(M,2),z=B[0],J=B[1];return Object(l.jsxs)(X,{onSubmit:function(e){i(!0),e.preventDefault(),t(j,x,E,D,i)},children:[Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_first_name",className:"form__label",children:"\u0418\u043c\u044f"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:j,onChange:function(e){b(e.target.value),_(e.target.validationMessage)},type:"text",name:"first_name",id:"id_first_name",className:"form__input",minLength:"2",required:!0}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:p}),children:p})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_username",className:"form__label",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:x,onChange:function(e){v(e.target.value),y(e.target.validationMessage)},type:"text",name:"username",id:"id_username",className:"form__input",minLength:"2",required:!0}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:S}),children:S})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_email",className:"form__label",children:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:E,onChange:function(e){C(e.target.value),T(e.target.validationMessage)},type:"email",name:"email",id:"id_email",className:"form__input",required:!0}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:R}),children:R})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_password",className:"form__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:D,onChange:function(e){U(e.target.value),J(e.target.validationMessage)},type:"password",name:"password",id:"id_password",className:"form__input",minLength:"8",required:!0}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:z}),children:z})]})]}),Object(l.jsx)("span",{className:f()("form__error form__error_server",{form__error_server_active:n}),children:n}),Object(l.jsx)("div",{className:"form__footer",children:Object(l.jsx)(Y,{lightBlue:!0,text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442",disabled:r||p||S||R||z||!j||!x||!E||!D,loading:r})})]})};n(58);var $=function(e){var t=e.onSubmit,n=e.serverError,c=Object(a.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],u=Object(a.useState)(""),d=Object(o.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(""),h=Object(o.a)(m,2),p=h[0],_=h[1],O=Object(a.useState)(""),g=Object(o.a)(O,2),x=g[0],v=g[1],N=Object(a.useState)(""),k=Object(o.a)(N,2),S=k[0],y=k[1];return Object(l.jsxs)(X,{onSubmit:function(e){i(!0),e.preventDefault(),t(j,x,i)},children:[Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_username",className:"form__label",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:j,onChange:function(e){b(e.target.value),_(e.target.validationMessage)},type:"text",name:"username",id:"id_username",className:"form__input",minLength:"2",maxLength:"30",required:!0}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:p}),children:p})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_password",className:"form__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:x,onChange:function(e){v(e.target.value),y(e.target.validationMessage)},type:"password",name:"password",id:"id_password",className:"form__input",minLength:"8",required:!0}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:S}),children:S})]})]}),Object(l.jsx)("span",{className:f()("form__error form__error_server",{form__error_server_active:n}),children:n}),Object(l.jsxs)("div",{className:"form__footer",children:[Object(l.jsx)(Y,{lightBlue:!0,text:"\u0412\u043e\u0439\u0442\u0438",disabled:r||p||S||!j||!x,loading:r}),Object(l.jsx)("a",{href:"/reset-password",className:"form__forgot-link",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]})]})};n(59);var ee=function(e){var t=e.onSubmit,n=e.serverError,c=e.resetPasswordResponse,s=e.setServerError,r=e.setResetPasswordResponse,i=Object(a.useState)(!1),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),m=Object(o.a)(b,2),h=m[0],p=m[1],_=Object(a.useState)(""),O=Object(o.a)(_,2),g=O[0],x=O[1];return Object(l.jsxs)(X,{onSubmit:function(e){e.preventDefault(),j(!0),t(h,j),s("")},children:[Object(l.jsx)("p",{className:"form__info-text",children:"\u0427\u0442\u043e\u0431\u044b \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u2014 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u044b \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c."}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_email",className:"form__label",children:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:h,onChange:function(e){p(e.target.value),x(e.target.validationMessage),s(""),r("")},type:"email",name:"email",id:"id_email",className:"form__input"}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:g}),children:g})]})]}),Object(l.jsx)("span",{className:f()("form__error form__error_server",{form__error_server_active:n}),children:n}),Object(l.jsx)("span",{className:f()("form__reset-info",{"form__reset-info_active":"OK"===c.status}),children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0412\u0430\u0448 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a. \u041d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 ".concat(h," \u0431\u044b\u043b\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f.")}),Object(l.jsx)("div",{className:"form__footer",children:Object(l.jsx)(Y,{lightBlue:!0,text:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",disabled:d||g||!h,loading:d})})]})};n(60);var te=function(e){var t=e.onSubmit,n=e.serverError,c=Object(a.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],u=Object(a.useState)(""),d=Object(o.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(""),h=Object(o.a)(m,2),p=h[0],_=h[1],O=Object(a.useState)(""),g=Object(o.a)(O,2),x=g[0],v=g[1],N=Object(a.useState)(""),k=Object(o.a)(N,2),S=k[0],y=k[1],w=Object(a.useState)(""),P=Object(o.a)(w,2),E=P[0],C=P[1],F=Object(a.useState)(""),I=Object(o.a)(F,2),R=I[0],T=I[1];return Object(l.jsxs)(X,{onSubmit:function(e){i(!0),e.preventDefault(),t(j,x,E,i)},children:[Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_oldPassword",className:"form__label",children:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:j,onChange:function(e){b(e.target.value),_(e.target.validationMessage)},type:"text",name:"old_password",id:"id_oldPassword",className:"form__input",minLength:"8",required:!0}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:p}),children:p})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_newPassword",className:"form__label",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:x,onChange:function(e){v(e.target.value),y(e.target.validationMessage)},type:"password",name:"new_password",id:"id_newPassword",className:"form__input",minLength:"8",required:!0}),Object(l.jsx)("span",{className:"form__input-info",children:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c \u0441 \u0432\u0430\u0448\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u0438\u043b\u0438 \u0431\u044b\u0442\u044c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043f\u043e\u0445\u043e\u0436\u0438\u043c \u043d\u0430 \u043d\u0435\u0451."}),Object(l.jsx)("span",{className:"form__input-info",children:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."}),Object(l.jsx)("span",{className:"form__input-info",children:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u0448\u0438\u0440\u043e\u043a\u043e \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u043f\u0430\u0440\u043e\u043b\u0435\u0439."}),Object(l.jsx)("span",{className:"form__input-info",children:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0446\u0438\u0444\u0440."}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:S}),children:S})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_confirmPassword",className:"form__label",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:E,onChange:function(e){C(e.target.value),T(e.target.validationMessage)},type:"password",name:"confirm_password",id:"id_confirmPassword",className:"form__input",minLength:"8",required:!0}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:R}),children:R})]})]}),Object(l.jsx)("span",{className:f()("form__error form__error_server",{form__error_server_active:n}),children:n}),Object(l.jsx)(Y,{lightBlue:!0,text:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",disabled:r||p||S||R||!j||!x||!E,loading:r})]})};n(61),n(62),n(63);function ne(e){var t=e.recipe;return Object(l.jsxs)("div",{className:"recipe",children:[Object(l.jsx)(i.b,{to:"/single-page/".concat(t.id),className:"recipe__image-link link",children:Object(l.jsx)("img",{src:_,alt:t.name,className:"recipe__image"})}),Object(l.jsx)(i.b,{to:"/single-page/".concat(t.id),className:"recipe__title-link link",children:Object(l.jsx)("h3",{className:"recipe__title",children:t.name})}),Object(l.jsxs)("p",{className:"recipe__text",children:[Object(l.jsx)("span",{className:"icon-time"})," ".concat(t.cooking_time)]})]})}var ae=c.a.memo(ne);function ce(e){var t=e.toString();return e>=1?["11","12","13","14","15","16","17","18","19"].includes(t.slice(t.length-2,t.length))||["40","90"].includes(t.slice(t.length-2,t.length))||t.endsWith("100")?"\u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432":t.endsWith("1")?"\u0440\u0435\u0446\u0435\u043f\u0442":["2","3","4"].includes(t[t.length-1])?"\u0440\u0435\u0446\u0435\u043f\u0442\u0430":t.endsWith("00")?"\u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432":"\u0440\u0435\u0446\u0435\u043f\u0442":"\u0440\u0435\u0446\u0435\u043f\u0442"}function se(e){var t=e.onUnsubscribe,n=e.subscription,c=e.pagination,s=e.setResponseError,r=e.setIsOpenInfoTooltip,u=Object(a.useState)([]),d=Object(o.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)([]),h=Object(o.a)(m,2),f=h[0],p=h[1];return Object(a.useEffect)((function(){V.getRecipes({author:"&author__username=".concat(n.author)}).then((function(e){b(e.results),p(e)})).catch((function(e){s(e),r(!0)}))}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"card-user appearAnimation","data-author":n.id,children:[Object(l.jsx)("div",{className:"card-user__header",children:Object(l.jsx)(i.b,{to:"/recipes/".concat(n.author),className:"card-user__title",children:n.author})}),Object(l.jsx)("div",{className:"card-user__body",children:Object(l.jsx)("ul",{className:"card-user__items",children:j.length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(l.Fragment,{children:j.slice(0,3).map((function(e){return Object(l.jsx)("li",{className:"card-user__item",children:Object(l.jsx)(ae,{recipe:e})},e.id)}))}),Object(l.jsx)(l.Fragment,{children:j.slice(3).length>0&&Object(l.jsx)("li",{className:"card-user__item",children:Object(l.jsx)(i.b,{to:"/recipes/".concat(n.author),className:"card-user__link link",children:"\u0415\u0449\u0435 ".concat(f.count-3>0&&"".concat(f.count-3," ").concat(ce(f.count-3)),"...")})})})]}):Object(l.jsx)("p",{className:"card-user__text",children:"\u0443 \u0430\u0432\u0442\u043e\u0440\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432"})})}),Object(l.jsx)("div",{className:"card-user__footer",children:Object(l.jsx)("button",{onClick:function(){t({subscriptionId:n.id,page:I(c)})},type:"button",className:"button button_style_light-blue button_size_auto",name:"subscribe",children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})]})})}var re=c.a.memo(se);var ie=function(e){var t=e.onUnsubscribe,n=e.subscriptions,c=e.getSubscriptions,s=e.subscriptionsPagination,r=e.header,i=e.renderMainHeader,o=e.setResponseError,u=e.setIsOpenInfoTooltip,d=Object(a.useRef)();return Object(l.jsxs)(l.Fragment,{children:[i(r),Object(l.jsx)("div",{ref:d,children:Object(l.jsx)(p,{children:n.map((function(e){return Object(l.jsx)(re,{onUnsubscribe:t,subscription:e,pagination:s,setResponseError:o,setIsOpenInfoTooltip:u},e.id)}))})}),Object(l.jsx)(J,{pagination:s,getItems:c,containerWithLoadableItemsRef:d})]})};n(64),n(65);var oe=function(e){var t=this,n=e.ingredientList,a=e.onItemClick,c=f()("form__dropdown-items",{"form__dropdown-items_active":n.length>0});function s(e,t){a(e,t)}return Object(l.jsx)("ul",{className:c,children:n.map((function(e){return Object(l.jsx)("li",{className:"form__dropdown-item",children:Object(l.jsx)("button",{type:"button",className:"form__dropdown-item-btn",onClick:s.bind(t,e.name,e.units),children:e.name})},e.id)}))})};var ue=function(e){var t=this,n=e.onSubmit,c=e.serverError,s=e.header,r=e.renderMainHeader,i=e.onDelete,d=e.setResponseError,j=e.setIsOpenInfoTooltip,b=Object(u.h)().recipeId,h=Object(a.useState)(!1),p=Object(o.a)(h,2),_=p[0],O=p[1],g=Object(a.useState)(""),x=Object(o.a)(g,2),v=x[0],N=x[1],k=Object(a.useState)(""),S=Object(o.a)(k,2),y=S[0],w=S[1],P=Object(a.useState)(""),E=Object(o.a)(P,2),C=E[0],F=E[1],I=Object(a.useState)(""),R=Object(o.a)(I,2),T=R[0],A=R[1],D=Object(a.useState)(""),U=Object(o.a)(D,2),M=U[0],B=U[1],z=Object(a.useState)(""),J=Object(o.a)(z,2),q=J[0],W=J[1],H=Object(a.useState)(""),G=Object(o.a)(H,2),K=G[0],Q=G[1],Z=Object(a.useState)(""),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ae=Object(o.a)(ne,2),ce=ae[0],se=ae[1],re=Object(a.useState)(""),ie=Object(o.a)(re,2),ue=ie[0],le=ie[1],de=Object(a.useState)([]),je=Object(o.a)(de,2),be=je[0],me=je[1],he=Object(a.useState)([]),fe=Object(o.a)(he,2),pe=fe[0],_e=fe[1],Oe=Object(a.useRef)(),ge=Object(a.useRef)(),xe=Object(a.useRef)(),ve=Object(a.useState)(!1),Ne=Object(o.a)(ve,2),ke=Ne[0],Se=Ne[1],ye=Object(a.useState)([]),we=Object(o.a)(ye,2),Pe=we[0],Ee=we[1];function Ce(e){var t=Pe.filter((function(t){return!(t.name===e.name&&t.amount.toString()===e.amount.toString())}));Ee(t)}function Fe(e){le(e.target.value)}return Object(a.useEffect)((function(){function e(e){e.target.classList.contains("form__dropdown-item")||_e([])}return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),Object(a.useEffect)((function(){var e=y||K||ce||!v||!q||!ee||0===Pe.length||0===be.length||!ue&&!b;Se(!!e)}),[y,K,ce,v,q,ee,Pe,be,ue]),Object(a.useEffect)((function(){b&&V.getRecipe(b).then((function(e){N(e.name),W(e.cooking_time),te(e.description);var t=[];e.tag.forEach((function(e){return t.push(e.name)})),me(t),Ee(e.ingredient)})).catch((function(e){d(e),j(!0)}))}),[b]),Object(l.jsxs)(l.Fragment,{children:[r(s),Object(l.jsxs)(X,{formRef:xe,onSubmit:function(e){O(!0);var t=new FormData(xe.current);e.preventDefault(),n({author:"admin",name:v,ingredient:Pe,tag:be,cooking_time:q,description:ee},t,localStorage.getItem("token"),b,O)},children:[Object(l.jsxs)("div",{ref:ge,className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_name",className:"form__label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("input",{value:v,onChange:function(e){N(e.target.value),w(e.target.validationMessage)},type:"text",id:"id_name",name:"name",className:"form__input",minLength:"2",maxLength:"50",required:!0}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:y}),children:y})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("p",{className:"form__label",children:"\u0422\u0435\u0433\u0438"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)(m,{selectedTags:be,onTagClick:function(e,t){if(e){var n=be.filter((function(e){return e!==t}));me(n)}else be.push(t),me(be)}}),Object(l.jsx)("span",{className:"form__error"})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"nameIngredient",className:"form__label",children:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsxs)("div",{className:"form__field-group-ingredientes",children:[Object(l.jsxs)("div",{ref:Oe,className:"form__dropdown",children:[Object(l.jsx)("textarea",{onChange:function(e){F(e.target.value),e.target.value?V.getIngredients(e.target.value).then((function(e){_e(e)})).catch((function(e){d(e),j(!0)})):_e([])},value:C,type:"text",id:"nameIngredient",className:"form__input",maxLength:"30"}),Object(l.jsx)(oe,{ingredientList:pe,onItemClick:function(e,t){F(e),A(t)}})]}),Object(l.jsx)("input",{onChange:function(e){B(e.target.value)},value:M,type:"number",id:"cantidad",className:"form__input",min:"1",max:"999"}),Object(l.jsx)("span",{htmlFor:"cantidad",className:"form__label",id:"cantidadVal",children:T||"\u0448\u0442."})]}),Object(l.jsx)("div",{className:"form__field-group-ingredientes-container",children:Pe.map((function(e){return Object(l.jsxs)("div",{className:"form__field-item-ingredient",children:[Object(l.jsxs)("span",{children:["".concat(e.name," "),"".concat(e.amount," "),e.units]}),Object(l.jsx)("button",{type:"button",onClick:Ce.bind(t,e),className:"form__field-item-delete form__field-item-delete_ingredient"})]},"".concat(e.name,"__").concat(e.amount))}))}),Object(l.jsx)("button",{onClick:function(){if(C&&M&&T){Pe.push({name:C,amount:M,units:T});var e=Pe.slice();Ee(e),F(""),A(""),B("")}},type:"button",className:"form__ingredient-add-btn",id:"addIng",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442"}),Object(l.jsx)("span",{className:"form__error"})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_time",className:"form__label",children:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044f"}),Object(l.jsxs)("div",{className:"form__field-group form__field-group_time",children:[Object(l.jsx)("input",{type:"number",id:"id_time",name:"cooking_time",className:"form__input",min:"0",maxLength:"3",value:q,onChange:function(e){e.target.value<=999&&W(e.target.value),Q(e.target.validationMessage)},required:!0}),Object(l.jsx)("span",{htmlFor:"id_time",className:"form__label",children:"\u043c\u0438\u043d\u0443\u0442"}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:K}),children:K})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{htmlFor:"id_description",className:"form__label",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(l.jsxs)("div",{className:"form__field-group",children:[Object(l.jsx)("textarea",{name:"description",id:"id_description",rows:"8",className:"form__textarea",value:ee,onChange:function(e){te(e.target.value),se(e.target.validationMessage)},minLength:"2",maxLength:"500",required:!0}),Object(l.jsx)("span",{className:f()("form__error",{form__error_active:ce}),children:ce})]})]}),Object(l.jsxs)("div",{className:"form__group",children:[Object(l.jsx)("span",{className:"form__label",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c".concat(b?" \u043d\u043e\u0432\u043e\u0435":""," \u0444\u043e\u0442\u043e")}),Object(l.jsxs)("div",{className:"form__field-group form__field-group_photo",children:[Object(l.jsx)("label",{htmlFor:"id_file",className:"form__photo-file",children:b?Object(l.jsx)("input",{vaule:ue,onChange:Fe,type:"file",name:"image",id:"id_file",className:"form__photo-input"}):Object(l.jsx)("input",{vaule:ue,onChange:Fe,type:"file",name:"image",id:"id_file",className:"form__photo-input",required:!0})}),ue&&Object(l.jsx)("button",{type:"button",onClick:function(){document.getElementById("id_file").value=null,le("")},className:"form__field-item-delete"}),Object(l.jsx)("span",{className:"form__error"})]})]}),Object(l.jsx)("span",{className:f()("form__error form__error_server",{form__error_server_active:c}),children:c}),Object(l.jsxs)("div",{className:"form__footer form__footer_recipe",children:[Object(l.jsxs)("div",{className:"form__hint-container",children:[ke&&Object(l.jsxs)("div",{className:"form__hint",children:["\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e:",!v&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:" - \u0423\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"})]}),0===be.length&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:" - \u0425\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0442\u0435\u0433 (\u0437\u0430\u0432\u0442\u0440\u0430\u043a, \u043e\u0431\u0435\u0434 \u0438\u043b\u0438 \u0443\u0436\u0438\u043d)"})]}),0===Pe.length&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:" - \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a"})]}),!q&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:" - \u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044f"})]}),!ee&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:" - \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]}),!ue&&!b&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:" - \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e"})]}),(y||K||ce)&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:" - \u0423\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u043d\u0435\u0442 \u043e\u0448\u0438\u0431\u043e\u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"})]})]}),Object(l.jsx)(Y,{blue:!0,text:b?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442",disabled:_||y||K||ce||!v||!q||!ee||0===Pe.length||0===be.length||!ue&&!b,loading:_})]}),b&&Object(l.jsx)(L,{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",underline:!0,onClick:function(){i(b)}})]})]})]})};n(66);var le=function(e){var t=e.onAddToFavorites,n=e.onDeleteFromFavorites,c=e.onAddPurchase,s=e.favoritesPagination,r=e.recipes,i=e.getFavoritesRecipes,o=e.header,u=e.renderMainHeader,d=e.onDeletePurchase,j=e.purchases,b=Object(a.useRef)();return Object(l.jsxs)(l.Fragment,{children:[u(o),Object(l.jsx)("div",{ref:b,children:Object(l.jsx)(p,{children:r.map((function(e){return Object(l.jsx)(U,{favoriteRecipesPage:!0,subscribers:e.subscribers,recipeId:e.id,recipeName:e.name,tags:e.tag,cookingTime:e.cooking_time,image:e.image_url,author:e.author,onAddToFavorites:t,onDeleteFromFavorites:n,onAddPurchase:c,pagination:s,onDeletePurchase:d,purchases:j},"card__".concat(e.id))}))})}),Object(l.jsx)(J,{pagination:s,getItems:i,containerWithLoadableItemsRef:b})]})};n(67),n(68);function de(e){var t=e.recipe,n=e.onDeletePurchase,c=e.purchaseId,s=Object(a.useRef)();return Object(l.jsxs)("li",{ref:s,className:"shopping-list__item","data-id":"111",children:[Object(l.jsxs)("div",{className:"recipe recipe_reverse",children:[Object(l.jsx)(i.b,{to:"/single-page/".concat(t.id),className:"recipe__image-link link",children:Object(l.jsx)("img",{src:_,alt:t.name,className:"recipe__image recipe__image_big"})}),Object(l.jsx)(i.b,{to:"/single-page/".concat(t.id),className:"recipe__title-link link",children:Object(l.jsx)("h3",{className:"recipe__title",children:t.name})}),Object(l.jsxs)("p",{className:"recipe__text",children:[Object(l.jsx)("span",{className:"icon-time"})," ".concat(t.cooking_time," \u043c\u0438\u043d.")]})]}),Object(l.jsx)("button",{onClick:function(){new Promise((function(e){s.current&&s.current.classList.add("disappearAnimation"),setTimeout((function(){return e("done")}),100)})).then((function(){n(c)}))},type:"button",className:"shopping-list__button link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},c)}var je=c.a.memo(de);function be(e){var t=e.purchases,n=e.onDeletePurchase,a=e.onDownload,c=e.header,s=e.renderMainHeader;return Object(l.jsxs)(l.Fragment,{children:[s(c),Object(l.jsxs)(p,{column:!0,children:[Object(l.jsx)("ul",{className:"shopping-list",children:t.map((function(e){return Object(l.jsx)(je,{recipe:e.purchase,purchaseId:e.id,onDeletePurchase:n},e.id)}))}),Object(l.jsx)(L,{blue:!0,text:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a",onClick:function(){a(t)},disabled:t.length<1})]})]})}var me=c.a.memo(be);n(69),n(70);var he=function(){return Object(l.jsx)("span",{className:"icon-time"})};n(71);var fe=function(){return Object(l.jsx)("span",{className:"icon-user"})};var pe=function(e){var t,n=e.onSubscribe,c=e.subscriptions,s=e.onUnsubscribe,r=e.onAddToFavorites,d=e.onDeleteFromFavorites,j=e.onAddPurchase,b=e.onDeletePurchase,m=e.purchases,h=e.setResponseError,f=e.setIsOpenInfoTooltip,p=Object(u.h)().recipeId,O=Object(a.useState)({}),S=Object(o.a)(O,2),y=S[0],w=S[1],P=Object(a.useState)(null),E=Object(o.a)(P,2),C=E[0],F=E[1],I=Object(a.useContext)(k),R=Object(a.useState)(!1),T=Object(o.a)(R,2),A=T[0],D=T[1],U=Object(a.useState)(""),M=Object(o.a)(U,2),B=M[0],z=M[1];function J(e){V.getRecipe(e).then((function(e){w(e)})).catch((function(e){h(e),f(!0)}))}function q(){n(y.author,F)}function W(){V.getSubscriptions({author:"&author=".concat(y.author)}).then((function(e){e.results&&s({subscriptionId:e.results[0].id,setIsUserIsSubscribed:F})})).catch((function(e){h(e),f(!0)}))}return Object(a.useEffect)((function(){J(p)}),[p]),Object(a.useEffect)((function(){if(m)if(0===m.length)z("");else{var e=m.find((function(e){return e.purchase.id.toString()===p.toString()}));z(e?e.id:"")}}),[m,p]),Object(a.useEffect)((function(){if(I.name&&y.subscribers){var e=y.subscribers.some((function(e){return e.username===I.username}));D(e)}}),[y,I.username]),Object(a.useEffect)((function(){I.name&&V.getSubscriptions({author:"&author=".concat(y.author)}).then((function(e){e.results&&F(e.results.length>0)})).catch((function(e){console.log(e)}))}),[I,c,y.author]),Object(l.jsxs)("div",{className:"single-card","data-id":"recipe__".concat(p),"data-author":y.author,children:[Object(l.jsx)("img",{src:_,alt:y.name,className:"single-card__image"}),Object(l.jsxs)("div",{className:"single-card__info",children:[Object(l.jsxs)("div",{className:"single-card__header-info",children:[Object(l.jsx)("h1",{className:"single-card__title",children:y.name}),Object(l.jsxs)("div",{className:"single-card__favorite",children:[Object(l.jsx)(L,{onClick:A?function(){d(p),J(p)}:function(){r(p),J(p)},styleNone:!0,text:Object(l.jsx)(x,{big:!0,active:A})}),Object(l.jsx)("div",{className:"single-card__favorite-tooltip tooltip",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]})]}),Object(l.jsx)("ul",{className:"single-card__items",children:g(y.tag)}),Object(l.jsxs)("div",{className:"single-card__items single-card__items_column",children:[Object(l.jsxs)("p",{className:"single-card__text",children:[Object(l.jsx)(he,{})," ".concat(y.cooking_time," \u043c\u0438\u043d.")]}),Object(l.jsxs)("ul",{className:"single-card__items",children:[Object(l.jsx)("li",{className:"single-card__item",children:Object(l.jsxs)(i.b,{to:"/recipes/".concat(y.author),className:"single-card__name-link",children:[Object(l.jsx)(fe,{})," ".concat(y.author)]})}),Object(l.jsx)("li",{className:"single-card__item",children:y.author===I.name&&Object(l.jsx)(i.b,{type:"button",to:"/form-recipe/".concat(p),className:"single-card__button",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442"})})]})]}),Object(l.jsxs)("ul",{className:"single-card__items",children:[Object(l.jsx)("li",{className:"single-card__item",children:B?Object(l.jsx)(L,{text:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(N,{}),"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u043f\u043e\u043a\u0443\u043f\u043e\u043a"]}),onClick:function(){b(B)},lightOrange:!0,disabled:!I.name}):Object(l.jsx)(L,{text:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(v,{}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"]}),onClick:function(){j(p)},blue:!0,disabled:!I.name})}),I.name&&I.name!==y.author?null===C?Object(l.jsx)("li",{className:"single-card__item",children:Object(l.jsx)(L,{text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",type:"button",lightBlue:!0,sizeSubscribe:!0,disabled:!0})}):C?Object(l.jsx)("li",{className:"single-card__item",children:Object(l.jsx)(L,{text:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",lightBlue:!0,sizeSubscribe:!0,onClick:W})}):Object(l.jsx)("li",{className:"single-card__item",children:Object(l.jsx)(L,{text:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0430",onClick:q,lightBlue:!0,sizeSubscribe:!0})}):Object(l.jsx)("li",{className:"single-card__item",children:Object(l.jsx)("div",{className:"button_size_subscribe"})})]}),Object(l.jsxs)("div",{className:"single-card__section",children:[Object(l.jsx)("h3",{className:"single-card__section-title",children:"\u0418\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442\u044b:"}),Object(l.jsx)("div",{className:"single-card__items single-card__items_column",children:(t=y.ingredient,t?t.map((function(e){return Object(l.jsx)("p",{className:" single-card__section-item",children:"".concat(e.name," - ").concat(e.amount," ").concat(e.units,".")},e.id)})):Object(l.jsx)("p",{className:" single-card__section-item",children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}))})]}),Object(l.jsxs)("div",{className:"single-card__section",children:[Object(l.jsx)("h3",{className:"single-card__section-title",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(l.jsx)("p",{className:" single-card__section-text",children:y.description})]})]})]})},_e=n(23),Oe=n(24),ge=function(e){var t=e.component,n=Object(Oe.a)(e,["component"]),a=n.path,c=Object(u.g)();return Object(l.jsx)(u.b,{exact:!0,path:a,children:function(){return localStorage.getItem("token")?Object(l.jsx)(t,Object(_e.a)({},n)):c.push("/",{noAuthRedirect:!0})}})};n(72),n(73);var xe=function(e){var t=e.isOpen,n=e.title,a=e.onClose,c=e.message;return Object(l.jsx)("div",{onMouseDown:function(e){(e.target.classList.contains("popup__close")||e.target.classList.contains("popup_opened"))&&a()},className:"popup ".concat(t&&"popup_opened"),children:Object(l.jsxs)("div",{className:"popup__window ".concat(t&&"popup__window_opened"),children:[Object(l.jsx)("h3",{className:"popup__title",children:n}),Object(l.jsx)("p",{className:"popup__server-error popup__server-error_active",children:c}),Object(l.jsx)("button",{type:"button",onClick:a,className:"popup__close"})]})})};var ve=function(e){var t=e.isOpen,n=e.onClose,a=e.responseError,c=e.setResponseError;return Object(l.jsx)(xe,{isOpen:t,title:"\u041e\u0448\u0438\u0431\u043a\u0430!",message:a,onClose:function(){n(),setTimeout((function(){c("")}),400)}})},Ne=new(function(){function e(t){Object(G.a)(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}return Object(K.a)(e,[{key:"register",value:function(){var e=Object(H.a)(W.a.mark((function e(t,n,a,c){var s,r,i,o;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=fetch("".concat(this.baseUrl,"/users/signup/"),{method:"POST",headers:this.headers,body:JSON.stringify({first_name:t,username:n,email:a,password:c})}),e.next=3,s;case 3:return r=e.sent,e.next=6,r.json();case 6:if(i=e.sent,r.ok){e.next=11;break}return o=[],Object.keys(i).forEach((function(e){o.push("".concat(e,": ").concat(i[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(o.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(i)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"authorize",value:function(){var e=Object(H.a)(W.a.mark((function e(t,n){var a,c,s,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fetch("".concat(this.baseUrl,"/users/signin/"),{method:"POST",headers:this.headers,body:JSON.stringify({username:t,password:n})}),e.next=3,a;case 3:return c=e.sent,e.next=6,c.json();case 6:if(s=e.sent,c.ok){e.next=11;break}return r=[],Object.keys(s).forEach((function(e){r.push("".concat(e,": ").concat(s[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(r.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(s)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(H.a)(W.a.mark((function e(t,n,a){var c,s,r,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=fetch("".concat(this.baseUrl,"/users/change-password/"),{method:"PATCH",headers:this.headers,body:JSON.stringify({old_password:t,new_password:n,new_password_again:a})}),e.next=3,c;case 3:return s=e.sent,e.next=6,s.json();case 6:if(r=e.sent,s.ok){e.next=11;break}return i=[],Object.keys(r).forEach((function(e){i.push("".concat(e,": ").concat(r[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(i.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(r)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getContent",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/users/me/"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(t)}}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=11;break}return s=[],Object.keys(c).forEach((function(e){s.push("".concat(e,": ").concat(c[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(s.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(c)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/users/reset-password/"),{method:"POST",headers:this.headers,body:JSON.stringify({email:t})}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=11;break}return s=[],Object.keys(c).forEach((function(e){s.push("".concat(e,": ").concat(c[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(s.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(c)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())({baseUrl:S,headers:{Accept:"application/json","Content-Type":"application/json"}});var ke=function(){var e=Object(u.g)(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),i=Object(o.a)(r,2),d=i[0],h=i[1],f=Object(a.useState)([]),p=Object(o.a)(f,2),_=p[0],O=p[1],g=Object(a.useState)({}),x=Object(o.a)(g,2),v=x[0],N=x[1],S=Object(a.useState)(""),y=Object(o.a)(S,2),w=y[0],P=y[1],E=Object(a.useState)(""),C=Object(o.a)(E,2),F=C[0],I=C[1],R=Object(a.useState)({}),T=Object(o.a)(R,2),A=T[0],L=T[1],D=Object(a.useState)({}),U=Object(o.a)(D,2),M=U[0],B=U[1],z=Object(a.useState)({}),J=Object(o.a)(z,2),q=J[0],W=J[1],H=Object(a.useState)([]),G=Object(o.a)(H,2),K=G[0],X=G[1],Y=Object(a.useState)(""),ne=Object(o.a)(Y,2),ae=ne[0],ce=ne[1],se=Object(a.useState)([]),re=Object(o.a)(se,2),oe=re[0],de=re[1],je=Object(a.useState)({}),be=Object(o.a)(je,2),he=be[0],fe=be[1],_e=Object(a.useState)([]),Oe=Object(o.a)(_e,2),xe=Oe[0],ke=Oe[1],Se=Object(a.useState)(""),ye=Object(o.a)(Se,2),we=ye[0],Pe=ye[1],Ee=Object(a.useState)(""),Ce=Object(o.a)(Ee,2),Fe=Ce[0],Ie=Ce[1],Re=Object(a.useState)(""),Te=Object(o.a)(Re,2),Ae=Te[0],Le=Te[1],De=Object(a.useState)(!1),Ue=Object(o.a)(De,2),Me=Ue[0],Be=Ue[1],ze=Object(a.useState)(""),Je=Object(o.a)(ze,2),qe=Je[0],We=Je[1];function He(){Be(!1)}function Ge(e){var t=e.page,n=e.author,a=e.loadedElementsContainer;V.getRecipes({page:t,author:n,tagBreakfast:we,tagDinner:Fe,tagSupper:Ae}).then((function(e){n?(O(e.results),N({count:e.count,next:e.next,previous:e.previous})):(h(e.results),L({count:e.count,next:e.next,previous:e.previous})),a&&(a.classList.remove("disappearAnimation"),a.classList.add("appearAnimation"))})).catch((function(e){We(e),Be(!0)}))}function Ke(e){var t=e.page,n=e.loadedElementsContainer;V.getSubscriptions({page:t}).then((function(e){de(e.results),fe({count:e.count,next:e.next,previous:e.previous}),n&&(n.classList.remove("disappearAnimation"),n.classList.add("appearAnimation"))})).catch((function(e){We(e),Be(!0)}))}function Ve(e,t){V.subscribe(e).then((function(){t(!0),Ke({})})).catch((function(e){We(e),Be(!0)}))}function Qe(e){var t=e.subscriptionId,n=e.setIsUserisSubscribed,a=e.page;V.unsubscribe(t).then((function(){Ke({page:a}),n&&n(!1)})).catch((function(e){We(e),Be(!0)}))}function Xe(e){var t=e.page,n=e.loadedElementsContainer;V.getFavoritesRecipes({page:t,tagBreakfast:we,tagDinner:Fe,tagSupper:Ae}).then((function(e){var t=[];e.results.forEach((function(e){return t.push(e.favorite)})),X(e.results),B({count:e.count,next:e.next,previous:e.previous}),n&&(n.classList.remove("disappearAnimation"),n.classList.add("appearAnimation"))}))}function Ye(){V.getPurchases().then((function(e){ke(e)})).catch((function(e){We(e),Be(!0)}))}function Ze(e){Ge({author:e})}function $e(){Pe(we?"":"&tag__name=\u0437\u0430\u0432\u0442\u0440\u0430\u043a")}function et(){Ie(Fe?"":"&tag__name=\u043e\u0431\u0435\u0434")}function tt(){Le(Ae?"":"&tag__name=\u0443\u0436\u0438\u043d")}function nt(e){V.addPurchase(e).then((function(){Ye()})).catch((function(e){We(e),Be(!0)}))}function at(e){V.deletePurchase(e).then((function(){Ye()})).catch((function(e){We(e),Be(!0)}))}function ct(e,t,n,a,c){V.addToFavoritesRecipes(e).then((function(){Ge(a?{page:t,author:n}:{}),Xe(c?{page:t}:{})})).catch((function(e){We(e),Be(!0)}))}function st(e,t,n,a,c){V.deleteFromFavoritesRecipes(e).then((function(){Ge(a?{page:t,author:n}:{}),Xe(c?{page:t}:{})})).catch((function(e){We(e),Be(!0)}))}function rt(e){return" ".concat(e.replace("&author__username=",""))}function it(e,t){return Object(l.jsxs)("div",{className:"main__header appearAnimation",children:[Object(l.jsx)("h1",{className:"main__title",children:t?rt(t):e}),["\u0420\u0435\u0446\u0435\u043f\u0442\u044b","\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"].includes(e)&&Object(l.jsx)(m,{main:!0,onSetTagBreakfast:$e,onSetTagTagDinner:et,onSetTagTagSupper:tt,tagBreakfast:we,tagDinner:Fe,tagSupper:Ae})]})}return Object(a.useEffect)((function(){function e(e){"Escape"===e.key&&He()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),Object(a.useEffect)((function(){s(!1),function(){var t=localStorage.getItem("token");t?Ne.getContent(t).then((function(e){e&&(V.headers.Authorization="Token ".concat(t),Ne.headers.Authorization="Token ".concat(t),W({name:e.first_name,username:e.username,email:e.email}),ce(""),s(!0))})).catch((function(t){localStorage.removeItem("jwt"),W({}),s(!1),e.push("/signin"),console.log(t)})):(localStorage.removeItem("jwt"),W({}),s(!1))}()}),[]),Object(a.useEffect)((function(){c&&Xe({})}),[c]),Object(a.useEffect)((function(){c&&Ye()}),[c]),Object(a.useEffect)((function(){w&&Ge({author:w}),Ge({}),c&&Xe({})}),[we,Fe,Ae]),Object(a.useEffect)((function(){Ge(w?{author:w}:{})}),[c,w]),Object(a.useEffect)((function(){c&&Ke({})}),[c]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(k.Provider,{value:q,children:[Object(l.jsx)(j,{isLoggedIn:c,onExit:function(){localStorage.removeItem("token"),W({}),s(!1),e.push("/signin")},purchases:xe}),Object(l.jsxs)("main",{className:"container main",children:[Object(l.jsxs)(u.d,{children:[Object(l.jsxs)(u.b,{exact:!0,path:"/",children:[it("\u0420\u0435\u0446\u0435\u043f\u0442\u044b"),Object(l.jsx)(Q,{recipes:d,favoriteRecipes:K,onAddToFavorites:ct,onDeleteFromFavorites:st,onAddPurchase:nt,recipesPagination:A,getRecipes:Ge,onAuthorClick:Ze,setSelectedAuthor:P,onDeletePurchase:at,purchases:xe,setResponseError:We,setIsOpenInfoTooltip:Be})]}),Object(l.jsxs)(u.b,{path:"/signup",children:[it("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),Object(l.jsx)(Z,{onSubmit:function(t,n,a,c,r){Ne.register(t,n,a,c).then((function(t){t.token&&(localStorage.setItem("token",t.token),V.headers.Authorization="Token ".concat(t.token),Ne.headers.Authorization="Token ".concat(t.token),W({name:t.first_name,username:t.username,email:t.email}),s(!0),ce(""),e.push("/"))})).catch((function(e){ce(e)})).finally((function(){r(!1)}))},serverError:ae})]}),Object(l.jsxs)(u.b,{path:"/signin",children:[it("\u0412\u043e\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442"),Object(l.jsx)($,{onSubmit:function(t,n,a){Ne.authorize(t,n).then((function(t){t.token&&Ne.getContent(t.token).then((function(n){localStorage.setItem("token",t.token),V.headers.Authorization="Token ".concat(t.token),Ne.headers.Authorization="Token ".concat(t.token),W({name:n.first_name,username:n.username,email:n.email}),s(!0),ce(""),e.push("/")}))})).catch((function(e){ce(e)})).finally((function(){a(!1)}))},serverError:ae})]}),Object(l.jsxs)(u.b,{path:"/reset-password",children:[it("\u0421\u0431\u0440\u043e\u0441 \u043f\u0430\u0440\u043e\u043b\u044f"),Object(l.jsx)(ee,{onSubmit:function(e,t){Ne.resetPassword(e).then((function(e){I(e),ce("")})).catch((function(e){ce(e)})).finally((function(){t(!1)}))},serverError:ae,resetPasswordResponse:F,setServerError:ce,setResetPasswordResponse:I})]}),Object(l.jsxs)(u.b,{path:"/change-password",children:[it("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),Object(l.jsx)(te,{onSubmit:function(t,n,a,c){Ne.changePassword(t,n,a).then((function(){localStorage.removeItem("token"),s(!1),W({}),ce(""),e.push("/signin")})).catch((function(e){ce(e)})).finally((function(){c(!1)}))},serverError:ae})]}),Object(l.jsx)(ge,{path:"/my-follow",header:"\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438",renderMainHeader:it,component:ie,onUnsubscribe:Qe,subscriptions:oe,getSubscriptions:Ke,subscriptionsPagination:he,setResponseError:We,setIsOpenInfoTooltip:Be}),Object(l.jsx)(ge,{path:"/form-recipe/:recipeId",header:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",renderMainHeader:it,component:ue,onSubmit:function(e,t,n,a,c){t.append("ingredient",JSON.stringify(e.ingredient)),t.append("tag",JSON.stringify(e.tag)),V.updateRecipe(t,n,a).then((function(){ce(""),window.location.assign("/")})).catch((function(e){ce(e)})).finally((function(){c(!1)}))},serverError:ae,onDelete:function(e){V.deleteRecipe(e).then((function(){window.location.assign("/"),ce("")})).catch((function(e){ce(e)}))}}),Object(l.jsx)(ge,{path:"/form-recipe/",header:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",renderMainHeader:it,component:ue,onSubmit:function(e,t,n){t.append("ingredient",JSON.stringify(e.ingredient)),t.append("tag",JSON.stringify(e.tag)),V.postRecipe(e,t,n).then((function(){ce(""),window.location.assign("/")})).catch((function(e){ce(e)}))},serverError:ae,setResponseError:We,setIsOpenInfoTooltip:Be}),Object(l.jsx)(ge,{path:"/favorite/",header:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",renderMainHeader:it,component:le,onAddToFavorites:ct,onDeleteFromFavorites:st,onAddPurchase:nt,favoritesPagination:M,recipes:K,getFavoritesRecipes:Xe,onDeletePurchase:at,purchases:xe}),Object(l.jsx)(ge,{path:"/shop-list",header:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a",renderMainHeader:it,component:me,purchases:xe,onDeletePurchase:at,onDownload:function(e){V.download(e).then((function(e){!function(e){var t=document.createElement("a"),n=new Blob([e],{type:"application/text"});t.href=URL.createObjectURL(n),t.download="example.txt",t.click()}(e)})).catch((function(e){We(e),Be(!0)}))}}),Object(l.jsx)(u.b,{path:"/single-page/:recipeId",children:Object(l.jsx)(pe,{onSubscribe:Ve,onUnsubscribe:Qe,subscriptions:oe,onAddToFavorites:ct,onDeleteFromFavorites:st,onAddPurchase:nt,favoriteRecipes:K,onDeletePurchase:at,purchases:xe,setResponseError:We,setIsOpenInfoTooltip:Be})}),Object(l.jsxs)(u.b,{path:"/recipes/:author",children:[it("\u0420\u0435\u0446\u0435\u043f\u0442\u044b",w),Object(l.jsx)(Q,{recipes:_,favoriteRecipes:K,onAddToFavorites:ct,onDeleteFromFavorites:st,onAddPurchase:nt,recipesPagination:v,getRecipes:Ge,onAuthorClick:Ze,selectedAuthor:w,setSelectedAuthor:P,onSubscribe:Ve,onUnsubscribe:Qe,subscriptions:oe,onDeletePurchase:at,purchases:xe})]}),Object(l.jsx)(u.b,{children:Object(l.jsx)(u.a,{to:"/"})})]}),Object(l.jsx)(ve,{isOpen:Me,onClose:He,responseError:qe,setResponseError:We})]}),Object(l.jsx)(b,{})]})})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(i.a,{children:Object(l.jsx)(ke,{})})}),document.getElementById("root")),Se()}],[[74,1,2]]]);
//# sourceMappingURL=main.da1fc60b.chunk.js.map