{"version":3,"sources":["components/Nav/Nav.js","components/Header/Header.js","components/Footer/Footer.js","components/Tags/Tags.js","components/CardList/CardList.js","images/testCardImg.png","components/Badge/Badge.js","utils/renderTags.js","ui/iconFavorite/iconFavorite.js","ui/iconPlus/iconPlus.js","ui/iconMinus/iconMinus.js","context/CurrentUserContext.js","utils/constants.js","utils/pagination.js","components/Button/Button.js","components/Card/Card.js","ui/iconLeft/iconLeft.js","ui/iconRight/iconRight.js","components/Pagination/Pagination.js","utils/Api.js","components/Recipes/Recipes.js","components/Form/Form.js","components/SubmitButton/SubmitButton.js","components/FromReg/FormReg.js","components/FormAuth/FormAuth.js","components/FormResetPassword/FormResetPassword.js","components/FormChangePassword/FormChangePassword.js","components/Recipe/Recipe.js","utils/getEndingsOfNumber.js","components/CardUser/CardUser.js","components/MyFollow/MyFollow.js","components/FormRecipeDropdownBlock/FormRecipeDropdownBlock.js","components/FormRecipe/FormRecipe.js","components/Favorite/Favorite.js","components/ShopListItem/ShopListItem.js","components/ShopList/ShopList.js","ui/iconTime/iconTime.js","ui/iconUser/iconUser.js","components/Preloader/Preloader.js","components/SingleRecipePage/SingleRecipePage.js","images/defaultImage.jpg","components/ProtectedRoute/ProtectedRoute.js","components/Popup/Popup.js","components/InfoTooltip/InfoTooltip.js","utils/Auth.js","components/App/App.js","utils/downloadFile.js","reportWebVitals.js","index.js"],"names":["Nav","isLoggedIn","onExit","purchases","className","exact","to","activeClassName","id","length","onClick","Header","Footer","href","Tags","main","selectedTags","onTagClick","onSetTagBreakfast","onSetTagTagDinner","onSetTagTagSupper","tagBreakfast","tagDinner","tagSupper","tagListRef","useRef","handleClick","e","target","value","classList","toggle","contains","remove","add","useEffect","current","Array","prototype","slice","call","children","forEach","li","includes","firstChild","elems","tags","map","tag","replace","item","ref","type","htmlFor","CardList","column","cn","Badge","tagName","renderTags","name","IconFavorite","active","big","IconPlus","IconMinus","React","createContext","SERVER_INTERNAL_URL","API_BASE_URL","animatedGetItem","page","author","paginatorElements","containerWithLoadableItems","getItems","elem","find","Promise","resolve","setTimeout","then","loadedElementsContainer","getLengthOfPreviousPageNumber","pagination","previous","indexOf","getLengthOfNextPageNumber","next","cutPageNumberFromUrl","lengthOfPageNumber","substr","cutPageFromUrl","getCurrentPageNumber","getCurrentPageNumberWithRemovingItems","currentPage","Math","ceil","count","floor","getPaginationItem","key","pagination__item_active","getPaginationItemPlug","disabled","renderPaginationItem","params","selectedAuthor","paginatorRef","containerWithLoadableItemsRef","handlePageClick","paginatorItems","items","lastPage","i","push","Button","text","blue","lightBlue","sizeAuto","sizeSubscribe","styleNone","lightOrange","underline","loading","favorite","buttonClassBame","button_size_auto","button_style_blue","button_disabled","button_size_subscribe","button_style_none","button_style_underline","button_saving","Card","allRecipesPage","favoriteRecipesPage","subscribers","recipeId","recipeName","cookingTime","image","onAddToFavorites","onDeleteFromFavorites","onAddPurchase","onDeletePurchase","useState","saveLoading","setSaveLoading","purchaseLoading","setPurchaseLoading","deleting","setDeleting","isCardFavorite","setIsCardFavorite","purchaseId","setPurchaseId","currentUser","useContext","CurrentUserContext","cardRef","isSaved","some","username","purchase","disappearAnimationLong","data-id","src","testCardImg","alt","memo","IconLeft","inactive","IconRight","Pagination","aria-label","handlePreviousClick","handleNextClick","api","options","this","baseUrl","headers","a","loadingRecipes","fetch","response","json","recipes","ok","reject","message","loadingRecipe","recipe","method","status","startsWith","loadingIngredients","ingredients","formElem","token","loadingResponse","Authorization","body","responseData","errors","Object","keys","join","get","size","delete","JSON","stringify","blob","Recipes","favoriteRecipes","recipesPagination","getRecipes","onAuthorClick","setSelectedAuthor","onSubscribe","onUnsubscribe","subscriptions","setResponseError","setIsOpenInfoTooltip","useParams","isUserIsSubscribed","setIsUserIsSubscribed","recipesRef","getSubscriptions","data","results","catch","err","subscriptionId","cooking_time","image_url","Form","formRef","onSubmit","SubmitButton","FormReg","serverError","setLoading","setName","nameError","setNameError","setUsername","usernameError","setUsernameError","email","setEmail","emailError","setEmailError","password","setPassword","passwordError","setPasswordError","preventDefault","onChange","validationMessage","minLength","required","form__error_active","form__error_server_active","FormAuth","maxLength","FormResetPassword","resetPasswordResponse","setServerError","setResetPasswordResponse","FormChangePassword","oldPassword","setOldPassword","oldPasswordError","setOldPasswordError","newPassword","setNewPassword","newPasswordError","setNewPasswordError","newPasswordAgain","setNewPasswordAgain","newPasswordAgainError","setNewPasswordAgainError","Recipe","getNumberEnding","number","stringNumber","toString","endsWith","CardUser","subscription","recipesList","setRecipesList","setRecipes","data-author","MyFollow","subscriptionsPagination","header","renderMainHeader","followsRef","FormRecipeDropdownBlock","ingredientList","onItemClick","units","ingredient","bind","FormRecipe","onDelete","setRecipeName","recipeNameError","setRecipeNameError","nameIngredient","setNameIngredient","nameUnits","setNameUnits","amountUnits","setAmountUnits","setCookingTime","cookingTimeError","setCookingTimeError","description","setDescription","descriptionError","setDescriptionError","setImage","setTags","ingredientChoiseList","setIngredientChoiseList","formDropdownRef","formGroupRef","showSubmitHint","setShowSubmitHint","addedIngredients","setAddedIngredients","handleIngredientDelete","currentIngredient","newAddedIngredients","filter","amount","handleImageChange","document","addEventListener","removeEventListener","getRecipe","dataTags","FormData","localStorage","getItem","selectedTag","newTags","getIngredients","min","max","rows","vaule","getElementById","Favorite","favoritesPagination","getFavoritesRecipes","favoriteRecipesRef","ShopListItem","shopItemRef","ShopList","onDownload","purchaseData","IconTime","IconUser","Preloader","SingleRecipePage","recipeLoaded","setRecipeLoaded","setRecipe","getRecipeData","handleSubscribe","handleUnSubscribe","console","log","ProtectedRout","Component","component","props","path","history","useHistory","noAuthRedirect","Popup","isOpen","title","onClose","onMouseDown","evt","InfoTooltip","responseError","auth","loadingRegisterInfo","first_name","newUserRegistrationData","loadingAuthorizeInfo","authorizeData","loadingPasswordChangeInfo","old_password","new_password","new_password_again","changingPasswordData","contentInfo","Accept","App","setIsLoggedIn","authorRecipes","setAuthorRecipes","authorRecipesPagination","setAuthorRecipesPagination","setRecipesPagination","setFavoritesPagination","setCurrentUser","setFavoriteRecipes","setSubscriptions","setSubscriptionsPagination","setPurchases","setTagBreakfast","setTagDinner","setTagSupper","isOpenInfoTooltip","closeAllPopups","subscriptionsData","setIsUserisSubscribed","subscribe","handleUnsubscribe","unsubscribe","favorites","favoriteRiceps","getPurchases","purchasesData","handleAuthorClick","authorName","handleSetTagBreakfast","handleSetTagDinner","handleSetTagSupper","handleAddToPurchase","addPurchase","handleDeletePurchase","deletePurchase","handleAddToFavorites","addToFavoritesRecipes","handleRemoveFromFavorites","deleteFromFavoritesRecipes","renderTitleName","currentAuthor","handleEscClose","getContent","user","removeItem","tokenCheck","Provider","register","newUserInfo","setItem","finally","authorize","resetPassword","changePassword","ProtectedRoute","append","updateRecipe","window","location","assign","deleteRecipe","postRecipe","downloadPurchases","download","createElement","file","Blob","URL","createObjectURL","click","downloadAsFile","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e54a5117.chunk.js","sourcesContent":["import React from 'react';\nimport './Nav.css';\nimport { NavLink } from 'react-router-dom';\n\nfunction Nav({ isLoggedIn, onExit, purchases }) {\n  return (\n    <nav className=\"nav\">\n      <div className=\"nav__container container\">\n        {isLoggedIn ? (\n          <ul className=\"nav__items list\">\n            <li className=\"nav__item\"><NavLink exact to=\"/\" activeClassName=\"nav__link_active\" className=\"nav__link link\">Рецепты</NavLink></li>\n            <li className=\"nav__item\"><NavLink to=\"/my-follow\" activeClassName=\"nav__link_active\" className=\"nav__link link\">Мои подписки</NavLink></li>\n            <li className=\"nav__item\"><NavLink to=\"/form-recipe\" activeClassName=\"nav__link_active\" className=\"nav__link link\">Создать рецепт</NavLink></li>\n            <li className=\"nav__item\"><NavLink to=\"/favorite\" activeClassName=\"nav__link_active\" className=\"nav__link link\">Избранное</NavLink></li>\n            <li className=\"nav__item\">\n              <NavLink to=\"/shop-list\" activeClassName=\"nav__link_active\" className=\"nav__link link\">Список покупок</NavLink>\n              <span className=\"badge badge_style_blue nav__badge\" id=\"counter\">\n                {(purchases.length > 0) ? purchases.length : ''}\n              </span>\n            </li>\n          </ul>\n        ) : (\n          <ul className=\"nav__items list\">\n            <li className=\"nav__item nav__item_disabled\"><NavLink exact to=\"/\" activeClassName=\"nav__link_active\" className=\"nav__link link\">Рецепты</NavLink></li>\n            <li className=\"nav__item nav__item_disabled\"><p className=\"nav__link link nav__link_disabled\">Список покупок</p></li>\n          </ul>\n        )}\n        {isLoggedIn ? (\n          <ul className=\"nav__items list\">\n            <li className=\"nav__item\"><NavLink to=\"/change-password\" activeClassName=\"nav__link_active\" className=\"nav__link link\">Изменить пароль</NavLink></li>\n            <li className=\"nav__item\"><NavLink to=\"/signin\" onClick={onExit} activeClassName=\"nav__link_active\" className=\"nav__link link\">Выход</NavLink></li>\n          </ul>\n        ) : (\n          <ul className=\"nav__items list\">\n            <li className=\"nav__item\"><NavLink activeClassName=\"nav__link_active\" to=\"/signin\" className=\"nav__link link\">Войти</NavLink></li>\n            <li className=\"nav__item\"><NavLink activeClassName=\"nav__link_active\" to=\"/signup\" className=\"button button_style_blue\">Создать аккаунт</NavLink></li>\n          </ul>\n        )}\n      </div>\n    </nav>\n  );\n}\n\nexport default Nav;\n","import React from 'react';\nimport Nav from '../Nav/Nav';\n\nfunction Header({ isLoggedIn, onExit, purchases }) {\n  return (\n    <header className=\"header\">\n      <Nav\n        isLoggedIn={isLoggedIn}\n        onExit={onExit}\n        purchases={purchases}\n      />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport './Footer.css';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__container container\">\n        <a href=\"/\" className=\"footer__brand link\">Продуктовый помощник</a>\n        <ul className=\"footer__items\">\n          <li className=\"footer__item\"><a href=\"/\" className=\"footer__link link\">Об авторе </a></li>\n          <li className=\"footer__item\"><a href=\"/\" className=\"footer__link link\">Технологии</a></li>\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useEffect, useRef } from 'react';\nimport './Tags.css';\n\nfunction Tags({\n  main,\n  selectedTags,\n  onTagClick,\n  onSetTagBreakfast,\n  onSetTagTagDinner,\n  onSetTagTagSupper,\n  tagBreakfast,\n  tagDinner,\n  tagSupper,\n}) {\n  const tagListRef = useRef();\n  function handleClick(e) {\n    if (main) {\n      if (e.target.value === 'завтрак') {\n        e.target.classList.toggle('tags__checkbox_active');\n        onSetTagBreakfast();\n      }\n      if (e.target.value === 'обед') {\n        e.target.classList.toggle('tags__checkbox_active');\n        onSetTagTagDinner();\n      }\n      if (e.target.value === 'ужин') {\n        e.target.classList.toggle('tags__checkbox_active');\n        onSetTagTagSupper();\n      }\n    } else if (e.target.classList.contains('tags__checkbox_active')) {\n      const remove = true;\n      onTagClick(remove, e.target.value);\n      e.target.classList.remove('tags__checkbox_active');\n    } else {\n      const remove = false;\n      onTagClick(remove, e.target.value);\n      e.target.classList.add('tags__checkbox_active');\n    }\n  }\n\n  useEffect(() => {\n    if (selectedTags) {\n      if (selectedTags.length > 0 && tagListRef.current) {\n        Array.prototype.slice.call(tagListRef.current.children).forEach((li) => {\n          if (selectedTags.includes(li.firstChild.value)) li.firstChild.classList.add('tags__checkbox_active');\n        });\n      }\n    }\n  }, [selectedTags]);\n\n  // проверка, какие теги отмечены\n  useEffect(() => {\n    if (main && tagListRef.current) {\n      const elems = Array.prototype.slice.call(tagListRef.current.children);\n      const tags = [tagBreakfast, tagDinner, tagSupper].map((tag) => (\n        tag.replace('&tag__name=', '')\n      ));\n      elems.forEach((item) => {\n        if (tags.includes(item.firstChild.value)) {\n          item.firstChild.classList.add('tags__checkbox_active');\n        }\n      });\n    }\n  }, [tagBreakfast, tagDinner, tagSupper]);\n\n  return (\n    <ul ref={tagListRef} className=\"tags\">\n      <li className=\"tags__item\">\n        <button value=\"завтрак\" onClick={handleClick} type=\"button\" id=\"breakfast\" className=\"tags__checkbox tags__checkbox_style_orange\" />\n        <span className=\"tags__label\">Завтрак</span>\n      </li>\n      <li className=\"tags__item\">\n        <button value=\"обед\" onClick={handleClick} type=\"button\" id=\"lunch\" className=\"tags__checkbox tags__checkbox_style_green\" />\n        <span htmlFor=\"lunch\" className=\"tags__label\">Обед</span>\n      </li>\n      <li className=\"tags__item\">\n        <button value=\"ужин\" onClick={handleClick} type=\"button\" id=\"dinner\" className=\"tags__checkbox tags__checkbox_style_purple\" />\n        <span htmlFor=\"dinner\" className=\"tags__label\">Ужин</span>\n      </li>\n    </ul>\n  );\n}\n\nexport default Tags;\n","import React from 'react';\nimport './CardList.css';\nimport cn from 'classnames';\n\nfunction CardList({ children, column }) {\n  const className = cn('card-list', { 'card-list_column': column });\n  return (\n    <div className={className}>\n      {children}\n    </div>\n  );\n}\n\nexport default CardList;\n","export default __webpack_public_path__ + \"static/media/testCardImg.1b1bdc76.png\";","import React from 'react';\nimport './Badge.css';\n\nfunction Badge({ className, tagName }) {\n  return (\n    <li key={tagName} className=\"card__item\"><span className={`badge ${className}`}>{tagName}</span></li>\n  );\n}\n\nexport default Badge;\n","import React from 'react';\nimport Badge from '../components/Badge/Badge';\n\nexport default function renderTags(tags) {\n  let className;\n  if (tags) {\n    return tags.map((tag) => {\n      if (tag.name === 'завтрак') {\n        className = 'badge_style_orange';\n      } else if (tag.name === 'обед') {\n        className = 'badge_style_green';\n      } else {\n        className = 'badge_style_purple';\n      }\n      return (\n        <Badge\n          key={tag.name}\n          className={className}\n          tagName={tag.name}\n        />\n      );\n    });\n  }\n  return '';\n}\n","import React from 'react';\nimport './iconFavorite.css';\nimport cn from 'classnames';\n\nfunction IconFavorite({ active, big }) {\n  return (\n    <span className={cn('icon-favorite', { 'icon-favorite_big': big }, { 'icon-favorite_active': active })} />\n  );\n}\n\nexport default IconFavorite;\n","import React from 'react';\nimport './iconPlus.css';\n\nfunction IconPlus() {\n  return (\n    <span className=\"icon-plus button__icon\" />\n  );\n}\n\nexport default IconPlus;\n","import React from 'react';\nimport './iconMinus.css';\n\nfunction IconMinus() {\n  return (\n    <span className=\"icon-minus button__icon\" />\n  );\n}\n\nexport default IconMinus;\n","import React from 'react';\n\nexport default React.createContext();\n","export const API_BASE_URL_3 = 'http://127.0.0.1:8000/api/v1';\nexport const SERVER_INTERNAL_URL = 'http://web:8000/';\n// export const API_BASE_URL = 'http://localhost:8000/api/v1';\n// export const API_BASE_URL = 'http://127.0.0.1/api/v1';\nexport const API_BASE_URL = 'http://www.api.foodgram.students.nomoredomains.icu/api/v1';\n","import React from 'react';\nimport cn from 'classnames';\nimport { SERVER_INTERNAL_URL } from './constants';\nimport '../components/appearAnimation/appearAnimation.css';\n\n// для изменения количества выдачи элементов на страницу поменять здесь и в settings.py\n// REST_FRAMEWORK, PAGE_SIZE\nexport const PAGE_SIZE = 6;\n\n// принимает страницу, которую надо запросить (в формате page=...),\n// автора для фильтрации рецептов по его авторству (в формате &author__username=..., т.к. в джанго\n// чтобы работал встроенный filter_fields, нужно указать username модели User, к которой относится поле автора рецепта),\n// paginatorElements - это уже массив детей текущего рефа на ul со всеми эдементами пагинатора (кнопки страниц и стрелочки)\n// для того, чтобы найти среди них активный и плавно снять активность (добавив класс декативации),\n// containerWithLoadableItems - это контейнер в котором ul в котором будут все запрашиваемые элементы. Контейнер плавно исчезает\n// добавлением класса disappearAnimation, затем передается в getItems. Там у него в дальшейшем после ответа базы данных\n// убиарется класс disappearAnimation и добавляется appearAnimation для плавного появления уже новых элементов\nfunction animatedGetItem(page, author, paginatorElements, containerWithLoadableItems, getItems) {\n  const elem = paginatorElements.find((item) => (\n    item.classList.contains('pagination__item_active')\n  ));\n  const promise = new Promise((resolve) => {\n    if (containerWithLoadableItems) {\n      containerWithLoadableItems.classList.add('disappearAnimation');\n    }\n    if (elem) {\n      elem.classList.add('pagination__item_deactive');\n    }\n    setTimeout(() => (\n      resolve('done')\n    ), 100);\n  });\n  promise.then(() => {\n    getItems({ page, author, loadedElementsContainer: containerWithLoadableItems });\n  });\n}\n\n// возвращает количество символов номера предыдущей станицы\nfunction getLengthOfPreviousPageNumber(pagination) {\n  return (\n    pagination.previous.slice(\n      pagination.previous.indexOf('page=') + 5,\n      (pagination.previous.indexOf('&', pagination.previous.indexOf('page=') + 5) !== -1) ? (pagination.previous.indexOf('&')) : pagination.previous.length,\n    ).length\n  );\n}\n\n// возвращает количество символов номера следующей станицы\nfunction getLengthOfNextPageNumber(pagination) {\n  return (\n    pagination.next.slice(\n      pagination.next.indexOf('page=') + 5,\n      (pagination.next.indexOf('&', pagination.next.indexOf('page=') + 5) !== -1) ? (pagination.next.indexOf('&')) : pagination.next.length,\n    ).length\n  );\n}\n\n// вырезает из url номер страницы\nfunction cutPageNumberFromUrl(page, lengthOfPageNumber) {\n  return page.substr(page.indexOf('page=', SERVER_INTERNAL_URL.length) + 5, lengthOfPageNumber);\n}\n\n// вырезает из url параметр запроса страницы (кусок page=...)\nfunction cutPageFromUrl(page, lengthOfPageNumber) {\n  return page.substr(page.indexOf('page=', SERVER_INTERNAL_URL.length), 5 + lengthOfPageNumber);\n}\n\n// возвращает текущую страницу, на которой сейчас пользователь\nexport function getCurrentPageNumber(pagination) {\n  if (pagination.previous) {\n    if (!pagination.previous.includes('page=')) {\n      return 'page=2';\n    }\n    const lengthOfPageNumber = getLengthOfPreviousPageNumber(pagination);\n    return `page=${+cutPageNumberFromUrl(pagination.previous, lengthOfPageNumber) + 1}`;\n  }\n  if (pagination.next) {\n    const lengthOfPageNumber = getLengthOfNextPageNumber(pagination);\n    return `page=${+cutPageNumberFromUrl(pagination.next, lengthOfPageNumber) - 1}`;\n  }\n  return 'page=1';\n}\n\n// возвращает текущую страницу, на которой сейчас пользователь\n// но учитывает случаи, когда удаляется последний элемент со страницы и нужно вернуть уже предыдущую\nexport function getCurrentPageNumberWithRemovingItems(pagination) {\n  let currentPage = +getCurrentPageNumber(pagination).replace('page=', '');\n  if ((currentPage === Math.ceil(pagination.count / PAGE_SIZE)) && (pagination.count - Math.floor(pagination.count / PAGE_SIZE) * PAGE_SIZE) === 1) {\n    currentPage -= 1;\n    if (currentPage === 0) currentPage = 1;\n  }\n  return `page=${currentPage}`;\n}\n\n// удаляет из строки page=... и возвращает только число\nfunction getOnlyNumOfPage(page) {\n  return +page.replace('page=', '');\n}\n\nexport function handlePreviousClick(params) {\n  const {\n    pagination,\n    getItems,\n    selectedAuthor,\n    paginatorRef,\n    containerWithLoadableItemsRef,\n  } = params;\n  const paginatorItems = Array.prototype.slice.call(paginatorRef.current.children);\n  let containerWithLoadableItems;\n  if (containerWithLoadableItemsRef) {\n    containerWithLoadableItems = containerWithLoadableItemsRef.current;\n  }\n  if (pagination.previous) {\n    if (pagination.previous.includes('page=')) {\n      const lengthOfPageNumber = getLengthOfPreviousPageNumber(pagination);\n      const page = cutPageFromUrl(pagination.previous, lengthOfPageNumber);\n      animatedGetItem(page, selectedAuthor, paginatorItems, containerWithLoadableItems, getItems);\n    } else {\n      const page = 'page=1';\n      animatedGetItem(page, selectedAuthor, paginatorItems, containerWithLoadableItems, getItems);\n    }\n  }\n}\n\nexport function handleNextClick(params) {\n  const {\n    pagination,\n    getItems,\n    selectedAuthor,\n    paginatorRef,\n    containerWithLoadableItemsRef,\n  } = params;\n  const paginatorItems = Array.prototype.slice.call(paginatorRef.current.children);\n  let containerWithLoadableItems;\n  if (containerWithLoadableItemsRef) {\n    containerWithLoadableItems = containerWithLoadableItemsRef.current;\n  }\n  if (pagination.next) {\n    const lengthOfPageNumber = getLengthOfNextPageNumber(pagination);\n    const page = cutPageFromUrl(pagination.next, lengthOfPageNumber);\n    animatedGetItem(page, selectedAuthor, paginatorItems, containerWithLoadableItems, getItems);\n  }\n}\n\nfunction getPaginationItem(key, onClick, pagination) {\n  return (\n    <li key={key} className={cn('pagination__item', { pagination__item_active: `page=${key}` === (getCurrentPageNumber(pagination)) })}>\n      <button onClick={onClick} type=\"button\" className=\"pagination__link link\" value={`page=${key}`}>\n        {key}\n      </button>\n    </li>\n  );\n}\n\nfunction getPaginationItemPlug(key) {\n  return (\n    <li key={key} className=\"pagination__item\">\n      <button disabled type=\"button\" className=\"pagination__link link\">\n        ...\n      </button>\n    </li>\n  );\n}\n\nexport function renderPaginationItem(params) {\n  const {\n    pagination,\n    getItems,\n    selectedAuthor,\n    paginatorRef,\n    containerWithLoadableItemsRef,\n  } = params;\n  function handlePageClick(e) {\n    const page = e.target.value;\n    const paginatorItems = Array.prototype.slice.call(paginatorRef.current.children);\n    let containerWithLoadableItems;\n    if (containerWithLoadableItemsRef) {\n      containerWithLoadableItems = containerWithLoadableItemsRef.current;\n    }\n    animatedGetItem(page, selectedAuthor, paginatorItems, containerWithLoadableItems, getItems);\n  }\n  const items = [];\n  const currentPage = getOnlyNumOfPage(getCurrentPageNumber(pagination));\n  const lastPage = Math.ceil(pagination.count / PAGE_SIZE);\n\n  if (lastPage <= 7) {\n    for (let i = 1; i <= Math.ceil(pagination.count / PAGE_SIZE); i += 1) {\n      items.push(getPaginationItem(i, handlePageClick, pagination));\n    }\n    return items;\n  }\n  if (currentPage >= 1 && currentPage <= 3) {\n    items.push(getPaginationItem(1, handlePageClick, pagination));\n    for (let i = 2; i <= 5; i += 1) {\n      items.push(getPaginationItem(i, handlePageClick, pagination));\n    }\n    items.push(getPaginationItemPlug('...'));\n    items.push(getPaginationItem(lastPage, handlePageClick, pagination));\n    return items;\n  }\n\n  if (currentPage - 3 === 1) {\n    for (let i = 1; i <= currentPage + 2; i += 1) {\n      items.push(getPaginationItem(i, handlePageClick, pagination));\n    }\n    items.push(getPaginationItemPlug('...'));\n    items.push(getPaginationItem(lastPage, handlePageClick, pagination));\n    return items;\n  }\n\n  if (currentPage + 3 >= lastPage) {\n    items.push(getPaginationItem(1, handlePageClick, pagination));\n    items.push(getPaginationItemPlug('...'));\n    for (let i = lastPage - 5; i <= lastPage; i += 1) {\n      items.push(getPaginationItem(i, handlePageClick, pagination));\n    }\n    return items;\n  }\n  items.push(getPaginationItem(1, handlePageClick, pagination));\n  items.push(getPaginationItemPlug('...'));\n  for (let i = currentPage - 2; i <= currentPage + 2; i += 1) {\n    items.push(getPaginationItem(i, handlePageClick, pagination));\n  }\n  items.push(getPaginationItemPlug('...2'));\n  items.push(getPaginationItem(lastPage, handlePageClick, pagination));\n  return items;\n}\n","import React from 'react';\nimport './Button.css';\nimport cn from 'classnames';\n\nfunction Button({\n  text,\n  blue,\n  lightBlue,\n  sizeAuto,\n  onClick,\n  disabled,\n  sizeSubscribe,\n  styleNone,\n  lightOrange,\n  underline,\n  loading,\n  favorite,\n}) {\n  const buttonClassBame = cn(\n    'button',\n    { 'button_style_light-blue': lightBlue },\n    { button_size_auto: sizeAuto },\n    { button_style_blue: blue },\n    { button_disabled: (disabled && !favorite) },\n    { button_size_subscribe: sizeSubscribe },\n    { button_style_none: styleNone },\n    { 'button_style_light-orange': lightOrange },\n    { button_style_underline: underline },\n    { button_saving: loading },\n  );\n  return (\n    <button onClick={onClick} type=\"button\" className={buttonClassBame} name=\"subscribe\" disabled={disabled}>\n      {text}\n    </button>\n  );\n}\n\nexport default Button;\n","import React, {\n  useContext,\n  useEffect,\n  useState,\n  useRef,\n} from 'react';\nimport { Link } from 'react-router-dom';\nimport cn from 'classnames';\nimport './Card.css';\nimport '../appearAnimation/appearAnimation.css';\nimport testCardImg from '../../images/testCardImg.png';\nimport renderTags from '../../utils/renderTags';\nimport IconFavorite from '../../ui/iconFavorite/iconFavorite';\nimport IconPlus from '../../ui/iconPlus/iconPlus';\nimport IconMinus from '../../ui/iconMinus/iconMinus';\nimport CurrentUserContext from '../../context/CurrentUserContext';\nimport { getCurrentPageNumber, getCurrentPageNumberWithRemovingItems } from '../../utils/pagination';\nimport Button from '../Button/Button';\n\nfunction Card({\n  allRecipesPage,\n  favoriteRecipesPage,\n  subscribers,\n  recipeId,\n  recipeName,\n  tags,\n  cookingTime,\n  image,\n  author,\n  onAddToFavorites,\n  onDeleteFromFavorites,\n  onAddPurchase,\n  pagination,\n  selectedAuthor,\n  onDeletePurchase,\n  purchases,\n}) {\n  const [saveLoading, setSaveLoading] = useState(true);\n  const [purchaseLoading, setPurchaseLoading] = useState(false);\n  const [deleting, setDeleting] = useState(false);\n  const [isCardFavorite, setIsCardFavorite] = useState(false);\n  const [purchaseId, setPurchaseId] = useState('');\n  const currentUser = useContext(CurrentUserContext);\n  const cardRef = useRef();\n\n  function handleAddToPurchase() {\n    setPurchaseLoading(true);\n    onAddPurchase(recipeId);\n  }\n\n  function handlePurchaseDelete() {\n    onDeletePurchase(purchaseId);\n    setPurchaseLoading(true);\n  }\n\n  function handleAddToFavorites() {\n    setSaveLoading(true);\n    onAddToFavorites({\n      recipeId,\n      page: getCurrentPageNumber(pagination),\n      author: selectedAuthor,\n      allRecipesPage,\n      favoriteRecipesPage,\n    });\n  }\n\n  function handleRemoveFromFavorites() {\n    setDeleting(true);\n    setSaveLoading(true);\n    onDeleteFromFavorites({\n      recipeId,\n      page: allRecipesPage ? getCurrentPageNumber(pagination) : getCurrentPageNumberWithRemovingItems(pagination),\n      author: selectedAuthor,\n      allRecipesPage,\n      favoriteRecipesPage,\n    });\n  }\n\n  useEffect(() => {\n    if (allRecipesPage) {\n      const isSaved = subscribers.some((item) => (\n        item.username === currentUser.username\n      ));\n      setIsCardFavorite(isSaved);\n      setSaveLoading(false);\n    } else {\n      setIsCardFavorite(true);\n      setSaveLoading(false);\n    }\n  }, [subscribers]);\n\n  useEffect(() => {\n    if (purchases) {\n      if (purchases.length === 0) {\n        setPurchaseId('');\n      } else {\n        const purchase = purchases.find((item) => (\n          item.purchase.id === recipeId\n        ));\n        if (purchase) {\n          setPurchaseId(purchase.id);\n        } else {\n          setPurchaseId('');\n        }\n      }\n    }\n    setPurchaseLoading(false);\n  }, [purchases]);\n\n  return (\n    <div ref={cardRef} className={cn('card', 'appearAnimation', { disappearAnimationLong: (deleting && !allRecipesPage) })} data-id={`recipe__${recipeId}`}>\n      <Link to={`/single-page/${recipeId}`} className=\"link card__image-link\">\n        <img src={image || testCardImg} alt={recipeName} className=\"card__image\" />\n      </Link>\n      <div className=\"card__body\">\n        <Link className=\"card__title link\" to={`/single-page/${recipeId}`}>{recipeName}</Link>\n        <ul className=\"card__items\">\n          {renderTags(tags)}\n        </ul>\n        <div className=\"card__items card__items_column\">\n          <p className=\"card__text\">\n            <span className=\"icon-time\" />\n            {` ${cookingTime} мин.`}\n          </p>\n          <p className=\"card__text\">\n            <span className=\"icon-user\" />\n            <Link to={`/recipes/${author}`} className=\"card__name-link\">{` ${author}`}</Link>\n          </p>\n        </div>\n      </div>\n      <div className=\"card__footer\">\n        {(purchaseId && currentUser.username) ? (\n          <Button\n            text={(\n              <>\n                <IconMinus />\n                Убрать из покупок\n              </>\n            )}\n            onClick={handlePurchaseDelete}\n            lightOrange\n            disabled={!currentUser.username || purchaseLoading}\n          />\n\n        ) : (\n          <Button\n            text={(\n              <>\n                <IconPlus />\n                Добавить в покупки\n              </>\n            )}\n            onClick={handleAddToPurchase}\n            lightBlue\n            disabled={!currentUser.username || purchaseLoading}\n          />\n        )}\n\n        {currentUser.username && (\n          <Button\n            onClick={isCardFavorite ? handleRemoveFromFavorites : handleAddToFavorites}\n            loading={saveLoading}\n            favorite\n            disabled={saveLoading}\n            text={(\n              <IconFavorite\n                active={isCardFavorite || saveLoading}\n              />\n            )}\n          />\n        )}\n\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(Card);\n","import React from 'react';\nimport './iconLeft.css';\nimport cn from 'classnames';\n\nfunction IconLeft({ inactive }) {\n  return (\n    <span className={cn('icon-left', { 'icon-left_inactive': inactive })} />\n  );\n}\n\nexport default IconLeft;\n","import React from 'react';\nimport './iconRight.css';\nimport cn from 'classnames';\n\nfunction IconRight({ inactive }) {\n  return (\n    <span className={cn('icon-right', { 'icon-right_inactive': inactive })} />\n  );\n}\n\nexport default IconRight;\n","import React, { useRef } from 'react';\nimport './Pagination.css';\n// import cn from 'classnames';\n// import { API_BASE_URL } from '../../utils/constants';\nimport IconLeft from '../../ui/iconLeft/iconLeft';\nimport IconRight from '../../ui/iconRight/iconRight';\nimport {\n  PAGE_SIZE,\n  renderPaginationItem,\n  handlePreviousClick,\n  handleNextClick,\n} from '../../utils/pagination';\n\nfunction Pagination({\n  pagination,\n  getItems,\n  selectedAuthor,\n  containerWithLoadableItemsRef,\n}) {\n  const paginatorRef = useRef();\n\n  return (\n    <>\n      {pagination.count > PAGE_SIZE && (\n        <nav className=\"pagination\" aria-label=\"Search results pages\">\n          <ul ref={paginatorRef} className=\"pagination__container\">\n            <li className=\"pagination__item\">\n              <button\n                onClick={() => {\n                  handlePreviousClick({\n                    pagination,\n                    getItems,\n                    selectedAuthor,\n                    paginatorRef,\n                    containerWithLoadableItemsRef,\n                  });\n                }}\n                type=\"button\"\n                className=\"pagination__link link\"\n              >\n                <IconLeft\n                  inactive={pagination.previous === null}\n                />\n              </button>\n            </li>\n            {renderPaginationItem({\n              pagination,\n              getItems,\n              selectedAuthor,\n              paginatorRef,\n              containerWithLoadableItemsRef,\n            }).map((item) => item)}\n            <li className=\"pagination__item\">\n              <button\n                onClick={() => {\n                  handleNextClick({\n                    pagination,\n                    getItems,\n                    selectedAuthor,\n                    paginatorRef,\n                    containerWithLoadableItemsRef,\n                  });\n                }}\n                type=\"button\"\n                className=\"pagination__link link\"\n              >\n                <IconRight\n                  inactive={pagination.next === null}\n                />\n              </button>\n            </li>\n          </ul>\n        </nav>\n      )}\n    </>\n  );\n}\n\nexport default React.memo(Pagination);\n","import { API_BASE_URL } from './constants';\n\nclass Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  async getRecipes(params) {\n    const {\n      page = 'page=1',\n      author = '',\n      tagBreakfast = '',\n      tagDinner = '',\n      tagSupper = '',\n    } = params;\n    const loadingRecipes = fetch((`${this.baseUrl}/recipes/?${page}${author}${tagBreakfast}${tagDinner}${tagSupper}`), {\n      headers: this.headers,\n    });\n    const response = await loadingRecipes;\n    const recipes = await response.json();\n    if (!response.ok) {\n      return Promise.reject(`Ошибка: ${recipes.message}`);\n    }\n    return new Promise((resolve) => {\n      resolve(recipes);\n    });\n  }\n\n  async getRecipe(recipeId) {\n    const loadingRecipe = fetch((`${this.baseUrl}/recipes/${recipeId}`), {\n      headers: this.headers,\n    });\n    const response = await loadingRecipe;\n    const recipe = await response.json();\n    if (!response.ok) {\n      return Promise.reject(`Ошибка: ${recipe.message}`);\n    }\n    return new Promise((resolve) => {\n      resolve(recipe);\n    });\n  }\n\n  async deleteRecipe(recipeId) {\n    const loadingRecipe = fetch((`${this.baseUrl}/recipes/${recipeId}`), {\n      method: 'DELETE',\n      headers: this.headers,\n    });\n    const response = await loadingRecipe;\n    if (!(response.status === 204)) {\n      return Promise.reject(`Ошибка: ${response.status}`);\n    }\n    return new Promise((resolve) => {\n      resolve(response.status);\n    });\n  }\n\n  async getIngredients(startsWith) {\n    const loadingIngredients = fetch((`${this.baseUrl}/ingredients?search=${startsWith}`), {\n      headers: this.headers,\n    });\n    const response = await loadingIngredients;\n    const ingredients = await response.json();\n    if (!response.ok) {\n      return Promise.reject(`Ошибка: ${ingredients.message}`);\n    }\n    return new Promise((resolve) => {\n      resolve(ingredients);\n    });\n  }\n\n  async postRecipe(recipe, formElem, token) {\n    const loadingResponse = fetch((`${this.baseUrl}/recipes/`), {\n      method: 'POST',\n      headers: {\n        Authorization: `Token ${token}`,\n      },\n      body: formElem,\n    });\n    const response = await loadingResponse;\n    const responseData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(responseData).forEach((key) => {\n        errors.push(`${key}: ${responseData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n\n  async updateRecipe(formElem, token, recipeId) {\n    const image = formElem.get('image');\n    // если фотография не передается при редактировании рецепта, то надо исключить\n    // это поле полностью, чтобы оно не передавалось пустым и не возникала ошибка сериализации\n    // фотография останется, какая было до редактирования\n    if (!image.name || !image.size) {\n      formElem.delete('image');\n    }\n    // токен передаем отдельно, т.к. this.headers не подходит из-за того, что body не json\n    const loadingResponse = fetch((`${this.baseUrl}/recipes/${recipeId}/`), {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Token ${token}`,\n      },\n      body: formElem,\n    });\n    const response = await loadingResponse;\n    const responseData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(responseData).forEach((key) => {\n        errors.push(`${key}: ${responseData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n\n  async getSubscriptions(params) {\n    const { page = 'page=1', author = '' } = params;\n    const loadingResponse = fetch((`${this.baseUrl}/subscriptions/?${page}${author}`), {\n      method: 'GET',\n      headers: this.headers,\n    });\n    const response = await loadingResponse;\n    const responseData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(responseData).forEach((key) => {\n        errors.push(`${key}: ${responseData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n\n  async subscribe(author) {\n    const loadingResponse = fetch((`${this.baseUrl}/subscriptions/`), {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        author,\n      }),\n    });\n    const response = await loadingResponse;\n    const responseData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(responseData).forEach((key) => {\n        errors.push(`${key}: ${responseData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n\n  async unsubscribe(id) {\n    const loadingResponse = fetch((`${this.baseUrl}/subscriptions/${id}/`), {\n      method: 'DELETE',\n      headers: this.headers,\n    });\n    const response = await loadingResponse;\n    if (!(response.status === 204)) {\n      return Promise.reject(`Ошибка! ${response.status}`);\n    }\n    return new Promise((resolve) => {\n      resolve(response.status);\n    });\n  }\n\n  async getFavoritesRecipes(params) {\n    const {\n      page = 'page=1',\n      tagBreakfast = '',\n      tagDinner = '',\n      tagSupper = '',\n    } = params;\n    const loadingResponse = fetch((`${this.baseUrl}/favorites/?${page}${tagBreakfast}${tagDinner}${tagSupper}`), {\n      method: 'GET',\n      headers: this.headers,\n    });\n    const response = await loadingResponse;\n    const responseData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(responseData).forEach((key) => {\n        errors.push(`${key}: ${responseData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n\n  async addToFavoritesRecipes(recipeId) {\n    const loadingResponse = fetch((`${this.baseUrl}/favorites/`), {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        favorite: recipeId,\n      }),\n    });\n    const response = await loadingResponse;\n    const responseData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(responseData).forEach((key) => {\n        errors.push(`${key}: ${responseData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n\n  async deleteFromFavoritesRecipes(id) {\n    const loadingResponse = fetch((`${this.baseUrl}/favorites/${+id}/`), {\n      method: 'DELETE',\n      headers: this.headers,\n    });\n    const response = await loadingResponse;\n    if (!(response.status === 204)) {\n      return Promise.reject(`Ошибка! ${response.status}`);\n    }\n    return new Promise((resolve) => {\n      resolve(response.status);\n    });\n  }\n\n  async getPurchases() {\n    const loadingResponse = fetch((`${this.baseUrl}/purchases/`), {\n      method: 'GET',\n      headers: this.headers,\n    });\n    const response = await loadingResponse;\n    const responseData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(responseData).forEach((key) => {\n        errors.push(`${key}: ${responseData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n\n  async addPurchase(recipeId) {\n    const loadingResponse = fetch((`${this.baseUrl}/purchases/`), {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        purchase: recipeId,\n      }),\n    });\n    const response = await loadingResponse;\n    const responseData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(responseData).forEach((key) => {\n        errors.push(`${key}: ${responseData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n\n  async deletePurchase(id) {\n    const loadingResponse = fetch((`${this.baseUrl}/purchases/${+id}/`), {\n      method: 'DELETE',\n      headers: this.headers,\n    });\n    const response = await loadingResponse;\n    if (!(response.status === 204)) {\n      return Promise.reject(`Ошибка! ${response.status}`);\n    }\n    return new Promise((resolve) => {\n      resolve(response.status);\n    });\n  }\n\n  async download(purchases) {\n    const loadingResponse = fetch((`${this.baseUrl}/download/`), {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify(purchases),\n    });\n    const response = await loadingResponse;\n    const responseData = await response.blob();\n    if (!response.ok) {\n      return Promise.reject('Ошибка!');\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","import React, {\n  useEffect,\n  useContext,\n  useState,\n  useRef,\n} from 'react';\nimport { useParams } from 'react-router-dom';\nimport './Recipes.css';\nimport CardList from '../CardList/CardList';\nimport Card from '../Card/Card';\nimport Pagination from '../Pagination/Pagination';\nimport CurrentUserContext from '../../context/CurrentUserContext';\nimport Button from '../Button/Button';\nimport api from '../../utils/Api';\n\nfunction Recipes({\n  recipes,\n  favoriteRecipes,\n  onAddToFavorites,\n  onDeleteFromFavorites,\n  onAddPurchase,\n  recipesPagination,\n  getRecipes,\n  onAuthorClick,\n  selectedAuthor,\n  setSelectedAuthor,\n  onSubscribe,\n  onUnsubscribe,\n  subscriptions,\n  onDeletePurchase,\n  purchases,\n  setResponseError,\n  setIsOpenInfoTooltip,\n}) {\n  const params = useParams();\n  const currentUser = useContext(CurrentUserContext);\n  const [isUserIsSubscribed, setIsUserIsSubscribed] = useState(null);\n  const recipesRef = useRef();\n\n  function handleSubscribe() {\n    onSubscribe(params.author, setIsUserIsSubscribed);\n  }\n\n  function handleUnSubscribe() {\n    api.getSubscriptions({ author: `&author=${params.author}` })\n      .then((data) => {\n        if (data.results) {\n          onUnsubscribe({\n            subscriptionId: data.results[0].id,\n            setIsUserIsSubscribed,\n          });\n        }\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  useEffect(() => {\n    if (params.author && currentUser.name) {\n      api.getSubscriptions({ author: `&author=${params.author}` })\n        .then((data) => {\n          if (data.results) setIsUserIsSubscribed(data.results.length > 0);\n        })\n        .catch((err) => {\n          setResponseError(err);\n          setIsOpenInfoTooltip(true);\n        });\n    }\n  }, [currentUser, params.author, subscriptions]);\n\n  useEffect(() => {\n    if (params.author) {\n      setSelectedAuthor(`&author__username=${params.author}`);\n    }\n  }, [setSelectedAuthor, params, params.author]);\n\n  return (\n    <>\n      {(params.author && params.author !== currentUser.name) && (\n        (isUserIsSubscribed) ? (\n          <div className=\"recipe__button-container\">\n            <Button\n              lightBlue\n              text=\"Отписаться\"\n              onClick={handleUnSubscribe}\n            />\n          </div>\n        ) : (\n          currentUser.name && (\n            <div className=\"recipe__button-container\">\n              <Button\n                lightBlue\n                text=\"Подписаться на автора\"\n                onClick={handleSubscribe}\n              />\n            </div>\n          )\n        )\n      )}\n      <div ref={recipesRef}>\n        <CardList>\n          {recipes.map((recipe) => (\n            <Card\n              key={`card__${recipe.id}`}\n              allRecipesPage\n              subscribers={recipe.subscribers}\n              recipeId={recipe.id}\n              recipeName={recipe.name}\n              tags={recipe.tag}\n              cookingTime={recipe.cooking_time}\n              image={recipe.image_url}\n              author={recipe.author}\n              onAddToFavorites={onAddToFavorites}\n              onDeleteFromFavorites={onDeleteFromFavorites}\n              onAddPurchase={onAddPurchase}\n              favoriteRecipes={favoriteRecipes}\n              pagination={recipesPagination}\n              onAuthorClick={onAuthorClick}\n              selectedAuthor={selectedAuthor}\n              onDeletePurchase={onDeletePurchase}\n              purchases={purchases}\n            />\n          ))}\n        </CardList>\n      </div>\n      <Pagination\n        pagination={recipesPagination}\n        getItems={getRecipes}\n        selectedAuthor={selectedAuthor}\n        containerWithLoadableItemsRef={recipesRef}\n      />\n\n    </>\n  );\n}\n\nexport default Recipes;\n","import React from 'react';\nimport './Form.css';\n\nfunction Form({\n  formRef,\n  children,\n  onSubmit,\n}) {\n  return (\n    <div className=\"form-container\">\n      <form ref={formRef} className=\"form\" onSubmit={onSubmit}>\n        {children}\n      </form>\n    </div>\n  );\n}\n\nexport default Form;\n","import React from 'react';\nimport './SubmitButton.css';\nimport cn from 'classnames';\n\nfunction SubmitButton({\n  text,\n  blue,\n  lightBlue,\n  sizeAuto,\n  disabled,\n  loading,\n}) {\n  const buttonClassBame = cn(\n    'submit-button',\n    { 'submit-button_style_light-blue': lightBlue },\n    { 'submit-button_size_auto': sizeAuto },\n    { 'submit-button_style_blue': blue },\n    { 'submit-button_disabled': disabled },\n  );\n  return (\n    <input type=\"submit\" className={buttonClassBame} name=\"subscribe\" value={loading ? 'Отправка...' : text} disabled={disabled} />\n  );\n}\n\nexport default SubmitButton;\n","import React, { useState } from 'react';\nimport cn from 'classnames';\nimport './FormReg.css';\nimport Form from '../Form/Form';\nimport SubmitButton from '../SubmitButton/SubmitButton';\n\nfunction FormReg({ onSubmit, serverError }) {\n  const [loading, setLoading] = useState(false);\n  const [name, setName] = useState('');\n  const [nameError, setNameError] = useState('');\n  const [username, setUsername] = useState('');\n  const [usernameError, setUsernameError] = useState('');\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n    setNameError(e.target.validationMessage);\n  }\n\n  function handleUsernameChange(e) {\n    setUsername(e.target.value);\n    setUsernameError(e.target.validationMessage);\n  }\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n    setEmailError(e.target.validationMessage);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n    setPasswordError(e.target.validationMessage);\n  }\n\n  function handleRegistrationSubmit(e) {\n    setLoading(true);\n    e.preventDefault();\n    onSubmit(name, username, email, password, setLoading);\n  }\n\n  return (\n    <Form\n      onSubmit={handleRegistrationSubmit}\n    >\n      <div className=\"form__group\">\n        <span htmlFor=\"id_first_name\" className=\"form__label\">\n          Имя\n        </span>\n        <div className=\"form__field-group\">\n          <input\n            value={name}\n            onChange={handleNameChange}\n            type=\"text\"\n            name=\"first_name\"\n            id=\"id_first_name\"\n            className=\"form__input\"\n            minLength=\"2\"\n            required\n          />\n          <span className={cn('form__error', { form__error_active: nameError })}>{nameError}</span>\n        </div>\n      </div>\n\n      <div className=\"form__group\">\n        <span htmlFor=\"id_username\" className=\"form__label\">\n          Имя пользователя\n        </span>\n        <div className=\"form__field-group\">\n          <input\n            value={username}\n            onChange={handleUsernameChange}\n            type=\"text\"\n            name=\"username\"\n            id=\"id_username\"\n            className=\"form__input\"\n            minLength=\"2\"\n            required\n          />\n          <span className={cn('form__error', { form__error_active: usernameError })}>{usernameError}</span>\n        </div>\n      </div>\n\n      <div className=\"form__group\">\n        <span htmlFor=\"id_email\" className=\"form__label\">\n          Адрес электронной почты\n        </span>\n        <div className=\"form__field-group\">\n          <input\n            value={email}\n            onChange={handleEmailChange}\n            type=\"email\"\n            name=\"email\"\n            id=\"id_email\"\n            className=\"form__input\"\n            required\n          />\n          <span className={cn('form__error', { form__error_active: emailError })}>{emailError}</span>\n        </div>\n      </div>\n\n      <div className=\"form__group\">\n        <span htmlFor=\"id_password\" className=\"form__label\">\n          Пароль\n        </span>\n        <div className=\"form__field-group\">\n          <input\n            value={password}\n            onChange={handlePasswordChange}\n            type=\"password\"\n            name=\"password\"\n            id=\"id_password\"\n            className=\"form__input\"\n            minLength=\"8\"\n            required\n          />\n          <span className={cn('form__error', { form__error_active: passwordError })}>{passwordError}</span>\n        </div>\n      </div>\n      <span className={cn('form__error form__error_server', { form__error_server_active: serverError })}>{serverError}</span>\n      <div className=\"form__footer\">\n        <SubmitButton\n          lightBlue\n          text=\"Создать аккаунт\"\n          disabled={loading || nameError || usernameError || emailError || passwordError || (!name || !username || !email || !password)}\n          loading={loading}\n        />\n      </div>\n    </Form>\n  );\n}\n\nexport default FormReg;\n","import React, { useState } from 'react';\nimport './FormAuth.css';\nimport cn from 'classnames';\nimport SubmitButton from '../SubmitButton/SubmitButton';\nimport Form from '../Form/Form';\n\nfunction FormAuth({ onSubmit, serverError }) {\n  const [loading, setLoading] = useState(false);\n  const [username, setUsername] = useState('');\n  const [usernameError, setUsernameError] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n\n  function handleUsernameChange(e) {\n    setUsername(e.target.value);\n    setUsernameError(e.target.validationMessage);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n    setPasswordError(e.target.validationMessage);\n  }\n\n  function handleLoginSubmit(e) {\n    setLoading(true);\n    e.preventDefault();\n    onSubmit(username, password, setLoading);\n  }\n\n  return (\n    <Form\n      onSubmit={handleLoginSubmit}\n    >\n      <div className=\"form__group\">\n        <span htmlFor=\"id_username\" className=\"form__label\">\n          Имя пользователя\n        </span>\n        <div className=\"form__field-group\">\n          <input\n            value={username}\n            onChange={handleUsernameChange}\n            type=\"text\"\n            name=\"username\"\n            id=\"id_username\"\n            className=\"form__input\"\n            minLength=\"2\"\n            maxLength=\"30\"\n            required\n          />\n          <span className={cn('form__error', { form__error_active: usernameError })}>{usernameError}</span>\n        </div>\n      </div>\n\n      <div className=\"form__group\">\n        <span htmlFor=\"id_password\" className=\"form__label\">\n          Пароль\n        </span>\n        <div className=\"form__field-group\">\n          <input\n            value={password}\n            onChange={handlePasswordChange}\n            type=\"password\"\n            name=\"password\"\n            id=\"id_password\"\n            className=\"form__input\"\n            minLength=\"8\"\n            required\n          />\n          <span className={cn('form__error', { form__error_active: passwordError })}>{passwordError}</span>\n        </div>\n      </div>\n      <span className={cn('form__error form__error_server', { form__error_server_active: serverError })}>{serverError}</span>\n      <div className=\"form__footer\">\n        <SubmitButton\n          lightBlue\n          text=\"Войти\"\n          disabled={loading || usernameError || passwordError || (!username || !password)}\n          loading={loading}\n        />\n        <a href=\"/reset-password\" className=\"form__forgot-link\">Забыли пароль?</a>\n      </div>\n    </Form>\n  );\n}\n\nexport default FormAuth;\n","import React, { useState } from 'react';\nimport cn from 'classnames';\nimport './FormResetPassword.css';\nimport Form from '../Form/Form';\nimport SubmitButton from '../SubmitButton/SubmitButton';\n\nfunction FormResetPassword({\n  onSubmit,\n  serverError,\n  resetPasswordResponse,\n  setServerError,\n  setResetPasswordResponse,\n}) {\n  const [loading, setLoading] = useState(false);\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState('');\n\n  function handleChange(e) {\n    setEmail(e.target.value);\n    setEmailError(e.target.validationMessage);\n    setServerError('');\n    setResetPasswordResponse('');\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    onSubmit(email, setLoading);\n    setServerError('');\n  }\n\n  return (\n    <Form\n      onSubmit={handleSubmit}\n    >\n      <p className=\"form__info-text\">\n        Чтобы сбросить старый пароль — введите адрес электронной почты, под которым вы регистрировались.\n      </p>\n      <div className=\"form__group\">\n        <span htmlFor=\"id_email\" className=\"form__label\">\n          Адрес электронной почты\n        </span>\n        <div className=\"form__field-group\">\n          <input\n            value={email}\n            onChange={handleChange}\n            type=\"email\"\n            name=\"email\"\n            id=\"id_email\"\n            className=\"form__input\"\n          />\n          <span className={cn('form__error', { form__error_active: emailError })}>{emailError}</span>\n        </div>\n      </div>\n      <span className={cn('form__error form__error_server', { form__error_server_active: serverError })}>{serverError}</span>\n      <span className={cn('form__reset-info', { 'form__reset-info_active': resetPasswordResponse.status === 'OK' })}>\n        {`Проверьте Ваш почтовый ящик. На указанный адрес ${email} было отправлено письмо для подтверждения сброса пароля.`}\n      </span>\n      <div className=\"form__footer\">\n        <SubmitButton\n          lightBlue\n          text=\"Сбросить пароль\"\n          disabled={loading || emailError || !email}\n          loading={loading}\n        />\n      </div>\n    </Form>\n  );\n}\n\nexport default FormResetPassword;\n","import React, { useState } from 'react';\nimport cn from 'classnames';\nimport './FormChangePassword.css';\nimport Form from '../Form/Form';\nimport SubmitButton from '../SubmitButton/SubmitButton';\n\nfunction FormChangePassword({ onSubmit, serverError }) {\n  const [loading, setLoading] = useState(false);\n  const [oldPassword, setOldPassword] = useState('');\n  const [oldPasswordError, setOldPasswordError] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [newPasswordError, setNewPasswordError] = useState('');\n  const [newPasswordAgain, setNewPasswordAgain] = useState('');\n  const [newPasswordAgainError, setNewPasswordAgainError] = useState('');\n\n  function handleOldPasswordChange(e) {\n    setOldPassword(e.target.value);\n    setOldPasswordError(e.target.validationMessage);\n  }\n\n  function handleNewPasswordChange(e) {\n    setNewPassword(e.target.value);\n    setNewPasswordError(e.target.validationMessage);\n  }\n\n  function handleNewPasswordAgainChange(e) {\n    setNewPasswordAgain(e.target.value);\n    setNewPasswordAgainError(e.target.validationMessage);\n  }\n\n  function handleChangePassword(e) {\n    setLoading(true);\n    e.preventDefault();\n    onSubmit(oldPassword, newPassword, newPasswordAgain, setLoading);\n  }\n\n  return (\n    <Form\n      onSubmit={handleChangePassword}\n    >\n      <div className=\"form__group\">\n        <span htmlFor=\"id_oldPassword\" className=\"form__label\">\n          Старый пароль\n        </span>\n        <div className=\"form__field-group\">\n          <input\n            value={oldPassword}\n            onChange={handleOldPasswordChange}\n            type=\"text\"\n            name=\"old_password\"\n            id=\"id_oldPassword\"\n            className=\"form__input\"\n            minLength=\"8\"\n            required\n          />\n          <span className={cn('form__error', { form__error_active: oldPasswordError })}>{oldPasswordError}</span>\n        </div>\n      </div>\n      <div className=\"form__group\">\n        <span htmlFor=\"id_newPassword\" className=\"form__label\">Новый пароль</span>\n        <div className=\"form__field-group\">\n          <input\n            value={newPassword}\n            onChange={handleNewPasswordChange}\n            type=\"password\"\n            name=\"new_password\"\n            id=\"id_newPassword\"\n            className=\"form__input\"\n            minLength=\"8\"\n            required\n          />\n          <span className=\"form__input-info\">Ваш пароль не должен совпадать с вашим именем или другой персональной информацией или быть слишком похожим на неё.</span>\n          <span className=\"form__input-info\">Ваш пароль должен содержать как минимум 8 символов.</span>\n          <span className=\"form__input-info\">Ваш пароль не может быть одним из широко распространённых паролей.</span>\n          <span className=\"form__input-info\">Ваш пароль не может состоять только из цифр.</span>\n          <span className={cn('form__error', { form__error_active: newPasswordError })}>{newPasswordError}</span>\n        </div>\n      </div>\n      <div className=\"form__group\">\n        <span htmlFor=\"id_confirmPassword\" className=\"form__label\">Подтверждение нового пароля</span>\n        <div className=\"form__field-group\">\n          <input\n            value={newPasswordAgain}\n            onChange={handleNewPasswordAgainChange}\n            type=\"password\"\n            name=\"confirm_password\"\n            id=\"id_confirmPassword\"\n            className=\"form__input\"\n            minLength=\"8\"\n            required\n          />\n          <span className={cn('form__error', { form__error_active: newPasswordAgainError })}>{newPasswordAgainError}</span>\n        </div>\n      </div>\n      <span className={cn('form__error form__error_server', { form__error_server_active: serverError })}>{serverError}</span>\n      <SubmitButton\n        lightBlue\n        text=\"Изменить пароль\"\n        disabled={loading || oldPasswordError || newPasswordError || newPasswordAgainError || (!oldPassword || !newPassword || !newPasswordAgain)}\n        loading={loading}\n      />\n    </Form>\n  );\n}\n\nexport default FormChangePassword;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Recipe.css';\nimport testCardImg from '../../images/testCardImg.png';\n\nfunction Recipe({ recipe }) {\n  return (\n    <div className=\"recipe\">\n      <Link to={`/single-page/${recipe.id}`} className=\"recipe__image-link link\">\n        <img src={testCardImg} alt={recipe.name} className=\"recipe__image\" />\n      </Link>\n      <Link to={`/single-page/${recipe.id}`} className=\"recipe__title-link link\">\n        <h3 className=\"recipe__title\">{recipe.name}</h3>\n      </Link>\n      <p className=\"recipe__text\">\n        <span className=\"icon-time\" />\n        {` ${recipe.cooking_time}`}\n      </p>\n    </div>\n  );\n}\n\nexport default React.memo(Recipe);\n","export default function getNumberEnding(number) {\n  const stringNumber = number.toString();\n  if (number >= 1) {\n    if (['11', '12', '13', '14', '15', '16', '17', '18', '19'].includes(stringNumber.slice((stringNumber.length - 2), stringNumber.length))) {\n      return 'рецептов';\n    }\n    if (['40', '90'].includes(stringNumber.slice((stringNumber.length - 2), stringNumber.length))) {\n      return 'рецептов';\n    }\n    if (stringNumber.endsWith('100')) {\n      return 'рецептов';\n    }\n\n    if (stringNumber.endsWith('1')) {\n      return 'рецепт';\n    }\n    if (['2', '3', '4'].includes(stringNumber[stringNumber.length - 1])) {\n      return 'рецепта';\n    }\n    if (stringNumber.endsWith('00')) {\n      return 'рецептов';\n    }\n    return 'рецепт';\n  }\n  return 'рецепт';\n}\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './CardUser.css';\nimport '../appearAnimation/appearAnimation.css';\nimport Recipe from '../Recipe/Recipe';\nimport api from '../../utils/Api';\nimport getNumberEnding from '../../utils/getEndingsOfNumber';\nimport { getCurrentPageNumberWithRemovingItems } from '../../utils/pagination';\n\nfunction CardUser({\n  onUnsubscribe,\n  subscription,\n  pagination,\n  setResponseError,\n  setIsOpenInfoTooltip,\n}) {\n  const [recipesList, setRecipesList] = useState([]);\n  const [recipes, setRecipes] = useState([]);\n\n  useEffect(() => {\n    api.getRecipes({ author: `&author__username=${subscription.author}` })\n      .then((data) => {\n        setRecipesList(data.results);\n        setRecipes(data);\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }, []);\n\n  function handleUnSubscribe() {\n    onUnsubscribe({\n      subscriptionId: subscription.id,\n      page: getCurrentPageNumberWithRemovingItems(pagination),\n    });\n  }\n\n  return (\n    <>\n      <div className=\"card-user appearAnimation\" data-author={subscription.id}>\n        <div className=\"card-user__header\">\n          <Link to={`/recipes/${subscription.author}`} className=\"card-user__title\">{subscription.author}</Link>\n        </div>\n        <div className=\"card-user__body\">\n          <ul className=\"card-user__items\">\n            {recipesList.length > 0 ? (\n              <>\n                <>\n                  {recipesList.slice(0, 3).map((recipe) => (\n                    <li className=\"card-user__item\" key={recipe.id}>\n                      <Recipe\n                        recipe={recipe}\n                      />\n                    </li>\n                  ))}\n                </>\n                <>\n                  {recipesList.slice(3).length > 0 && (\n                    <li className=\"card-user__item\">\n                      <Link to={`/recipes/${subscription.author}`} className=\"card-user__link link\">{`Еще ${(recipes.count - 3 > 0) && `${recipes.count - 3} ${getNumberEnding((recipes.count - 3))}`}...`}</Link>\n                    </li>\n                  )}\n                </>\n              </>\n            ) : (\n              <p className=\"card-user__text\">у автора пока нет рецептов</p>\n            )}\n          </ul>\n        </div>\n        <div className=\"card-user__footer\">\n          <button onClick={handleUnSubscribe} type=\"button\" className=\"button button_style_light-blue button_size_auto\" name=\"subscribe\">\n            Отписаться\n          </button>\n        </div>\n      </div>\n\n    </>\n  );\n}\n\nexport default React.memo(CardUser);\n","import React, { useRef } from 'react';\nimport './MyFollow.css';\nimport CardList from '../CardList/CardList';\nimport CardUser from '../CardUser/CardUser';\nimport Pagination from '../Pagination/Pagination';\n\nfunction MyFollow({\n  onUnsubscribe,\n  subscriptions,\n  getSubscriptions,\n  subscriptionsPagination,\n  header,\n  renderMainHeader,\n  setResponseError,\n  setIsOpenInfoTooltip,\n}) {\n  const followsRef = useRef();\n  return (\n    <>\n      {renderMainHeader(header)}\n      <div ref={followsRef}>\n        <CardList>\n          {subscriptions.map((subscription) => (\n            <CardUser\n              key={subscription.id}\n              onUnsubscribe={onUnsubscribe}\n              subscription={subscription}\n              pagination={subscriptionsPagination}\n              setResponseError={setResponseError}\n              setIsOpenInfoTooltip={setIsOpenInfoTooltip}\n            />\n          ))}\n        </CardList>\n      </div>\n      <Pagination\n        pagination={subscriptionsPagination}\n        getItems={getSubscriptions}\n        containerWithLoadableItemsRef={followsRef}\n      />\n    </>\n  );\n}\n\nexport default MyFollow;\n","import React from 'react';\nimport './FormRecipeDropdownBlock.css';\nimport cn from 'classnames';\n\nfunction FormRecipeDropdownBlock({\n  ingredientList,\n  onItemClick,\n}) {\n  const className = cn('form__dropdown-items', { 'form__dropdown-items_active': ingredientList.length > 0 });\n\n  function handleClick(name, units) {\n    onItemClick(name, units);\n  }\n\n  return (\n    <ul className={className}>\n      {ingredientList.map((ingredient) => (\n        <li key={ingredient.id} className=\"form__dropdown-item\">\n          <button type=\"button\" className=\"form__dropdown-item-btn\" onClick={handleClick.bind(this, ingredient.name, ingredient.units)}>{ingredient.name}</button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default FormRecipeDropdownBlock;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './FormRecipe.css';\nimport cn from 'classnames';\nimport Form from '../Form/Form';\nimport Tags from '../Tags/Tags';\nimport api from '../../utils/Api';\nimport FormRecipeDropdownBlock from '../FormRecipeDropdownBlock/FormRecipeDropdownBlock';\nimport SubmitButton from '../SubmitButton/SubmitButton';\nimport Button from '../Button/Button';\n\nfunction FormRecipe({\n  onSubmit,\n  serverError,\n  header,\n  renderMainHeader,\n  onDelete,\n  setResponseError,\n  setIsOpenInfoTooltip,\n}) {\n  const { recipeId } = useParams();\n  const [loading, setLoading] = useState(false);\n  const [recipeName, setRecipeName] = useState('');\n  const [recipeNameError, setRecipeNameError] = useState('');\n  const [nameIngredient, setNameIngredient] = useState('');\n  const [nameUnits, setNameUnits] = useState('');\n  const [amountUnits, setAmountUnits] = useState('');\n  const [cookingTime, setCookingTime] = useState('');\n  const [cookingTimeError, setCookingTimeError] = useState('');\n  const [description, setDescription] = useState('');\n  const [descriptionError, setDescriptionError] = useState('');\n  const [image, setImage] = useState('');\n  const [tags, setTags] = useState([]);\n  const [ingredientChoiseList, setIngredientChoiseList] = useState([]);\n  const formDropdownRef = useRef();\n  const formGroupRef = useRef();\n  const formRef = useRef();\n  const [showSubmitHint, setShowSubmitHint] = useState(false);\n\n  const [addedIngredients, setAddedIngredients] = useState([]);\n\n  function handleRecipeNameChange(e) {\n    setRecipeName(e.target.value);\n    setRecipeNameError(e.target.validationMessage);\n  }\n\n  function handleNameIngredientChange(e) {\n    setNameIngredient(e.target.value);\n    if (e.target.value) {\n      api.getIngredients(e.target.value)\n        .then((data) => {\n          setIngredientChoiseList(data);\n        })\n        .catch((err) => {\n          setResponseError(err);\n          setIsOpenInfoTooltip(true);\n        });\n    } else {\n      setIngredientChoiseList([]);\n    }\n  }\n\n  function handleAmountChange(e) {\n    setAmountUnits(e.target.value);\n  }\n\n  function handleItemClick(name, units) {\n    setNameIngredient(name);\n    setNameUnits(units);\n  }\n\n  function handleAddIngredient() {\n    if (nameIngredient && amountUnits && nameUnits) {\n      addedIngredients.push({ name: nameIngredient, amount: amountUnits, units: nameUnits });\n      const newAddedIngredients = addedIngredients.slice();\n      setAddedIngredients(newAddedIngredients);\n      setNameIngredient('');\n      setNameUnits('');\n      setAmountUnits('');\n    }\n  }\n\n  function handkeCookingTimeChange(e) {\n    if (e.target.value <= 999) {\n      setCookingTime(e.target.value);\n    }\n    setCookingTimeError(e.target.validationMessage);\n  }\n\n  useEffect(() => {\n    function handleClick(e) {\n      if (!e.target.classList.contains('form__dropdown-item')) {\n        setIngredientChoiseList([]);\n      }\n    }\n    document.addEventListener('click', handleClick);\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n  }, []);\n\n  function handleIngredientDelete(currentIngredient) {\n    const newAddedIngredients = addedIngredients.filter((ingredient) => (\n      (!((ingredient.name === currentIngredient.name) && (ingredient.amount.toString() === currentIngredient.amount.toString())))\n    ));\n    setAddedIngredients(newAddedIngredients);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n    setDescriptionError(e.target.validationMessage);\n  }\n\n  function handleTagClick(remove, selectedTag) {\n    if (remove) {\n      const newTags = tags.filter((item) => (item !== selectedTag));\n      setTags(newTags);\n    } else {\n      tags.push(selectedTag);\n      setTags(tags);\n    }\n  }\n\n  function handleImageChange(e) {\n    setImage(e.target.value);\n  }\n\n  function handleFormRecipeSubmit(e) {\n    setLoading(true);\n    const formElem = new FormData(formRef.current);\n    e.preventDefault();\n    const recipe = {\n      author: 'admin',\n      name: recipeName,\n      ingredient: addedIngredients,\n      tag: tags,\n      cooking_time: cookingTime,\n      description,\n    };\n    onSubmit(recipe, formElem, localStorage.getItem('token'), recipeId, setLoading);\n  }\n\n  function handlePhotoDelete() {\n    document.getElementById('id_file').value = null;\n    setImage('');\n  }\n\n  function handleDelete() {\n    onDelete(recipeId);\n  }\n\n  useEffect(() => {\n    const disabled = (\n      recipeNameError\n      || cookingTimeError\n      || descriptionError\n      || (\n        !recipeName\n        || !cookingTime\n        || !description\n        || addedIngredients.length === 0\n        || tags.length === 0\n        || (!image && !recipeId)\n      )\n    );\n    if (disabled) {\n      setShowSubmitHint(true);\n    } else {\n      setShowSubmitHint(false);\n    }\n  }, [\n    recipeNameError,\n    cookingTimeError,\n    descriptionError,\n    recipeName,\n    cookingTime,\n    description,\n    addedIngredients,\n    tags,\n    image,\n  ]);\n\n  useEffect(() => {\n    if (recipeId) {\n      api.getRecipe(recipeId)\n        .then((data) => {\n          setRecipeName(data.name);\n          setCookingTime(data.cooking_time);\n          setDescription(data.description);\n          const dataTags = [];\n          data.tag.forEach((tag) => (\n            dataTags.push(tag.name)\n          ));\n          setTags(dataTags);\n          setAddedIngredients(data.ingredient);\n        })\n        .catch((err) => {\n          setResponseError(err);\n          setIsOpenInfoTooltip(true);\n        });\n    }\n  }, [recipeId]);\n\n  return (\n    <>\n      {renderMainHeader(header)}\n      <Form\n        formRef={formRef}\n        onSubmit={handleFormRecipeSubmit}\n      >\n        <div ref={formGroupRef} className=\"form__group\">\n          <span htmlFor=\"id_name\" className=\"form__label\">Название рецепта</span>\n          <div className=\"form__field-group\">\n            <input\n              value={recipeName}\n              onChange={handleRecipeNameChange}\n              type=\"text\"\n              id=\"id_name\"\n              name=\"name\"\n              className=\"form__input\"\n              minLength=\"2\"\n              maxLength=\"50\"\n              required\n            />\n            <span className={cn('form__error', { form__error_active: recipeNameError })}>{recipeNameError}</span>\n          </div>\n        </div>\n\n        <div className=\"form__group\">\n          <p className=\"form__label\">Теги</p>\n          <div className=\"form__field-group\">\n            <Tags\n              selectedTags={tags}\n              onTagClick={handleTagClick}\n            />\n            <span className=\"form__error\" />\n          </div>\n        </div>\n\n        <div className=\"form__group\">\n          <span htmlFor=\"nameIngredient\" className=\"form__label\">Ингредиенты</span>\n          <div className=\"form__field-group\">\n            <div className=\"form__field-group-ingredientes\">\n              <div ref={formDropdownRef} className=\"form__dropdown\">\n                <textarea\n                  onChange={handleNameIngredientChange}\n                  value={nameIngredient}\n                  type=\"text\"\n                  id=\"nameIngredient\"\n                  className=\"form__input\"\n                  maxLength=\"30\"\n                />\n                <FormRecipeDropdownBlock\n                  ingredientList={ingredientChoiseList}\n                  onItemClick={handleItemClick}\n                />\n              </div>\n              <input\n                onChange={handleAmountChange}\n                value={amountUnits}\n                type=\"number\"\n                id=\"cantidad\"\n                className=\"form__input\"\n                min=\"1\"\n                max=\"999\"\n              />\n              <span htmlFor=\"cantidad\" className=\"form__label\" id=\"cantidadVal\">{nameUnits || 'шт.'}</span>\n            </div>\n            <div className=\"form__field-group-ingredientes-container\">\n              {addedIngredients.map((ingredient) => (\n                <div key={`${ingredient.name}__${ingredient.amount}`} className=\"form__field-item-ingredient\">\n                  <span>\n                    {`${ingredient.name} `}\n                    {`${ingredient.amount} `}\n                    {ingredient.units}\n                  </span>\n                  <button type=\"button\" onClick={handleIngredientDelete.bind(this, ingredient)} className=\"form__field-item-delete form__field-item-delete_ingredient\" />\n                </div>\n              ))}\n            </div>\n            <button onClick={handleAddIngredient} type=\"button\" className=\"form__ingredient-add-btn\" id=\"addIng\">Добавить ингредиент</button>\n            <span className=\"form__error\" />\n          </div>\n        </div>\n\n        <div className=\"form__group\">\n          <span htmlFor=\"id_time\" className=\"form__label\">Время приготовления</span>\n          <div className=\"form__field-group form__field-group_time\">\n            <input\n              type=\"number\"\n              id=\"id_time\"\n              name=\"cooking_time\"\n              className=\"form__input\"\n              min=\"0\"\n              maxLength=\"3\"\n              value={cookingTime}\n              onChange={handkeCookingTimeChange}\n              required\n            />\n            <span htmlFor=\"id_time\" className=\"form__label\">минут</span>\n            <span className={cn('form__error', { form__error_active: cookingTimeError })}>{cookingTimeError}</span>\n          </div>\n        </div>\n\n        <div className=\"form__group\">\n          <span htmlFor=\"id_description\" className=\"form__label\">Описание</span>\n          <div className=\"form__field-group\">\n            <textarea\n              name=\"description\"\n              id=\"id_description\"\n              rows=\"8\"\n              className=\"form__textarea\"\n              value={description}\n              onChange={handleDescriptionChange}\n              minLength=\"2\"\n              maxLength=\"500\"\n              required\n            />\n            <span className={cn('form__error', { form__error_active: descriptionError })}>{descriptionError}</span>\n          </div>\n        </div>\n\n        <div className=\"form__group\">\n          <span className=\"form__label\">{`Загрузить${recipeId ? ' новое' : ''} фото`}</span>\n          <div className=\"form__field-group form__field-group_photo\">\n            <label htmlFor=\"id_file\" className=\"form__photo-file\">\n              {recipeId ? (\n                <input\n                  vaule={image}\n                  onChange={handleImageChange}\n                  type=\"file\"\n                  name=\"image\"\n                  id=\"id_file\"\n                  className=\"form__photo-input\"\n                />\n              ) : (\n                <input\n                  vaule={image}\n                  onChange={handleImageChange}\n                  type=\"file\"\n                  name=\"image\"\n                  id=\"id_file\"\n                  className=\"form__photo-input\"\n                  required\n                />\n              )}\n            </label>\n            {image && <button type=\"button\" onClick={handlePhotoDelete} className=\"form__field-item-delete\" />}\n            <span className=\"form__error\" />\n          </div>\n        </div>\n        <span className={cn('form__error form__error_server', { form__error_server_active: serverError })}>{serverError}</span>\n        {/* {showSubmitHint && <div></div>} */}\n        <div className=\"form__footer form__footer_recipe\">\n          <div className=\"form__hint-container\">\n            {showSubmitHint\n              && (\n                <div className=\"form__hint\">\n                  Необходимо:\n                  {!recipeName && (\n                    <>\n                      <br />\n                      <span> - Указать название рецепта</span>\n                    </>\n                  )}\n                  {tags.length === 0 && (\n                    <>\n                      <br />\n                      <span> - Хотя бы один тег (завтрак, обед или ужин)</span>\n                    </>\n                  )}\n                  {addedIngredients.length === 0 && (\n                    <>\n                      <br />\n                      <span> - Добавить хотя бы один ингредиент в список</span>\n                    </>\n                  )}\n                  {!cookingTime && (\n                    <>\n                      <br />\n                      <span> - Указать время приготовления</span>\n                    </>\n                  )}\n                  {!description && (\n                    <>\n                      <br />\n                      <span> - Добавить описание</span>\n                    </>\n                  )}\n                  {(!image && !recipeId) && (\n                    <>\n                      <br />\n                      <span> - Добавить фотографию</span>\n                    </>\n                  )}\n                  {((recipeNameError || cookingTimeError || descriptionError)) && (\n                    <>\n                      <br />\n                      <span> - Убедиться, что нет ошибок заполнения</span>\n                    </>\n                  )}\n                </div>\n              )}\n            <SubmitButton\n              blue\n              text={recipeId ? 'Сохранить' : 'Создать рецепт'}\n              disabled={\n                loading\n                || recipeNameError\n                || cookingTimeError\n                || descriptionError\n                || (\n                  !recipeName\n                  || !cookingTime\n                  || !description\n                  || addedIngredients.length === 0\n                  || tags.length === 0\n                  || (!image && !recipeId)\n                )\n              }\n              loading={loading}\n            />\n\n          </div>\n          {recipeId && (\n            <Button\n              text=\"Удалить\"\n              underline\n              onClick={handleDelete}\n            />\n          )}\n        </div>\n\n      </Form>\n    </>\n  );\n}\n\nexport default FormRecipe;\n","import React, { useRef } from 'react';\nimport './Favorite.css';\nimport CardList from '../CardList/CardList';\nimport Card from '../Card/Card';\nimport Pagination from '../Pagination/Pagination';\n\nfunction Favorite({\n  onAddToFavorites,\n  onDeleteFromFavorites,\n  onAddPurchase,\n  favoritesPagination,\n  recipes,\n  getFavoritesRecipes,\n  header,\n  renderMainHeader,\n  onDeletePurchase,\n  purchases,\n}) {\n  const favoriteRecipesRef = useRef();\n  return (\n    <>\n      {renderMainHeader(header)}\n      <div ref={favoriteRecipesRef}>\n        <CardList>\n          {recipes.map((recipe) => (\n            <Card\n              key={`card__${recipe.id}`}\n              favoriteRecipesPage\n              subscribers={recipe.subscribers}\n              recipeId={recipe.id}\n              recipeName={recipe.name}\n              tags={recipe.tag}\n              cookingTime={recipe.cooking_time}\n              image={recipe.image_url}\n              author={recipe.author}\n              onAddToFavorites={onAddToFavorites}\n              onDeleteFromFavorites={onDeleteFromFavorites}\n              onAddPurchase={onAddPurchase}\n              pagination={favoritesPagination}\n              onDeletePurchase={onDeletePurchase}\n              purchases={purchases}\n            />\n          ))}\n        </CardList>\n      </div>\n      <Pagination\n        pagination={favoritesPagination}\n        getItems={getFavoritesRecipes}\n        containerWithLoadableItemsRef={favoriteRecipesRef}\n      />\n    </>\n  );\n}\n\nexport default Favorite;\n","import React, { useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport './ShopListItem.css';\nimport '../appearAnimation/appearAnimation.css';\nimport testCardImg from '../../images/testCardImg.png';\n\nfunction ShopListItem({\n  recipe,\n  onDeletePurchase,\n  purchaseId,\n}) {\n  const shopItemRef = useRef();\n  function handlePurchaseDelete() {\n    const promise = new Promise((resolve) => {\n      if (shopItemRef.current) {\n        shopItemRef.current.classList.add('disappearAnimation');\n      }\n      setTimeout(() => (\n        resolve('done')\n      ), 100);\n    });\n    promise.then(() => {\n      onDeletePurchase(purchaseId);\n    });\n  }\n\n  return (\n    <li key={purchaseId} ref={shopItemRef} className=\"shopping-list__item\" data-id=\"111\">\n      <div className=\"recipe recipe_reverse\">\n        <Link to={`/single-page/${recipe.id}`} className=\"recipe__image-link link\">\n          <img src={testCardImg} alt={recipe.name} className=\"recipe__image recipe__image_big\" />\n        </Link>\n        <Link to={`/single-page/${recipe.id}`} className=\"recipe__title-link link\">\n          <h3 className=\"recipe__title\">{recipe.name}</h3>\n        </Link>\n        <p className=\"recipe__text\">\n          <span className=\"icon-time\" />\n          {` ${recipe.cooking_time} мин.`}\n        </p>\n      </div>\n      <button onClick={handlePurchaseDelete} type=\"button\" className=\"shopping-list__button link\">Удалить</button>\n    </li>\n  );\n}\n\nexport default React.memo(ShopListItem);\n","import React from 'react';\nimport './ShopList.css';\nimport CardList from '../CardList/CardList';\nimport ShopListItem from '../ShopListItem/ShopListItem';\nimport Button from '../Button/Button';\n\nfunction ShopList({\n  // purchasesRecipes,\n  purchases,\n  onDeletePurchase,\n  onDownload,\n  header,\n  renderMainHeader,\n}) {\n  function handleDownload() {\n    onDownload(purchases);\n  }\n\n  return (\n    <>\n      {renderMainHeader(header)}\n      <CardList column>\n        <ul className=\"shopping-list\">\n          {purchases.map((purchaseData) => (\n            <ShopListItem\n              key={purchaseData.id}\n              recipe={purchaseData.purchase}\n              purchaseId={purchaseData.id}\n              onDeletePurchase={onDeletePurchase}\n            />\n          ))}\n        </ul>\n\n        <Button\n          blue\n          text=\"Скачать список\"\n          onClick={handleDownload}\n          disabled={purchases.length < 1}\n        />\n\n      </CardList>\n    </>\n  );\n}\n\nexport default React.memo(ShopList);\n","import React from 'react';\nimport './iconTime.css';\n\nfunction IconTime() {\n  return (\n    <span className=\"icon-time\" />\n  );\n}\n\nexport default IconTime;\n","import React from 'react';\nimport './iconUser.css';\n\nfunction IconUser() {\n  return (\n    <span className=\"icon-user\" />\n  );\n}\n\nexport default IconUser;\n","import React from 'react';\nimport './Preloader.css';\n\nfunction Preloader() {\n  return (\n    <div className=\"circle-preloader\">\n      <div className=\"circle-preloader__body spinner-box\">\n        <div className=\"circle-preloader__border\">\n          <div className=\"circle-preloader__core\" />\n        </div>\n      </div>\n      <p className=\"circle-preloader__text\">Загрузка рецепта...</p>\n    </div>\n  );\n}\n\nexport default Preloader;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport './SingleRecipePage.css';\nimport api from '../../utils/Api';\nimport renderTags from '../../utils/renderTags';\nimport CurrentUserContext from '../../context/CurrentUserContext';\nimport IconFavorite from '../../ui/iconFavorite/iconFavorite';\nimport Button from '../Button/Button';\nimport IconPlus from '../../ui/iconPlus/iconPlus';\nimport IconMinus from '../../ui/iconMinus/iconMinus';\nimport IconTime from '../../ui/iconTime/iconTime';\nimport IconUser from '../../ui/iconUser/iconUser';\nimport Preloader from '../Preloader/Preloader';\nimport DefaultImage from '../../images/defaultImage.jpg';\n\nfunction SingleRecipePage({\n  onSubscribe,\n  subscriptions,\n  onUnsubscribe,\n  onAddToFavorites,\n  onDeleteFromFavorites,\n  onAddPurchase,\n  onDeletePurchase,\n  purchases,\n  setResponseError,\n  setIsOpenInfoTooltip,\n}) {\n  const { recipeId } = useParams();\n  const [recipeLoaded, setRecipeLoaded] = useState(false);\n  const [purchaseLoading, setPurchaseLoading] = useState(false);\n  const [saveLoading, setSaveLoading] = useState(true);\n  const [recipe, setRecipe] = useState({});\n  const [isUserIsSubscribed, setIsUserIsSubscribed] = useState(null);\n  const currentUser = useContext(CurrentUserContext);\n  const [isCardFavorite, setIsCardFavorite] = useState(false);\n  const [purchaseId, setPurchaseId] = useState('');\n\n  function getRecipeData(id) {\n    api.getRecipe(id)\n      .then((data) => {\n        setRecipe(data);\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  function handleAddToPurchase() {\n    setPurchaseLoading(true);\n    onAddPurchase(recipeId);\n  }\n\n  function handlePurchaseDelete() {\n    setPurchaseLoading(true);\n    onDeletePurchase(purchaseId);\n  }\n\n  function handleAddToFavorites() {\n    if (!isCardFavorite) {\n      setSaveLoading(true);\n      onAddToFavorites({ recipeId, getRecipeData });\n      // getRecipeData(recipeId);\n    }\n  }\n\n  function handleRemoveFromFavorites() {\n    if (isCardFavorite) {\n      setSaveLoading(true);\n      onDeleteFromFavorites({ recipeId, getRecipeData });\n      // getRecipeData(recipeId);\n    }\n  }\n\n  function handleSubscribe() {\n    onSubscribe(recipe.author, setIsUserIsSubscribed);\n  }\n\n  function handleUnSubscribe() {\n    api.getSubscriptions({ author: `&author=${recipe.author}` })\n      .then((data) => {\n        if (data.results) {\n          onUnsubscribe({\n            subscriptionId: data.results[0].id,\n            setIsUserIsSubscribed,\n          });\n        }\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  useEffect(() => {\n    getRecipeData(recipeId);\n  }, [recipeId]);\n\n  useEffect(() => {\n    if (purchases) {\n      if (purchases.length === 0) {\n        setPurchaseId('');\n      } else {\n        const purchase = purchases.find((item) => (\n          item.purchase.id.toString() === recipeId.toString()\n        ));\n        if (purchase) {\n          setPurchaseId(purchase.id);\n        } else {\n          setPurchaseId('');\n        }\n      }\n    }\n    setPurchaseLoading(false);\n  }, [purchases, recipeId]);\n\n  useEffect(() => {\n    if (currentUser.username) {\n      if (recipe.subscribers) {\n        const isSaved = recipe.subscribers.some((item) => (\n          item.username === currentUser.username\n        ));\n        setIsCardFavorite(isSaved);\n      }\n    }\n    setSaveLoading(false);\n  }, [recipe, currentUser.username]);\n\n  useEffect(() => {\n    if (currentUser.username) {\n      api.getSubscriptions({ author: `&author=${recipe.author}` })\n        .then((data) => {\n          if (data.results) setIsUserIsSubscribed(data.results.length > 0);\n          setSaveLoading(false);\n          setRecipeLoaded(true);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [currentUser, subscriptions, recipe.author]);\n\n  function renderIngredients(ingredients) {\n    if (ingredients) {\n      return ingredients.map((ingredient) => (\n        <p className=\" single-card__section-item\" key={ingredient.id}>\n          {`${ingredient.name} - ${ingredient.amount} ${ingredient.units}.`}\n        </p>\n      ));\n    }\n    return <p className=\" single-card__section-item\">загрузка</p>;\n  }\n\n  function renderSubscribeButton() {\n    if (currentUser.username && currentUser.username !== recipe.author) {\n      if (isUserIsSubscribed === null) {\n        return (\n          <li className=\"single-card__item\">\n            <Button\n              text=\"Загрузка...\"\n              type=\"button\"\n              lightBlue\n              sizeSubscribe\n              disabled\n            />\n          </li>\n        );\n      }\n      if (isUserIsSubscribed) {\n        return (\n          <li className=\"single-card__item\">\n            <Button\n              text=\"Отписаться\"\n              lightBlue\n              sizeSubscribe\n              onClick={handleUnSubscribe}\n            />\n          </li>\n        );\n      }\n      return (\n        <li className=\"single-card__item\">\n          <Button\n            text=\"Подписаться на автора\"\n            onClick={handleSubscribe}\n            lightBlue\n            sizeSubscribe\n          />\n        </li>\n      );\n    }\n    return <li className=\"single-card__item\"><div className=\"button_size_subscribe\" /></li>;\n  }\n\n  return (\n    recipeLoaded ? (\n      <div className=\"single-card\" data-id={`recipe__${recipeId}`} data-author={recipe.author}>\n        <img src={recipe.image_url || DefaultImage} alt={recipe.name} className=\"single-card__image\" />\n        <div className=\"single-card__info\">\n          <div className=\"single-card__header-info\">\n            <h1 className=\"single-card__title\">{recipe.name}</h1>\n            <div className=\"single-card__favorite\">\n              <Button\n                onClick={isCardFavorite ? handleRemoveFromFavorites : handleAddToFavorites}\n                styleNone\n                favorite\n                loading={saveLoading}\n                disabled={saveLoading}\n                text={(\n                  <IconFavorite\n                    big\n                    active={isCardFavorite || saveLoading}\n                  />\n                )}\n              />\n              <div className=\"single-card__favorite-tooltip tooltip\">Добавить в избранное</div>\n            </div>\n          </div>\n          <ul className=\"single-card__items\">\n            {renderTags(recipe.tag)}\n          </ul>\n          <div className=\"single-card__items single-card__items_column\">\n            <p className=\"single-card__text\">\n              <IconTime />\n              {` ${recipe.cooking_time} мин.`}\n            </p>\n            <ul className=\"single-card__items\">\n              <li className=\"single-card__item\">\n                <Link to={`/recipes/${recipe.author}`} className=\"single-card__name-link\">\n                  <IconUser />\n                  {` ${recipe.author}`}\n                </Link>\n              </li>\n              <li className=\"single-card__item\">\n                {recipe.author === currentUser.username && (\n                  <Link type=\"button\" to={`/form-recipe/${recipeId}`} className=\"single-card__button\">\n                    Редактировать рецепт\n                  </Link>\n                )}\n              </li>\n            </ul>\n          </div>\n          <ul className=\"single-card__items\">\n            <li className=\"single-card__item\">\n              {purchaseId ? (\n                <Button\n                  text={(\n                    <>\n                      <IconMinus />\n                      Убрать из покупок\n                    </>\n                  )}\n                  onClick={handlePurchaseDelete}\n                  lightOrange\n                  disabled={!currentUser.username || purchaseLoading}\n                />\n              ) : (\n                <Button\n                  text={(\n                    <>\n                      <IconPlus />\n                      Добавить в покупки\n                    </>\n                  )}\n                  onClick={handleAddToPurchase}\n                  blue\n                  disabled={!currentUser.username || purchaseLoading}\n                />\n              )}\n            </li>\n            {renderSubscribeButton()}\n          </ul>\n          <div className=\"single-card__section\">\n            <h3 className=\"single-card__section-title\">Ингридиенты:</h3>\n            <div className=\"single-card__items single-card__items_column\">\n              {renderIngredients(recipe.ingredient)}\n            </div>\n          </div>\n          <div className=\"single-card__section\">\n            <h3 className=\"single-card__section-title\">Описание:</h3>\n            <p className=\" single-card__section-text\">{recipe.description}</p>\n          </div>\n        </div>\n      </div>\n    ) : (\n      <Preloader />\n    )\n  );\n}\n\nexport default SingleRecipePage;\n","export default \"data:image/jpeg;base64,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\"","import React from 'react';\nimport { Route, useHistory } from 'react-router-dom';\n\nconst ProtectedRout = ({ component: Component, ...props }) => {\n  const { path } = props;\n  const history = useHistory();\n\n  return (\n    <Route exact path={path}>\n      {\n        // eslint-disable-next-line\n        () => (localStorage.getItem('token') ? <Component {...props} /> : history.push('/', {noAuthRedirect: true}))\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRout;\n","import React from 'react';\nimport './Popup.css';\n\nfunction Popup({\n  isOpen,\n  title,\n  onClose,\n  message,\n}) {\n  function overlayClose(evt) {\n    if (\n      evt.target.classList.contains('popup__close')\n      || evt.target.classList.contains('popup_opened')\n    ) {\n      onClose();\n    }\n  }\n\n  return (\n    <div onMouseDown={overlayClose} className={`popup ${isOpen && 'popup_opened'}`}>\n      <div className={`popup__window ${isOpen && 'popup__window_opened'}`}>\n        <h3 className=\"popup__title\">{title}</h3>\n        <p className=\"popup__server-error popup__server-error_active\">{message}</p>\n        <button type=\"button\" onClick={onClose} className=\"popup__close\" />\n      </div>\n    </div>\n  );\n}\n\nexport default Popup;\n","import React from 'react';\nimport './InfoTooltip.css';\nimport Popup from '../Popup/Popup';\n\nfunction InfoTooltip({\n  isOpen,\n  onClose,\n  responseError,\n  setResponseError,\n}) {\n  function handleClose() {\n    onClose();\n    setTimeout(() => {\n      setResponseError('');\n    }, 400);\n  }\n\n  return (\n    <Popup\n      isOpen={isOpen}\n      title=\"Ошибка!\"\n      message={responseError}\n      onClose={handleClose}\n    />\n  );\n}\n\nexport default InfoTooltip;\n","import { API_BASE_URL } from './constants';\n\nclass Auth {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  async register(name, username, email, password) {\n    const loadingRegisterInfo = fetch(`${this.baseUrl}/users/signup/`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        first_name: name,\n        username,\n        email,\n        password,\n      }),\n    });\n    const response = await loadingRegisterInfo;\n    const newUserRegistrationData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(newUserRegistrationData).forEach((key) => {\n        errors.push(`${key}: ${newUserRegistrationData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(newUserRegistrationData);\n    });\n  }\n\n  async authorize(username, password) {\n    const loadingAuthorizeInfo = fetch(`${this.baseUrl}/users/signin/`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({ username, password }),\n    });\n    const response = await loadingAuthorizeInfo;\n    const authorizeData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(authorizeData).forEach((key) => {\n        errors.push(`${key}: ${authorizeData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(authorizeData);\n    });\n  }\n\n  async changePassword(oldPassword, newPassword, newPasswordAgain) {\n    const loadingPasswordChangeInfo = fetch(`${this.baseUrl}/users/change-password/`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        old_password: oldPassword,\n        new_password: newPassword,\n        new_password_again: newPasswordAgain,\n      }),\n    });\n    const response = await loadingPasswordChangeInfo;\n    const changingPasswordData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(changingPasswordData).forEach((key) => {\n        errors.push(`${key}: ${changingPasswordData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(changingPasswordData);\n    });\n  }\n\n  async getContent(token) {\n    const contentInfo = fetch(`${this.baseUrl}/users/me/`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Token ${token}`,\n      },\n    });\n    const response = await contentInfo;\n    const responseData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(responseData).forEach((key) => {\n        errors.push(`${key}: ${responseData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n\n  async resetPassword(email) {\n    const loadingResponse = fetch(`${this.baseUrl}/users/reset-password/`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({ email }),\n    });\n    const response = await loadingResponse;\n    const responseData = await response.json();\n    if (!response.ok) {\n      const errors = [];\n      Object.keys(responseData).forEach((key) => {\n        errors.push(`${key}: ${responseData[key]}`);\n      });\n      return Promise.reject(`Ошибка! ${errors.join('\\n')}`);\n    }\n    return new Promise((resolve) => {\n      resolve(responseData);\n    });\n  }\n}\n\nconst auth = new Auth({\n  baseUrl: API_BASE_URL,\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default auth;\n","import React, { useState, useEffect } from 'react';\n\nimport {\n  Route,\n  Switch,\n  Redirect,\n  useHistory,\n} from 'react-router-dom';\n\nimport './App.css';\nimport '../appearAnimation/appearAnimation.css';\nimport Header from '../Header/Header';\nimport Footer from '../Footer/Footer';\nimport Tags from '../Tags/Tags';\nimport Recipes from '../Recipes/Recipes';\nimport FormReg from '../FromReg/FormReg';\nimport FormAuth from '../FormAuth/FormAuth';\nimport FormResetPassword from '../FormResetPassword/FormResetPassword';\nimport FormChangePassword from '../FormChangePassword/FormChangePassword';\nimport MyFollow from '../MyFollow/MyFollow';\nimport FormRecipe from '../FormRecipe/FormRecipe';\nimport Favorite from '../Favorite/Favorite';\nimport ShopList from '../ShopList/ShopList';\nimport SingleRecipePage from '../SingleRecipePage/SingleRecipePage';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\n\nimport api from '../../utils/Api';\nimport auth from '../../utils/Auth';\n\nimport CurrentUserContext from '../../context/CurrentUserContext';\nimport downloadAsFile from '../../utils/downloadFile';\n\nfunction App() {\n  const history = useHistory();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [recipes, setRecipes] = useState([]);\n  const [authorRecipes, setAuthorRecipes] = useState([]);\n  const [authorRecipesPagination, setAuthorRecipesPagination] = useState({});\n  const [selectedAuthor, setSelectedAuthor] = useState('');\n  const [resetPasswordResponse, setResetPasswordResponse] = useState('');\n  const [recipesPagination, setRecipesPagination] = useState({});\n  const [favoritesPagination, setFavoritesPagination] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [favoriteRecipes, setFavoriteRecipes] = useState([]);\n  const [serverError, setServerError] = useState('');\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [subscriptionsPagination, setSubscriptionsPagination] = useState({});\n  const [purchases, setPurchases] = useState([]);\n\n  const [tagBreakfast, setTagBreakfast] = useState('');\n  const [tagDinner, setTagDinner] = useState('');\n  const [tagSupper, setTagSupper] = useState('');\n\n  const [isOpenInfoTooltip, setIsOpenInfoTooltip] = useState(false);\n  const [responseError, setResponseError] = useState('');\n\n  function closeAllPopups() {\n    setIsOpenInfoTooltip(false);\n  }\n\n  useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener('keydown', handleEscClose);\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n    };\n  }, []);\n\n  // Users\n  function tokenCheck() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth.getContent(token)\n        .then((user) => {\n          if (user) {\n            api.headers.Authorization = `Token ${token}`;\n            auth.headers.Authorization = `Token ${token}`;\n            setCurrentUser({\n              name: user.first_name,\n              username: user.username,\n              email: user.email,\n            });\n            setServerError('');\n            setIsLoggedIn(true);\n          }\n        })\n        .catch((err) => {\n          localStorage.removeItem('jwt');\n          setCurrentUser({});\n          setIsLoggedIn(false);\n          history.push('/signin');\n          // setResponseError(err);\n          // setIsOpenInfoTooltip(true);\n          console.log(err);\n        });\n    } else {\n      localStorage.removeItem('jwt');\n      setCurrentUser({});\n      setIsLoggedIn(false);\n    }\n  }\n\n  useEffect(() => {\n    setIsLoggedIn(false);\n    tokenCheck();\n  }, []);\n\n  function handleRegistrationSubmit(name, username, email, password, setLoading) {\n    auth.register(name, username, email, password)\n      .then((newUserInfo) => {\n        if (newUserInfo.token) {\n          localStorage.setItem('token', newUserInfo.token);\n          api.headers.Authorization = `Token ${newUserInfo.token}`;\n          auth.headers.Authorization = `Token ${newUserInfo.token}`;\n          setCurrentUser({\n            name: newUserInfo.first_name,\n            username: newUserInfo.username,\n            email: newUserInfo.email,\n          });\n          setIsLoggedIn(true);\n          setServerError('');\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        setServerError(err);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  function handleLoginSubmit(username, password, setLoading) {\n    auth.authorize(username, password)\n      .then((data) => {\n        if (data.token) {\n          auth.getContent(data.token)\n            .then((user) => {\n              localStorage.setItem('token', data.token);\n              api.headers.Authorization = `Token ${data.token}`;\n              auth.headers.Authorization = `Token ${data.token}`;\n              setCurrentUser({\n                name: user.first_name,\n                username: user.username,\n                email: user.email,\n              });\n              setIsLoggedIn(true);\n              setServerError('');\n              history.push('/');\n            });\n        }\n      })\n      .catch((e) => {\n        setServerError(e);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  function handlePasswordChange(oldPassword, newPassword, newPasswordAgain, setLoading) {\n    auth.changePassword(oldPassword, newPassword, newPasswordAgain)\n      .then(() => {\n        localStorage.removeItem('token');\n        setIsLoggedIn(false);\n        setCurrentUser({});\n        setServerError('');\n        history.push('/signin');\n      })\n      .catch((err) => {\n        setServerError(err);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  function handlePasswordReset(email, setLoading) {\n    auth.resetPassword(email)\n      .then((data) => {\n        setResetPasswordResponse(data);\n        setServerError('');\n      })\n      .catch((err) => {\n        setServerError(err);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  function handleExit() {\n    localStorage.removeItem('token');\n    setCurrentUser({});\n    setIsLoggedIn(false);\n    history.push('/signin');\n  }\n  // End users\n\n  // Recipes\n\n  function getRecipes(params) {\n    const {\n      page,\n      author,\n      loadedElementsContainer,\n    } = params;\n    api.getRecipes({\n      page,\n      author,\n      tagBreakfast,\n      tagDinner,\n      tagSupper,\n    })\n      .then((data) => {\n        if (author) {\n          setAuthorRecipes(data.results);\n          setAuthorRecipesPagination({\n            count: data.count,\n            next: data.next,\n            previous: data.previous,\n          });\n        } else {\n          setRecipes(data.results);\n          setRecipesPagination({\n            count: data.count,\n            next: data.next,\n            previous: data.previous,\n          });\n        }\n        if (loadedElementsContainer) {\n          loadedElementsContainer.classList.remove('disappearAnimation');\n          loadedElementsContainer.classList.add('appearAnimation');\n        }\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  function handleDeleteRecipe(recipeId) {\n    api.deleteRecipe(recipeId)\n      .then(() => {\n        window.location.assign('/');\n        setServerError('');\n      })\n      .catch((err) => {\n        setServerError(err);\n      });\n  }\n\n  function handleRecipeSubmit(recipe, formElem, token) {\n    formElem.append('ingredient', JSON.stringify(recipe.ingredient));\n    formElem.append('tag', JSON.stringify(recipe.tag));\n    api.postRecipe(recipe, formElem, token)\n      .then(() => {\n        setServerError('');\n        window.location.assign('/');\n      })\n      .catch((err) => {\n        setServerError(err);\n      });\n  }\n\n  function handleRecipeUpdate(recipe, formElem, token, recipeId, setLoading) {\n    formElem.append('ingredient', JSON.stringify(recipe.ingredient));\n    formElem.append('tag', JSON.stringify(recipe.tag));\n    api.updateRecipe(formElem, token, recipeId)\n      .then(() => {\n        setServerError('');\n        window.location.assign('/');\n      })\n      .catch((err) => {\n        setServerError(err);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  function getSubscriptions(params) {\n    const { page, loadedElementsContainer } = params;\n    api.getSubscriptions({ page })\n      .then((subscriptionsData) => {\n        setSubscriptions(subscriptionsData.results);\n        setSubscriptionsPagination({\n          count: subscriptionsData.count,\n          next: subscriptionsData.next,\n          previous: subscriptionsData.previous,\n        });\n        if (loadedElementsContainer) {\n          loadedElementsContainer.classList.remove('disappearAnimation');\n          loadedElementsContainer.classList.add('appearAnimation');\n        }\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  function handleSubscribe(author, setIsUserisSubscribed) {\n    api.subscribe(author)\n      .then(() => {\n        setIsUserisSubscribed(true);\n        getSubscriptions({});\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  function handleUnsubscribe(params) {\n    const { subscriptionId, setIsUserisSubscribed, page } = params;\n    api.unsubscribe(subscriptionId)\n      .then(() => {\n        getSubscriptions({ page });\n        if (setIsUserisSubscribed) {\n          setIsUserisSubscribed(false);\n        }\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  function getFavoritesRecipes(params) {\n    const {\n      page,\n      loadedElementsContainer,\n    } = params;\n    api.getFavoritesRecipes({\n      page,\n      tagBreakfast,\n      tagDinner,\n      tagSupper,\n    })\n      .then((favorites) => {\n        const favoriteRiceps = [];\n        favorites.results.forEach((item) => (\n          favoriteRiceps.push(item.favorite)\n        ));\n        setFavoriteRecipes(favorites.results);\n        setFavoritesPagination({\n          count: favorites.count,\n          next: favorites.next,\n          previous: favorites.previous,\n        });\n        if (loadedElementsContainer) {\n          loadedElementsContainer.classList.remove('disappearAnimation');\n          loadedElementsContainer.classList.add('appearAnimation');\n        }\n      });\n  }\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      getFavoritesRecipes({});\n    }\n  }, [isLoggedIn]);\n\n  function getPurchases() {\n    api.getPurchases()\n      .then((purchasesData) => {\n        setPurchases(purchasesData);\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      getPurchases();\n    }\n  }, [isLoggedIn]);\n\n  function handleAuthorClick(authorName) {\n    getRecipes({ author: authorName });\n  }\n\n  function handleSetTagBreakfast() {\n    setTagBreakfast(tagBreakfast ? '' : '&tag__name=завтрак');\n  }\n\n  function handleSetTagDinner() {\n    setTagDinner(tagDinner ? '' : '&tag__name=обед');\n  }\n\n  function handleSetTagSupper() {\n    setTagSupper(tagSupper ? '' : '&tag__name=ужин');\n  }\n\n  useEffect(() => {\n    // запрашиваем отвильтрованные по тегам рецепты,\n    // как для конкретного автора, так и для страницы со всеми рецептами и сохраненные рецепты\n    // тогда установленный фильтр работает по всем страницам и выделенные теги актуальны\n    if (selectedAuthor) {\n      getRecipes({ author: selectedAuthor });\n    }\n    getRecipes({});\n    if (isLoggedIn) {\n      getFavoritesRecipes({});\n    }\n  }, [tagBreakfast, tagDinner, tagSupper]);\n\n  function handleAddToPurchase(recipeId) {\n    api.addPurchase(recipeId)\n      .then(() => {\n        getPurchases();\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  function handleDeletePurchase(purchaseId) {\n    api.deletePurchase(purchaseId)\n      .then(() => {\n        getPurchases();\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  function handleAddToFavorites(params) {\n    const {\n      recipeId,\n      page,\n      author,\n      allRecipesPage,\n      favoriteRecipesPage,\n      getRecipeData,\n    } = params;\n    api.addToFavoritesRecipes(recipeId)\n      .then(() => {\n        getRecipes(allRecipesPage ? { page, author } : {});\n        getFavoritesRecipes(favoriteRecipesPage ? { page } : {});\n        // для обновления состояния иконки сохранения на singlPage\n        if (getRecipeData) {\n          getRecipeData(recipeId);\n        }\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  function handleRemoveFromFavorites(params) {\n    const {\n      recipeId,\n      page,\n      author,\n      allRecipesPage,\n      favoriteRecipesPage,\n      getRecipeData,\n    } = params;\n    api.deleteFromFavoritesRecipes(recipeId)\n      .then(() => {\n        getRecipes(allRecipesPage ? { page, author } : {});\n        getFavoritesRecipes(favoriteRecipesPage ? { page } : {});\n        // для обновления состояния иконки сохранения на singlPage\n        if (getRecipeData) {\n          getRecipeData(recipeId);\n        }\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  useEffect(() => {\n    if (selectedAuthor) {\n      getRecipes({ author: selectedAuthor });\n    } else {\n      getRecipes({});\n    }\n  }, [isLoggedIn, selectedAuthor]);\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      getSubscriptions({});\n    }\n  }, [isLoggedIn]);\n\n  function handleDownloadClick(downloadPurchases) {\n    api.download(downloadPurchases)\n      .then((response) => {\n        downloadAsFile(response);\n      })\n      .catch((err) => {\n        setResponseError(err);\n        setIsOpenInfoTooltip(true);\n      });\n  }\n\n  function renderTitleName(currentAuthor) {\n    return ` ${currentAuthor.replace('&author__username=', '')}`;\n  }\n\n  function renderMainHeader(header, currentAuthor) {\n    return (\n      <div className=\"main__header appearAnimation\">\n        <h1 className=\"main__title\">\n          {currentAuthor ? renderTitleName(currentAuthor) : header}\n        </h1>\n        {(['Рецепты', 'Избранное'].includes(header)) && (\n          <Tags\n            main\n            onSetTagBreakfast={handleSetTagBreakfast}\n            onSetTagTagDinner={handleSetTagDinner}\n            onSetTagTagSupper={handleSetTagSupper}\n            tagBreakfast={tagBreakfast}\n            tagDinner={tagDinner}\n            tagSupper={tagSupper}\n          />\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <>\n\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          isLoggedIn={isLoggedIn}\n          onExit={handleExit}\n          purchases={purchases}\n        />\n        <main className=\"container main\">\n\n          <Switch>\n\n            <Route exact path=\"/\">\n              {renderMainHeader('Рецепты')}\n              <Recipes\n                recipes={recipes}\n                favoriteRecipes={favoriteRecipes}\n                onAddToFavorites={handleAddToFavorites}\n                onDeleteFromFavorites={handleRemoveFromFavorites}\n                onAddPurchase={handleAddToPurchase}\n                recipesPagination={recipesPagination}\n                getRecipes={getRecipes}\n                onAuthorClick={handleAuthorClick}\n                setSelectedAuthor={setSelectedAuthor}\n                onDeletePurchase={handleDeletePurchase}\n                purchases={purchases}\n                setResponseError={setResponseError}\n                setIsOpenInfoTooltip={setIsOpenInfoTooltip}\n              />\n            </Route>\n\n            <Route path=\"/signup\">\n              {renderMainHeader('Регистрация')}\n              <FormReg\n                onSubmit={handleRegistrationSubmit}\n                serverError={serverError}\n              />\n            </Route>\n\n            <Route path=\"/signin\">\n              {renderMainHeader('Войти на сайт')}\n              <FormAuth\n                onSubmit={handleLoginSubmit}\n                serverError={serverError}\n              />\n            </Route>\n\n            <Route path=\"/reset-password\">\n              {renderMainHeader('Сброс пароля')}\n              <FormResetPassword\n                onSubmit={handlePasswordReset}\n                serverError={serverError}\n                resetPasswordResponse={resetPasswordResponse}\n                setServerError={setServerError}\n                setResetPasswordResponse={setResetPasswordResponse}\n              />\n            </Route>\n\n            <Route path=\"/change-password\">\n              {renderMainHeader('Изменить пароль')}\n              <FormChangePassword\n                onSubmit={handlePasswordChange}\n                serverError={serverError}\n              />\n            </Route>\n\n            <ProtectedRoute\n              path=\"/my-follow\"\n              header=\"Мои подписки\"\n              renderMainHeader={renderMainHeader}\n              component={MyFollow}\n              onUnsubscribe={handleUnsubscribe}\n              subscriptions={subscriptions}\n              getSubscriptions={getSubscriptions}\n              subscriptionsPagination={subscriptionsPagination}\n              setResponseError={setResponseError}\n              setIsOpenInfoTooltip={setIsOpenInfoTooltip}\n            />\n\n            <ProtectedRoute\n              path=\"/form-recipe/:recipeId\"\n              header=\"Редактирование рецепта\"\n              renderMainHeader={renderMainHeader}\n              component={FormRecipe}\n              onSubmit={handleRecipeUpdate}\n              serverError={serverError}\n              onDelete={handleDeleteRecipe}\n            />\n\n            <ProtectedRoute\n              path=\"/form-recipe/\"\n              header=\"Создание рецепта\"\n              renderMainHeader={renderMainHeader}\n              component={FormRecipe}\n              onSubmit={handleRecipeSubmit}\n              serverError={serverError}\n              setResponseError={setResponseError}\n              setIsOpenInfoTooltip={setIsOpenInfoTooltip}\n            />\n\n            <ProtectedRoute\n              path=\"/favorite/\"\n              header=\"Избранное\"\n              renderMainHeader={renderMainHeader}\n              component={Favorite}\n              onAddToFavorites={handleAddToFavorites}\n              onDeleteFromFavorites={handleRemoveFromFavorites}\n              onAddPurchase={handleAddToPurchase}\n              favoritesPagination={favoritesPagination}\n              recipes={favoriteRecipes}\n              getFavoritesRecipes={getFavoritesRecipes}\n              onDeletePurchase={handleDeletePurchase}\n              purchases={purchases}\n            />\n\n            <ProtectedRoute\n              path=\"/shop-list\"\n              header=\"Список покупок\"\n              renderMainHeader={renderMainHeader}\n              component={ShopList}\n              purchases={purchases}\n              onDeletePurchase={handleDeletePurchase}\n              onDownload={handleDownloadClick}\n            />\n\n            <Route path=\"/single-page/:recipeId\">\n              <SingleRecipePage\n                onSubscribe={handleSubscribe}\n                onUnsubscribe={handleUnsubscribe}\n                subscriptions={subscriptions}\n                onAddToFavorites={handleAddToFavorites}\n                onDeleteFromFavorites={handleRemoveFromFavorites}\n                onAddPurchase={handleAddToPurchase}\n                favoriteRecipes={favoriteRecipes}\n                onDeletePurchase={handleDeletePurchase}\n                purchases={purchases}\n                setResponseError={setResponseError}\n                setIsOpenInfoTooltip={setIsOpenInfoTooltip}\n              />\n            </Route>\n\n            <Route path=\"/recipes/:author\">\n              {renderMainHeader('Рецепты', selectedAuthor)}\n              <Recipes\n                recipes={authorRecipes}\n                favoriteRecipes={favoriteRecipes}\n                onAddToFavorites={handleAddToFavorites}\n                onDeleteFromFavorites={handleRemoveFromFavorites}\n                onAddPurchase={handleAddToPurchase}\n                recipesPagination={authorRecipesPagination}\n                getRecipes={getRecipes}\n                onAuthorClick={handleAuthorClick}\n                selectedAuthor={selectedAuthor}\n                setSelectedAuthor={setSelectedAuthor}\n                onSubscribe={handleSubscribe}\n                onUnsubscribe={handleUnsubscribe}\n                subscriptions={subscriptions}\n                onDeletePurchase={handleDeletePurchase}\n                purchases={purchases}\n              />\n            </Route>\n\n            <Route>\n              <Redirect to=\"/\" />\n            </Route>\n\n          </Switch>\n\n          <InfoTooltip\n            isOpen={isOpenInfoTooltip}\n            onClose={closeAllPopups}\n            responseError={responseError}\n            setResponseError={setResponseError}\n          />\n\n        </main>\n        <Footer />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","export default function downloadAsFile(data) {\n  const a = document.createElement('a');\n  const file = new Blob([data], { type: 'application/text' });\n  a.href = URL.createObjectURL(file);\n  a.download = 'example.txt';\n  a.click();\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS,\n      getFID,\n      getFCP,\n      getLCP,\n      getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}