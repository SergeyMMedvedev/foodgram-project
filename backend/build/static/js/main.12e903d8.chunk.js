(this.webpackJsonpfoodgram=this.webpackJsonpfoodgram||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(21),r=n.n(s),i=n(5),o=(n(29),n(2)),A=n(7),u=(n(30),n(12),n(31),n(0));var l=function(e){var t=e.isLoggedIn,n=e.onExit,a=e.purchases;return Object(u.jsx)("nav",{className:"nav",children:Object(u.jsxs)("div",{className:"nav__container container",children:[t?Object(u.jsxs)("ul",{className:"nav__items list",children:[Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)(i.c,{exact:!0,to:"/",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"})}),Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)(i.c,{to:"/my-follow",activeClassName:"nav__link_active",className:"nav__link link",children:"\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"})}),Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)(i.c,{to:"/form-recipe",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442"})}),Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)(i.c,{to:"/favorite",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})}),Object(u.jsxs)("li",{className:"nav__item",children:[Object(u.jsx)(i.c,{to:"/shop-list",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a"}),Object(u.jsx)("span",{className:"badge badge_style_blue nav__badge",id:"counter",children:a.length>0?a.length:""})]})]}):Object(u.jsxs)("ul",{className:"nav__items list",children:[Object(u.jsx)("li",{className:"nav__item nav__item_disabled",children:Object(u.jsx)(i.c,{exact:!0,to:"/",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"})}),Object(u.jsx)("li",{className:"nav__item nav__item_disabled",children:Object(u.jsx)("p",{className:"nav__link link nav__link_disabled",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a"})})]}),t?Object(u.jsxs)("ul",{className:"nav__items list",children:[Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)(i.c,{to:"/change-password",activeClassName:"nav__link_active",className:"nav__link link",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)(i.c,{to:"/signin",onClick:n,activeClassName:"nav__link_active",className:"nav__link link",children:"\u0412\u044b\u0445\u043e\u0434"})})]}):Object(u.jsxs)("ul",{className:"nav__items list",children:[Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)(i.c,{activeClassName:"nav__link_active",to:"/signin",className:"nav__link link",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)(i.c,{activeClassName:"nav__link_active",to:"/signup",className:"button button_style_blue",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})]})]})})};var j=function(e){var t=e.isLoggedIn,n=e.onExit,a=e.purchases;return Object(u.jsx)("header",{className:"header",children:Object(u.jsx)(l,{isLoggedIn:t,onExit:n,purchases:a})})};n(41);var d=function(){return Object(u.jsx)("footer",{className:"footer",children:Object(u.jsxs)("div",{className:"footer__container container",children:[Object(u.jsx)(i.b,{to:"/",className:"footer__brand link",children:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432\u044b\u0439 \u043f\u043e\u043c\u043e\u0449\u043d\u0438\u043a"}),Object(u.jsxs)("ul",{className:"footer__items",children:[Object(u.jsx)("li",{className:"footer__item",children:Object(u.jsx)(i.b,{to:"/about",className:"footer__link link",children:"\u041e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435 "})}),Object(u.jsx)("li",{className:"footer__item",children:Object(u.jsx)(i.b,{to:"/technologies",className:"footer__link link",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})})]})]})})};n(42);var b=function(e){var t=e.main,n=e.selectedTags,c=e.onTagClick,s=e.onSetTagBreakfast,r=e.onSetTagTagDinner,i=e.onSetTagTagSupper,o=e.tagBreakfast,A=e.tagDinner,l=e.tagSupper,j=Object(a.useRef)();function d(e){if(t)"\u0437\u0430\u0432\u0442\u0440\u0430\u043a"===e.target.value&&(e.target.classList.toggle("tags__checkbox_active"),s()),"\u043e\u0431\u0435\u0434"===e.target.value&&(e.target.classList.toggle("tags__checkbox_active"),r()),"\u0443\u0436\u0438\u043d"===e.target.value&&(e.target.classList.toggle("tags__checkbox_active"),i());else if(e.target.classList.contains("tags__checkbox_active")){c(!0,e.target.value),e.target.classList.remove("tags__checkbox_active")}else{c(!1,e.target.value),e.target.classList.add("tags__checkbox_active")}}return Object(a.useEffect)((function(){n&&n.length>0&&j.current&&Array.prototype.slice.call(j.current.children).forEach((function(e){n.includes(e.firstChild.value)&&e.firstChild.classList.add("tags__checkbox_active")}))}),[n]),Object(a.useEffect)((function(){if(t&&j.current){var e=Array.prototype.slice.call(j.current.children),n=[o,A,l].map((function(e){return e.replace("&tag__name=","")}));e.forEach((function(e){n.includes(e.firstChild.value)&&e.firstChild.classList.add("tags__checkbox_active")}))}}),[o,A,l]),Object(u.jsxs)("ul",{ref:j,className:"tags",children:[Object(u.jsxs)("li",{className:"tags__item",children:[Object(u.jsx)("button",{value:"\u0437\u0430\u0432\u0442\u0440\u0430\u043a",onClick:d,type:"button",id:"breakfast",className:"tags__checkbox tags__checkbox_style_orange"}),Object(u.jsx)("span",{className:"tags__label",children:"\u0417\u0430\u0432\u0442\u0440\u0430\u043a"})]}),Object(u.jsxs)("li",{className:"tags__item",children:[Object(u.jsx)("button",{value:"\u043e\u0431\u0435\u0434",onClick:d,type:"button",id:"lunch",className:"tags__checkbox tags__checkbox_style_green"}),Object(u.jsx)("span",{htmlFor:"lunch",className:"tags__label",children:"\u041e\u0431\u0435\u0434"})]}),Object(u.jsxs)("li",{className:"tags__item",children:[Object(u.jsx)("button",{value:"\u0443\u0436\u0438\u043d",onClick:d,type:"button",id:"dinner",className:"tags__checkbox tags__checkbox_style_purple"}),Object(u.jsx)("span",{htmlFor:"dinner",className:"tags__label",children:"\u0423\u0436\u0438\u043d"})]})]})},m=(n(43),n(44),n(3)),f=n.n(m);var h=function(e){var t=e.children,n=e.column,a=f()("card-list",{"card-list_column":n});return Object(u.jsx)("div",{className:a,children:t})},p=(n(45),n.p+"static/media/testCardImg.1b1bdc76.png");n(46);var _=function(e){var t=e.className,n=e.tagName;return Object(u.jsx)("li",{className:"card__item",children:Object(u.jsx)("span",{className:"badge ".concat(t),children:n})},n)};function O(e){var t;return e?e.map((function(e){return t="\u0437\u0430\u0432\u0442\u0440\u0430\u043a"===e.name?"badge_style_orange":"\u043e\u0431\u0435\u0434"===e.name?"badge_style_green":"badge_style_purple",Object(u.jsx)(_,{className:t,tagName:e.name},e.name)})):""}n(47);var x=function(e){var t=e.active,n=e.big;return Object(u.jsx)("span",{className:f()("icon-favorite",{"icon-favorite_big":n},{"icon-favorite_active":t})})};n(48);var v=function(){return Object(u.jsx)("span",{className:"icon-plus button__icon"})};n(49);var g=function(){return Object(u.jsx)("span",{className:"icon-minus button__icon"})},N=c.a.createContext(),k="http://web:8000/",P="http://www.api.foodgram.students.nomoredomains.icu/api/v1";function y(e,t,n,a,c){var s=n.find((function(e){return e.classList.contains("pagination__item_active")}));new Promise((function(e){a&&a.classList.add("disappearAnimation"),s&&s.classList.add("pagination__item_deactive"),setTimeout((function(){return e("done")}),100)})).then((function(){c({page:e,author:t,loadedElementsContainer:a})}))}function S(e){return e.previous.slice(e.previous.indexOf("page=")+5,-1!==e.previous.indexOf("&",e.previous.indexOf("page=")+5)?e.previous.indexOf("&"):e.previous.length).length}function w(e){return e.next.slice(e.next.indexOf("page=")+5,-1!==e.next.indexOf("&",e.next.indexOf("page=")+5)?e.next.indexOf("&"):e.next.length).length}function T(e,t){return e.substr(e.indexOf("page=",k.length)+5,t)}function R(e,t){return e.substr(e.indexOf("page=",k.length),5+t)}function F(e){if(e.previous){if(!e.previous.includes("page="))return"page=2";var t=S(e);return"page=".concat(+T(e.previous,t)+1)}if(e.next){var n=w(e);return"page=".concat(+T(e.next,n)-1)}return"page=1"}function E(e){var t=+F(e).replace("page=","");return t===Math.ceil(e.count/6)&&e.count-6*Math.floor(e.count/6)===1&&0===(t-=1)&&(t=1),"page=".concat(t)}function I(e,t,n){return Object(u.jsx)("li",{className:f()("pagination__item",{pagination__item_active:"page=".concat(e)===F(n)}),children:Object(u.jsx)("button",{onClick:t,type:"button",className:"pagination__link link",value:"page=".concat(e),children:e})},e)}function L(e){return Object(u.jsx)("li",{className:"pagination__item",children:Object(u.jsx)("button",{disabled:!0,type:"button",className:"pagination__link link",children:"..."})},e)}function H(e){var t=e.pagination,n=e.getItems,a=e.selectedAuthor,c=e.paginatorRef,s=e.containerWithLoadableItemsRef;function r(e){var t,r=e.target.value,i=Array.prototype.slice.call(c.current.children);s&&(t=s.current),y(r,a,i,t,n)}var i=[],o=+F(t).replace("page=",""),A=Math.ceil(t.count/6);if(A<=7){for(var u=1;u<=Math.ceil(t.count/6);u+=1)i.push(I(u,r,t));return i}if(o>=1&&o<=3){i.push(I(1,r,t));for(var l=2;l<=5;l+=1)i.push(I(l,r,t));return i.push(L("...")),i.push(I(A,r,t)),i}if(o-3===1){for(var j=1;j<=o+2;j+=1)i.push(I(j,r,t));return i.push(L("...")),i.push(I(A,r,t)),i}if(o+3>=A){i.push(I(1,r,t)),i.push(L("..."));for(var d=A-5;d<=A;d+=1)i.push(I(d,r,t));return i}i.push(I(1,r,t)),i.push(L("..."));for(var b=o-2;b<=o+2;b+=1)i.push(I(b,r,t));return i.push(L("...2")),i.push(I(A,r,t)),i}n(50);var z=function(e){var t=e.text,n=e.blue,a=e.lightBlue,c=e.sizeAuto,s=e.onClick,r=e.disabled,i=e.sizeSubscribe,o=e.styleNone,A=e.lightOrange,l=e.underline,j=e.loading,d=e.favorite,b=f()("button",{"button_style_light-blue":a},{button_size_auto:c},{button_style_blue:n},{button_disabled:r&&!d},{button_size_subscribe:i},{button_style_none:o},{"button_style_light-orange":A},{button_style_underline:l},{button_saving:j});return Object(u.jsx)("button",{onClick:s,type:"button",className:b,name:"subscribe",disabled:r,children:t})};function U(e){var t=e.allRecipesPage,n=e.favoriteRecipesPage,c=e.subscribers,s=e.recipeId,r=e.recipeName,A=e.tags,l=e.cookingTime,j=e.image,d=e.author,b=e.onAddToFavorites,m=e.onDeleteFromFavorites,h=e.onAddPurchase,_=e.pagination,k=e.selectedAuthor,P=e.onDeletePurchase,y=e.purchases,S=Object(a.useState)(!0),w=Object(o.a)(S,2),T=w[0],R=w[1],I=Object(a.useState)(!1),L=Object(o.a)(I,2),H=L[0],U=L[1],W=Object(a.useState)(!1),M=Object(o.a)(W,2),C=M[0],X=M[1],D=Object(a.useState)(!1),q=Object(o.a)(D,2),J=q[0],B=q[1],Z=Object(a.useState)(""),Y=Object(o.a)(Z,2),G=Y[0],V=Y[1],Q=Object(a.useContext)(N),K=Object(a.useRef)();return Object(a.useEffect)((function(){if(t){var e=c.some((function(e){return e.username===Q.username}));B(e),R(!1)}else B(!0),R(!1)}),[c]),Object(a.useEffect)((function(){if(y)if(0===y.length)V("");else{var e=y.find((function(e){return e.purchase.id===s}));V(e?e.id:"")}U(!1)}),[y]),Object(u.jsxs)("div",{ref:K,className:f()("card","appearAnimation",{disappearAnimationLong:C&&!t}),"data-id":"recipe__".concat(s),children:[Object(u.jsx)(i.b,{to:"/single-page/".concat(s),className:"link card__image-link",children:Object(u.jsx)("img",{src:j||p,alt:r,className:"card__image"})}),Object(u.jsxs)("div",{className:"card__body",children:[Object(u.jsx)(i.b,{className:"card__title link",to:"/single-page/".concat(s),children:r}),Object(u.jsx)("ul",{className:"card__items",children:O(A)}),Object(u.jsxs)("div",{className:"card__items card__items_column",children:[Object(u.jsxs)("p",{className:"card__text",children:[Object(u.jsx)("span",{className:"icon-time"})," ".concat(l," \u043c\u0438\u043d.")]}),Object(u.jsxs)("p",{className:"card__text",children:[Object(u.jsx)("span",{className:"icon-user"}),Object(u.jsx)(i.b,{to:"/recipes/".concat(d),className:"card__name-link",children:" ".concat(d)})]})]})]}),Object(u.jsxs)("div",{className:"card__footer",children:[G&&Q.username?Object(u.jsx)(z,{text:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u043f\u043e\u043a\u0443\u043f\u043e\u043a"]}),onClick:function(){P(G),U(!0)},lightOrange:!0,disabled:!Q.username||H}):Object(u.jsx)(z,{text:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v,{}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"]}),onClick:function(){U(!0),h(s)},lightBlue:!0,disabled:!Q.username||H}),Q.username&&Object(u.jsx)(z,{onClick:J?function(){X(!0),R(!0),m({recipeId:s,page:t?F(_):E(_),author:k,allRecipesPage:t,favoriteRecipesPage:n})}:function(){R(!0),b({recipeId:s,page:F(_),author:k,allRecipesPage:t,favoriteRecipesPage:n})},loading:T,favorite:!0,disabled:T,text:Object(u.jsx)(x,{active:J||T})})]})]})}var W=c.a.memo(U);n(51),n(52);var M=function(e){var t=e.inactive;return Object(u.jsx)("span",{className:f()("icon-left",{"icon-left_inactive":t})})};n(53);var C=function(e){var t=e.inactive;return Object(u.jsx)("span",{className:f()("icon-right",{"icon-right_inactive":t})})};function X(e){var t=e.pagination,n=e.getItems,c=e.selectedAuthor,s=e.containerWithLoadableItemsRef,r=Object(a.useRef)();return Object(u.jsx)(u.Fragment,{children:t.count>6&&Object(u.jsx)("nav",{className:"pagination","aria-label":"Search results pages",children:Object(u.jsxs)("ul",{ref:r,className:"pagination__container",children:[Object(u.jsx)("li",{className:"pagination__item",children:Object(u.jsx)("button",{onClick:function(){!function(e){var t,n=e.pagination,a=e.getItems,c=e.selectedAuthor,s=e.paginatorRef,r=e.containerWithLoadableItemsRef,i=Array.prototype.slice.call(s.current.children);if(r&&(t=r.current),n.previous)if(n.previous.includes("page=")){var o=S(n);y(R(n.previous,o),c,i,t,a)}else y("page=1",c,i,t,a)}({pagination:t,getItems:n,selectedAuthor:c,paginatorRef:r,containerWithLoadableItemsRef:s})},type:"button",className:"pagination__link link",children:Object(u.jsx)(M,{inactive:null===t.previous})})}),H({pagination:t,getItems:n,selectedAuthor:c,paginatorRef:r,containerWithLoadableItemsRef:s}).map((function(e){return e})),Object(u.jsx)("li",{className:"pagination__item",children:Object(u.jsx)("button",{onClick:function(){!function(e){var t,n=e.pagination,a=e.getItems,c=e.selectedAuthor,s=e.paginatorRef,r=e.containerWithLoadableItemsRef,i=Array.prototype.slice.call(s.current.children);if(r&&(t=r.current),n.next){var o=w(n);y(R(n.next,o),c,i,t,a)}}({pagination:t,getItems:n,selectedAuthor:c,paginatorRef:r,containerWithLoadableItemsRef:s})},type:"button",className:"pagination__link link",children:Object(u.jsx)(C,{inactive:null===t.next})})})]})})})}var D=c.a.memo(X),q=n(4),J=n.n(q),B=n(6),Z=n(15),Y=n(16),G=new(function(){function e(t){Object(Z.a)(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}return Object(Y.a)(e,[{key:"getRecipes",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c,s,r,i,o,A,u,l,j,d,b;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=void 0===n?"page=1":n,c=t.author,s=void 0===c?"":c,r=t.tagBreakfast,i=void 0===r?"":r,o=t.tagDinner,A=void 0===o?"":o,u=t.tagSupper,l=void 0===u?"":u,j=fetch("".concat(this.baseUrl,"/recipes/?").concat(a).concat(s).concat(i).concat(A).concat(l),{headers:this.headers}),e.next=4,j;case 4:return d=e.sent,e.next=7,d.json();case 7:if(b=e.sent,d.ok){e.next=10;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(b.message)));case 10:return e.abrupt("return",new Promise((function(e){e(b)})));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecipe",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/recipes/").concat(t),{headers:this.headers}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=9;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(c.message)));case 9:return e.abrupt("return",new Promise((function(e){e(c)})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRecipe",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/recipes/").concat(t),{method:"DELETE",headers:this.headers}),e.next=3,n;case 3:if(204===(a=e.sent).status){e.next=6;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(a.status)));case 6:return e.abrupt("return",new Promise((function(e){e(a.status)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIngredients",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/ingredients?search=").concat(t),{headers:this.headers}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=9;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(c.message)));case 9:return e.abrupt("return",new Promise((function(e){e(c)})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"postRecipe",value:function(){var e=Object(B.a)(J.a.mark((function e(t,n,a){var c,s,r,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=fetch("".concat(this.baseUrl,"/recipes/"),{method:"POST",headers:{Authorization:"Token ".concat(a)},body:n}),e.next=3,c;case 3:return s=e.sent,e.next=6,s.json();case 6:if(r=e.sent,s.ok){e.next=11;break}return i=[],Object.keys(r).forEach((function(e){i.push("".concat(e,": ").concat(r[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(i.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(r)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"updateRecipe",value:function(){var e=Object(B.a)(J.a.mark((function e(t,n,a){var c,s,r,i,o;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=t.get("image")).name&&c.size||t.delete("image"),s=fetch("".concat(this.baseUrl,"/recipes/").concat(a,"/"),{method:"PATCH",headers:{Authorization:"Token ".concat(n)},body:t}),e.next=5,s;case 5:return r=e.sent,e.next=8,r.json();case 8:if(i=e.sent,r.ok){e.next=13;break}return o=[],Object.keys(i).forEach((function(e){o.push("".concat(e,": ").concat(i[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(o.join("\n"))));case 13:return e.abrupt("return",new Promise((function(e){e(i)})));case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getSubscriptions",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c,s,r,i,o,A;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=void 0===n?"page=1":n,c=t.author,s=void 0===c?"":c,r=fetch("".concat(this.baseUrl,"/subscriptions/?").concat(a).concat(s),{method:"GET",headers:this.headers}),e.next=4,r;case 4:return i=e.sent,e.next=7,i.json();case 7:if(o=e.sent,i.ok){e.next=12;break}return A=[],Object.keys(o).forEach((function(e){A.push("".concat(e,": ").concat(o[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(A.join("\n"))));case 12:return e.abrupt("return",new Promise((function(e){e(o)})));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c,s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/subscriptions/"),{method:"POST",headers:this.headers,body:JSON.stringify({author:t})}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=11;break}return s=[],Object.keys(c).forEach((function(e){s.push("".concat(e,": ").concat(c[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(s.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(c)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/subscriptions/").concat(t,"/"),{method:"DELETE",headers:this.headers}),e.next=3,n;case 3:if(204===(a=e.sent).status){e.next=6;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(a.status)));case 6:return e.abrupt("return",new Promise((function(e){e(a.status)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFavoritesRecipes",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c,s,r,i,o,A,u,l,j,d;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=void 0===n?"page=1":n,c=t.tagBreakfast,s=void 0===c?"":c,r=t.tagDinner,i=void 0===r?"":r,o=t.tagSupper,A=void 0===o?"":o,u=fetch("".concat(this.baseUrl,"/favorites/?").concat(a).concat(s).concat(i).concat(A),{method:"GET",headers:this.headers}),e.next=4,u;case 4:return l=e.sent,e.next=7,l.json();case 7:if(j=e.sent,l.ok){e.next=12;break}return d=[],Object.keys(j).forEach((function(e){d.push("".concat(e,": ").concat(j[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(d.join("\n"))));case 12:return e.abrupt("return",new Promise((function(e){e(j)})));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addToFavoritesRecipes",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c,s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/favorites/"),{method:"POST",headers:this.headers,body:JSON.stringify({favorite:t})}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=11;break}return s=[],Object.keys(c).forEach((function(e){s.push("".concat(e,": ").concat(c[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(s.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(c)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteFromFavoritesRecipes",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/favorites/").concat(+t,"/"),{method:"DELETE",headers:this.headers}),e.next=3,n;case 3:if(204===(a=e.sent).status){e.next=6;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(a.status)));case 6:return e.abrupt("return",new Promise((function(e){e(a.status)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPurchases",value:function(){var e=Object(B.a)(J.a.mark((function e(){var t,n,a,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fetch("".concat(this.baseUrl,"/purchases/"),{method:"GET",headers:this.headers}),e.next=3,t;case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,n.ok){e.next=11;break}return c=[],Object.keys(a).forEach((function(e){c.push("".concat(e,": ").concat(a[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(c.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(a)})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addPurchase",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c,s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/purchases/"),{method:"POST",headers:this.headers,body:JSON.stringify({purchase:t})}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=11;break}return s=[],Object.keys(c).forEach((function(e){s.push("".concat(e,": ").concat(c[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(s.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(c)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePurchase",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/purchases/").concat(+t,"/"),{method:"DELETE",headers:this.headers}),e.next=3,n;case 3:if(204===(a=e.sent).status){e.next=6;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(a.status)));case 6:return e.abrupt("return",new Promise((function(e){e(a.status)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/download/"),{method:"POST",headers:this.headers,body:JSON.stringify(t)}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.blob();case 6:if(c=e.sent,a.ok){e.next=9;break}return e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430!"));case 9:return e.abrupt("return",new Promise((function(e){e(c)})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())({baseUrl:P,headers:{"Content-Type":"application/json"}});var V=function(e){var t=e.recipes,n=e.favoriteRecipes,c=e.onAddToFavorites,s=e.onDeleteFromFavorites,r=e.onAddPurchase,i=e.recipesPagination,l=e.getRecipes,j=e.onAuthorClick,d=e.selectedAuthor,b=e.setSelectedAuthor,m=e.onSubscribe,f=e.onUnsubscribe,p=e.subscriptions,_=e.onDeletePurchase,O=e.purchases,x=e.setResponseError,v=e.setIsOpenInfoTooltip,g=Object(A.h)(),k=Object(a.useContext)(N),P=Object(a.useState)(null),y=Object(o.a)(P,2),S=y[0],w=y[1],T=Object(a.useRef)();return Object(a.useEffect)((function(){g.author&&k.name&&G.getSubscriptions({author:"&author=".concat(g.author)}).then((function(e){e.results&&w(e.results.length>0)})).catch((function(e){x(e),v(!0)}))}),[k,g.author,p]),Object(a.useEffect)((function(){g.author&&b("&author__username=".concat(g.author))}),[b,g,g.author]),Object(u.jsxs)(u.Fragment,{children:[g.author&&g.author!==k.name&&(S?Object(u.jsx)("div",{className:"recipe__button-container",children:Object(u.jsx)(z,{lightBlue:!0,text:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",onClick:function(){G.getSubscriptions({author:"&author=".concat(g.author)}).then((function(e){e.results&&f({subscriptionId:e.results[0].id,setIsUserIsSubscribed:w})})).catch((function(e){x(e),v(!0)}))}})}):k.name&&Object(u.jsx)("div",{className:"recipe__button-container",children:Object(u.jsx)(z,{lightBlue:!0,text:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0430",onClick:function(){m(g.author,w)}})})),Object(u.jsx)("div",{ref:T,children:Object(u.jsx)(h,{children:t.map((function(e){return Object(u.jsx)(W,{allRecipesPage:!0,subscribers:e.subscribers,recipeId:e.id,recipeName:e.name,tags:e.tag,cookingTime:e.cooking_time,image:e.image_url,author:e.author,onAddToFavorites:c,onDeleteFromFavorites:s,onAddPurchase:r,favoriteRecipes:n,pagination:i,onAuthorClick:j,selectedAuthor:d,onDeletePurchase:_,purchases:O},"card__".concat(e.id))}))})}),Object(u.jsx)(D,{pagination:i,getItems:l,selectedAuthor:d,containerWithLoadableItemsRef:T})]})};n(55),n(56);var Q=function(e){var t=e.formRef,n=e.children,a=e.onSubmit;return Object(u.jsx)("div",{className:"form-container",children:Object(u.jsx)("form",{ref:t,className:"form",onSubmit:a,children:n})})};n(57);var K=function(e){var t=e.text,n=e.blue,a=e.lightBlue,c=e.sizeAuto,s=e.disabled,r=e.loading,i=f()("submit-button",{"submit-button_style_light-blue":a},{"submit-button_size_auto":c},{"submit-button_style_blue":n},{"submit-button_disabled":s});return Object(u.jsx)("input",{type:"submit",className:i,name:"subscribe",value:r?"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430...":t,disabled:s})};var $=function(e){var t=e.onSubmit,n=e.serverError,c=Object(a.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],A=Object(a.useState)(""),l=Object(o.a)(A,2),j=l[0],d=l[1],b=Object(a.useState)(""),m=Object(o.a)(b,2),h=m[0],p=m[1],_=Object(a.useState)(""),O=Object(o.a)(_,2),x=O[0],v=O[1],g=Object(a.useState)(""),N=Object(o.a)(g,2),k=N[0],P=N[1],y=Object(a.useState)(""),S=Object(o.a)(y,2),w=S[0],T=S[1],R=Object(a.useState)(""),F=Object(o.a)(R,2),E=F[0],I=F[1],L=Object(a.useState)(""),H=Object(o.a)(L,2),z=H[0],U=H[1],W=Object(a.useState)(""),M=Object(o.a)(W,2),C=M[0],X=M[1];return Object(u.jsxs)(Q,{onSubmit:function(e){i(!0),e.preventDefault(),t(j,x,w,z,i)},children:[Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_first_name",className:"form__label",children:"\u0418\u043c\u044f"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:j,onChange:function(e){d(e.target.value),p(e.target.validationMessage)},type:"text",name:"first_name",id:"id_first_name",className:"form__input",minLength:"2",required:!0}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:h}),children:h})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_username",className:"form__label",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:x,onChange:function(e){v(e.target.value),P(e.target.validationMessage)},type:"text",name:"username",id:"id_username",className:"form__input",minLength:"2",required:!0}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:k}),children:k})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_email",className:"form__label",children:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:w,onChange:function(e){T(e.target.value),I(e.target.validationMessage)},type:"email",name:"email",id:"id_email",className:"form__input",required:!0}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:E}),children:E})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_password",className:"form__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:z,onChange:function(e){U(e.target.value),X(e.target.validationMessage)},type:"password",name:"password",id:"id_password",className:"form__input",minLength:"8",required:!0}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:C}),children:C})]})]}),Object(u.jsx)("span",{className:f()("form__error form__error_server",{form__error_server_active:n}),children:n}),Object(u.jsx)("div",{className:"form__footer",children:Object(u.jsx)(K,{lightBlue:!0,text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442",disabled:r||h||k||E||C||!j||!x||!w||!z,loading:r})})]})};n(58);var ee=function(e){var t=e.onSubmit,n=e.serverError,c=Object(a.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],A=Object(a.useState)(""),l=Object(o.a)(A,2),j=l[0],d=l[1],b=Object(a.useState)(""),m=Object(o.a)(b,2),h=m[0],p=m[1],_=Object(a.useState)(""),O=Object(o.a)(_,2),x=O[0],v=O[1],g=Object(a.useState)(""),N=Object(o.a)(g,2),k=N[0],P=N[1];return Object(u.jsxs)(Q,{onSubmit:function(e){i(!0),e.preventDefault(),t(j,x,i)},children:[Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_username",className:"form__label",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:j,onChange:function(e){d(e.target.value),p(e.target.validationMessage)},type:"text",name:"username",id:"id_username",className:"form__input",minLength:"2",maxLength:"30",required:!0}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:h}),children:h})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_password",className:"form__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:x,onChange:function(e){v(e.target.value),P(e.target.validationMessage)},type:"password",name:"password",id:"id_password",className:"form__input",minLength:"8",required:!0}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:k}),children:k})]})]}),Object(u.jsx)("span",{className:f()("form__error form__error_server",{form__error_server_active:n}),children:n}),Object(u.jsxs)("div",{className:"form__footer",children:[Object(u.jsx)(K,{lightBlue:!0,text:"\u0412\u043e\u0439\u0442\u0438",disabled:r||h||k||!j||!x,loading:r}),Object(u.jsx)("a",{href:"/reset-password",className:"form__forgot-link",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]})]})};n(59);var te=function(e){var t=e.onSubmit,n=e.serverError,c=e.resetPasswordResponse,s=e.setServerError,r=e.setResetPasswordResponse,i=Object(a.useState)(!1),A=Object(o.a)(i,2),l=A[0],j=A[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),m=b[0],h=b[1],p=Object(a.useState)(""),_=Object(o.a)(p,2),O=_[0],x=_[1];return Object(u.jsxs)(Q,{onSubmit:function(e){e.preventDefault(),j(!0),t(m,j),s("")},children:[Object(u.jsx)("p",{className:"form__info-text",children:"\u0427\u0442\u043e\u0431\u044b \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u2014 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u044b \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c."}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_email",className:"form__label",children:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:m,onChange:function(e){h(e.target.value),x(e.target.validationMessage),s(""),r("")},type:"email",name:"email",id:"id_email",className:"form__input"}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:O}),children:O})]})]}),Object(u.jsx)("span",{className:f()("form__error form__error_server",{form__error_server_active:n}),children:n}),Object(u.jsx)("span",{className:f()("form__reset-info",{"form__reset-info_active":"OK"===c.status}),children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0412\u0430\u0448 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a. \u041d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 ".concat(m," \u0431\u044b\u043b\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f.")}),Object(u.jsx)("div",{className:"form__footer",children:Object(u.jsx)(K,{lightBlue:!0,text:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",disabled:l||O||!m,loading:l})})]})};n(60);var ne=function(e){var t=e.onSubmit,n=e.serverError,c=Object(a.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],A=Object(a.useState)(""),l=Object(o.a)(A,2),j=l[0],d=l[1],b=Object(a.useState)(""),m=Object(o.a)(b,2),h=m[0],p=m[1],_=Object(a.useState)(""),O=Object(o.a)(_,2),x=O[0],v=O[1],g=Object(a.useState)(""),N=Object(o.a)(g,2),k=N[0],P=N[1],y=Object(a.useState)(""),S=Object(o.a)(y,2),w=S[0],T=S[1],R=Object(a.useState)(""),F=Object(o.a)(R,2),E=F[0],I=F[1];return Object(u.jsxs)(Q,{onSubmit:function(e){i(!0),e.preventDefault(),t(j,x,w,i)},children:[Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_oldPassword",className:"form__label",children:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:j,onChange:function(e){d(e.target.value),p(e.target.validationMessage)},type:"text",name:"old_password",id:"id_oldPassword",className:"form__input",minLength:"8",required:!0}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:h}),children:h})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_newPassword",className:"form__label",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:x,onChange:function(e){v(e.target.value),P(e.target.validationMessage)},type:"password",name:"new_password",id:"id_newPassword",className:"form__input",minLength:"8",required:!0}),Object(u.jsx)("span",{className:"form__input-info",children:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c \u0441 \u0432\u0430\u0448\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u0438\u043b\u0438 \u0431\u044b\u0442\u044c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043f\u043e\u0445\u043e\u0436\u0438\u043c \u043d\u0430 \u043d\u0435\u0451."}),Object(u.jsx)("span",{className:"form__input-info",children:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."}),Object(u.jsx)("span",{className:"form__input-info",children:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u0448\u0438\u0440\u043e\u043a\u043e \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u043f\u0430\u0440\u043e\u043b\u0435\u0439."}),Object(u.jsx)("span",{className:"form__input-info",children:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0446\u0438\u0444\u0440."}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:k}),children:k})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_confirmPassword",className:"form__label",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:w,onChange:function(e){T(e.target.value),I(e.target.validationMessage)},type:"password",name:"confirm_password",id:"id_confirmPassword",className:"form__input",minLength:"8",required:!0}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:E}),children:E})]})]}),Object(u.jsx)("span",{className:f()("form__error form__error_server",{form__error_server_active:n}),children:n}),Object(u.jsx)(K,{lightBlue:!0,text:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",disabled:r||h||k||E||!j||!x||!w,loading:r})]})},ae=(n(61),n(62),n(63),n.p+"static/media/defaultImage.506c6395.png");function ce(e){var t=e.recipe;return Object(u.jsxs)("div",{className:"recipe",children:[Object(u.jsx)(i.b,{to:"/single-page/".concat(t.id),className:"recipe__image-link link",children:Object(u.jsx)("img",{src:t.image_url||ae,alt:t.name,className:"recipe__image"})}),Object(u.jsx)(i.b,{to:"/single-page/".concat(t.id),className:"recipe__title-link link",children:Object(u.jsx)("h3",{className:"recipe__title",children:t.name})}),Object(u.jsxs)("p",{className:"recipe__text",children:[Object(u.jsx)("span",{className:"icon-time"})," ".concat(t.cooking_time)]})]})}var se=c.a.memo(ce);function re(e){var t=e.toString();return e>=1?["11","12","13","14","15","16","17","18","19"].includes(t.slice(t.length-2,t.length))||["40","90"].includes(t.slice(t.length-2,t.length))||t.endsWith("100")?"\u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432":t.endsWith("1")?"\u0440\u0435\u0446\u0435\u043f\u0442":["2","3","4"].includes(t[t.length-1])?"\u0440\u0435\u0446\u0435\u043f\u0442\u0430":t.endsWith("00")?"\u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432":"\u0440\u0435\u0446\u0435\u043f\u0442":"\u0440\u0435\u0446\u0435\u043f\u0442"}function ie(e){var t=e.onUnsubscribe,n=e.subscription,c=e.pagination,s=e.setResponseError,r=e.setIsOpenInfoTooltip,A=Object(a.useState)([]),l=Object(o.a)(A,2),j=l[0],d=l[1],b=Object(a.useState)([]),m=Object(o.a)(b,2),f=m[0],h=m[1];return Object(a.useEffect)((function(){G.getRecipes({author:"&author__username=".concat(n.author)}).then((function(e){d(e.results),h(e)})).catch((function(e){s(e),r(!0)}))}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"card-user appearAnimation","data-author":n.id,children:[Object(u.jsx)("div",{className:"card-user__header",children:Object(u.jsx)(i.b,{to:"/recipes/".concat(n.author),className:"card-user__title",children:n.author})}),Object(u.jsx)("div",{className:"card-user__body",children:Object(u.jsx)("ul",{className:"card-user__items",children:j.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(u.Fragment,{children:j.slice(0,3).map((function(e){return Object(u.jsx)("li",{className:"card-user__item",children:Object(u.jsx)(se,{recipe:e})},e.id)}))}),Object(u.jsx)(u.Fragment,{children:j.slice(3).length>0&&Object(u.jsx)("li",{className:"card-user__item",children:Object(u.jsx)(i.b,{to:"/recipes/".concat(n.author),className:"card-user__link link",children:"\u0415\u0449\u0435 ".concat(f.count-3>0&&"".concat(f.count-3," ").concat(re(f.count-3)),"...")})})})]}):Object(u.jsx)("p",{className:"card-user__text",children:"\u0443 \u0430\u0432\u0442\u043e\u0440\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432"})})}),Object(u.jsx)("div",{className:"card-user__footer",children:Object(u.jsx)("button",{onClick:function(){t({subscriptionId:n.id,page:E(c)})},type:"button",className:"button button_style_light-blue button_size_auto",name:"subscribe",children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})]})})}var oe=c.a.memo(ie);var Ae=function(e){var t=e.onUnsubscribe,n=e.subscriptions,c=e.getSubscriptions,s=e.subscriptionsPagination,r=e.header,i=e.renderMainHeader,o=e.setResponseError,A=e.setIsOpenInfoTooltip,l=Object(a.useRef)();return Object(u.jsxs)(u.Fragment,{children:[i(r),Object(u.jsx)("div",{ref:l,children:Object(u.jsx)(h,{children:n.map((function(e){return Object(u.jsx)(oe,{onUnsubscribe:t,subscription:e,pagination:s,setResponseError:o,setIsOpenInfoTooltip:A},e.id)}))})}),Object(u.jsx)(D,{pagination:s,getItems:c,containerWithLoadableItemsRef:l})]})};n(64),n(65);var ue=function(e){var t=this,n=e.ingredientList,a=e.onItemClick,c=f()("form__dropdown-items",{"form__dropdown-items_active":n.length>0});function s(e,t){a(e,t)}return Object(u.jsx)("ul",{className:c,children:n.map((function(e){return Object(u.jsx)("li",{className:"form__dropdown-item",children:Object(u.jsx)("button",{type:"button",className:"form__dropdown-item-btn",onClick:s.bind(t,e.name,e.units),children:e.name})},e.id)}))})};var le=function(e){var t=this,n=e.onSubmit,c=e.serverError,s=e.header,r=e.renderMainHeader,i=e.onDelete,l=e.setResponseError,j=e.setIsOpenInfoTooltip,d=Object(A.h)().recipeId,m=Object(a.useState)(!1),h=Object(o.a)(m,2),p=h[0],_=h[1],O=Object(a.useState)(""),x=Object(o.a)(O,2),v=x[0],g=x[1],N=Object(a.useState)(""),k=Object(o.a)(N,2),P=k[0],y=k[1],S=Object(a.useState)(""),w=Object(o.a)(S,2),T=w[0],R=w[1],F=Object(a.useState)(""),E=Object(o.a)(F,2),I=E[0],L=E[1],H=Object(a.useState)(""),U=Object(o.a)(H,2),W=U[0],M=U[1],C=Object(a.useState)(""),X=Object(o.a)(C,2),D=X[0],q=X[1],J=Object(a.useState)(""),B=Object(o.a)(J,2),Z=B[0],Y=B[1],V=Object(a.useState)(""),$=Object(o.a)(V,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ae=Object(o.a)(ne,2),ce=ae[0],se=ae[1],re=Object(a.useState)(""),ie=Object(o.a)(re,2),oe=ie[0],Ae=ie[1],le=Object(a.useState)(""),je=Object(o.a)(le,2),de=je[0],be=je[1],me=Object(a.useState)([]),fe=Object(o.a)(me,2),he=fe[0],pe=fe[1],_e=Object(a.useState)([]),Oe=Object(o.a)(_e,2),xe=Oe[0],ve=Oe[1],ge=Object(a.useRef)(),Ne=Object(a.useRef)(),ke=Object(a.useRef)(),Pe=Object(a.useState)(!1),ye=Object(o.a)(Pe,2),Se=ye[0],we=ye[1],Te=Object(a.useState)([]),Re=Object(o.a)(Te,2),Fe=Re[0],Ee=Re[1];function Ie(e){var t=Fe.filter((function(t){return!(t.name===e.name&&t.amount.toString()===e.amount.toString())}));Ee(t)}function Le(e){be(e.target.value)}return Object(a.useEffect)((function(){function e(e){e.target.classList.contains("form__dropdown-item")||ve([])}return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),Object(a.useEffect)((function(){var e=P||ee||oe||!v||!Z||!ce||0===Fe.length||0===he.length||!de&&!d;we(!!e)}),[P,ee,oe,v,Z,ce,Fe,he,de]),Object(a.useEffect)((function(){d&&G.getRecipe(d).then((function(e){g(e.name),Y(e.cooking_time),se(e.description);var t=[];e.tag.forEach((function(e){return t.push(e.name)})),pe(t),Ee(e.ingredient)})).catch((function(e){l(e),j(!0)}))}),[d]),Object(u.jsxs)(u.Fragment,{children:[r(s),Object(u.jsxs)(Q,{formRef:ke,onSubmit:function(e){_(!0);var t=new FormData(ke.current);e.preventDefault(),n({author:"admin",name:v,ingredient:Fe,tag:he,cooking_time:Z,description:ce},t,localStorage.getItem("token"),d,_)},children:[Object(u.jsxs)("div",{ref:Ne,className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_name",className:"form__label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("input",{value:v,onChange:function(e){g(e.target.value),y(e.target.validationMessage)},type:"text",id:"id_name",name:"name",className:"form__input",minLength:"2",maxLength:"50",required:!0}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:P}),children:P})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("p",{className:"form__label",children:"\u0422\u0435\u0433\u0438"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)(b,{selectedTags:he,onTagClick:function(e,t){if(e){var n=he.filter((function(e){return e!==t}));pe(n)}else he.push(t),pe(he)}}),Object(u.jsx)("span",{className:"form__error"})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"nameIngredient",className:"form__label",children:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsxs)("div",{className:"form__field-group-ingredientes",children:[Object(u.jsxs)("div",{ref:ge,className:"form__dropdown",children:[Object(u.jsx)("textarea",{onChange:function(e){R(e.target.value),e.target.value?G.getIngredients(e.target.value).then((function(e){ve(e)})).catch((function(e){l(e),j(!0)})):ve([])},value:T,type:"text",id:"nameIngredient",className:"form__input",maxLength:"30"}),Object(u.jsx)(ue,{ingredientList:xe,onItemClick:function(e,t){R(e),L(t)}})]}),Object(u.jsx)("input",{onChange:function(e){M(e.target.value),q(e.target.validationMessage)},value:W,type:"number",id:"cantidad",className:"form__input",min:"1",max:"999"}),Object(u.jsx)("span",{htmlFor:"cantidad",className:"form__label",id:"cantidadVal",children:I||"\u0448\u0442."})]}),Object(u.jsx)("div",{className:"form__field-group-ingredientes-container",children:Fe.map((function(e){return Object(u.jsxs)("div",{className:"form__field-item-ingredient",children:[Object(u.jsxs)("span",{children:["".concat(e.name," "),"".concat(e.amount," "),e.units]}),Object(u.jsx)("button",{type:"button",onClick:Ie.bind(t,e),className:"form__field-item-delete form__field-item-delete_ingredient"})]},"".concat(e.name,"__").concat(e.amount))}))}),Object(u.jsx)("button",{onClick:function(){if(T&&W&&I){Fe.push({name:T,amount:W,units:I});var e=Fe.slice();Ee(e),R(""),L(""),M("")}},type:"button",className:f()("form__ingredient-add-btn",{"form__ingredient-add-btn_disabled":Boolean(D||!W||!I)}),id:"addIng",disabled:Boolean(D||!W||!I),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442"}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:D}),children:D})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_time",className:"form__label",children:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044f"}),Object(u.jsxs)("div",{className:"form__field-group form__field-group_time",children:[Object(u.jsx)("input",{type:"number",id:"id_time",name:"cooking_time",className:"form__input",min:"1",maxLength:"3",value:Z,onChange:function(e){e.target.value<=999&&Y(e.target.value),te(e.target.validationMessage)},required:!0}),Object(u.jsx)("span",{htmlFor:"id_time",className:"form__label",children:"\u043c\u0438\u043d\u0443\u0442"}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:ee}),children:ee})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{htmlFor:"id_description",className:"form__label",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(u.jsxs)("div",{className:"form__field-group",children:[Object(u.jsx)("textarea",{name:"description",id:"id_description",rows:"8",className:"form__textarea",value:ce,onChange:function(e){se(e.target.value),Ae(e.target.validationMessage)},minLength:"2",maxLength:"500",required:!0}),Object(u.jsx)("span",{className:f()("form__error",{form__error_active:oe}),children:oe})]})]}),Object(u.jsxs)("div",{className:"form__group",children:[Object(u.jsx)("span",{className:"form__label",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c".concat(d?" \u043d\u043e\u0432\u043e\u0435":""," \u0444\u043e\u0442\u043e")}),Object(u.jsxs)("div",{className:"form__field-group form__field-group_photo",children:[Object(u.jsx)("label",{htmlFor:"id_file",className:"form__photo-file",children:d?Object(u.jsx)("input",{vaule:de,onChange:Le,type:"file",name:"image",id:"id_file",className:"form__photo-input"}):Object(u.jsx)("input",{vaule:de,onChange:Le,type:"file",name:"image",id:"id_file",className:"form__photo-input",required:!0})}),de&&Object(u.jsx)("button",{type:"button",onClick:function(){document.getElementById("id_file").value=null,be("")},className:"form__field-item-delete"}),Object(u.jsx)("span",{className:"form__error"})]})]}),Object(u.jsx)("span",{className:f()("form__error form__error_server",{form__error_server_active:c}),children:c}),Object(u.jsxs)("div",{className:"form__footer form__footer_recipe",children:[Object(u.jsxs)("div",{className:"form__hint-container",children:[Se&&Object(u.jsxs)("div",{className:"form__hint",children:["\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e:",!v&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:" - \u0423\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"})]}),0===he.length&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:" - \u0425\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0442\u0435\u0433 (\u0437\u0430\u0432\u0442\u0440\u0430\u043a, \u043e\u0431\u0435\u0434 \u0438\u043b\u0438 \u0443\u0436\u0438\u043d)"})]}),0===Fe.length&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:" - \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a"})]}),!Z&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:" - \u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044f"})]}),!ce&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:" - \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]}),!de&&!d&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:" - \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e"})]}),(P||ee||oe)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:" - \u0423\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u043d\u0435\u0442 \u043e\u0448\u0438\u0431\u043e\u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"})]})]}),Object(u.jsx)(K,{blue:!0,text:d?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442",disabled:p||P||ee||oe||!v||!Z||!ce||0===Fe.length||0===he.length||!de&&!d,loading:p})]}),d&&Object(u.jsx)(z,{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",underline:!0,onClick:function(){i(d)}})]})]})]})};n(66);var je=function(e){var t=e.onAddToFavorites,n=e.onDeleteFromFavorites,c=e.onAddPurchase,s=e.favoritesPagination,r=e.recipes,i=e.getFavoritesRecipes,o=e.header,A=e.renderMainHeader,l=e.onDeletePurchase,j=e.purchases,d=Object(a.useRef)();return Object(u.jsxs)(u.Fragment,{children:[A(o),Object(u.jsx)("div",{ref:d,children:Object(u.jsx)(h,{children:r.map((function(e){return Object(u.jsx)(W,{favoriteRecipesPage:!0,subscribers:e.subscribers,recipeId:e.id,recipeName:e.name,tags:e.tag,cookingTime:e.cooking_time,image:e.image_url,author:e.author,onAddToFavorites:t,onDeleteFromFavorites:n,onAddPurchase:c,pagination:s,onDeletePurchase:l,purchases:j},"card__".concat(e.id))}))})}),Object(u.jsx)(D,{pagination:s,getItems:i,containerWithLoadableItemsRef:d})]})};n(67),n(68);function de(e){var t=e.recipe,n=e.onDeletePurchase,c=e.purchaseId,s=Object(a.useRef)();return Object(u.jsxs)("li",{ref:s,className:"shopping-list__item","data-id":"111",children:[Object(u.jsxs)("div",{className:"recipe recipe_reverse",children:[Object(u.jsx)(i.b,{to:"/single-page/".concat(t.id),className:"recipe__image-link link",children:Object(u.jsx)("img",{src:t.image_url||ae,alt:t.name,className:"recipe__image recipe__image_big"})}),Object(u.jsx)(i.b,{to:"/single-page/".concat(t.id),className:"recipe__title-link link",children:Object(u.jsx)("h3",{className:"recipe__title",children:t.name})}),Object(u.jsxs)("p",{className:"recipe__text",children:[Object(u.jsx)("span",{className:"icon-time"})," ".concat(t.cooking_time," \u043c\u0438\u043d.")]})]}),Object(u.jsx)("button",{onClick:function(){new Promise((function(e){s.current&&s.current.classList.add("disappearAnimation"),setTimeout((function(){return e("done")}),100)})).then((function(){n(c)}))},type:"button",className:"shopping-list__button link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},c)}var be=c.a.memo(de);function me(e){var t=e.purchases,n=e.onDeletePurchase,a=e.onDownload,c=e.header,s=e.renderMainHeader;return Object(u.jsxs)(u.Fragment,{children:[s(c),t.length<1?Object(u.jsx)(i.b,{to:"/",className:"shopping-list__return-button",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438"}):Object(u.jsxs)(h,{column:!0,children:[Object(u.jsx)("ul",{className:"shopping-list",children:t.map((function(e){return Object(u.jsx)(be,{recipe:e.purchase,purchaseId:e.id,onDeletePurchase:n},e.id)}))}),Object(u.jsx)(z,{blue:!0,text:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a",onClick:function(){a(t)},disabled:t.length<1})]})]})}var fe=c.a.memo(me);n(69),n(70);var he=function(){return Object(u.jsx)("span",{className:"icon-time"})};n(71);var pe=function(){return Object(u.jsx)("span",{className:"icon-user"})};n(72);var _e=function(){return Object(u.jsxs)("div",{className:"circle-preloader",children:[Object(u.jsx)("div",{className:"circle-preloader__body spinner-box",children:Object(u.jsx)("div",{className:"circle-preloader__border",children:Object(u.jsx)("div",{className:"circle-preloader__core"})})}),Object(u.jsx)("p",{className:"circle-preloader__text",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430..."})]})};var Oe=function(e){var t,n=e.onSubscribe,c=e.subscriptions,s=e.onUnsubscribe,r=e.onAddToFavorites,l=e.onDeleteFromFavorites,j=e.onAddPurchase,d=e.onDeletePurchase,b=e.purchases,m=e.setResponseError,f=e.setIsOpenInfoTooltip,h=Object(A.h)().recipeId,p=Object(a.useState)(!1),_=Object(o.a)(p,2),k=_[0],P=_[1],y=Object(a.useState)(!1),S=Object(o.a)(y,2),w=S[0],T=S[1],R=Object(a.useState)(!0),F=Object(o.a)(R,2),E=F[0],I=F[1],L=Object(a.useState)({}),H=Object(o.a)(L,2),U=H[0],W=H[1],M=Object(a.useState)(null),C=Object(o.a)(M,2),X=C[0],D=C[1],q=Object(a.useContext)(N),J=Object(a.useState)(!1),B=Object(o.a)(J,2),Z=B[0],Y=B[1],V=Object(a.useState)(""),Q=Object(o.a)(V,2),K=Q[0],$=Q[1];function ee(e){G.getRecipe(e).then((function(e){W(e)})).catch((function(e){m(e),f(!0)}))}function te(){n(U.author,D)}function ne(){G.getSubscriptions({author:"&author=".concat(U.author)}).then((function(e){e.results&&s({subscriptionId:e.results[0].id,setIsUserIsSubscribed:D})})).catch((function(e){m(e),f(!0)}))}return Object(a.useEffect)((function(){ee(h)}),[h]),Object(a.useEffect)((function(){if(b)if(0===b.length)$("");else{var e=b.find((function(e){return e.purchase.id.toString()===h.toString()}));$(e?e.id:"")}T(!1)}),[b,h]),Object(a.useEffect)((function(){if(q.username&&U.subscribers){var e=U.subscribers.some((function(e){return e.username===q.username}));Y(e)}I(!1)}),[U,q.username]),Object(a.useEffect)((function(){q.username&&G.getSubscriptions({author:"&author=".concat(U.author)}).then((function(e){e.results&&D(e.results.length>0),I(!1),P(!0)})).catch((function(e){console.log(e)}))}),[q,c,U.author]),k?Object(u.jsxs)("div",{className:"single-card","data-id":"recipe__".concat(h),"data-author":U.author,children:[Object(u.jsx)("img",{src:U.image_url||"data:image/jpeg;base64,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",alt:U.name,className:"single-card__image"}),Object(u.jsxs)("div",{className:"single-card__info",children:[Object(u.jsxs)("div",{className:"single-card__header-info",children:[Object(u.jsx)("h1",{className:"single-card__title",children:U.name}),Object(u.jsxs)("div",{className:"single-card__favorite",children:[Object(u.jsx)(z,{onClick:Z?function(){Z&&(I(!0),l({recipeId:h,getRecipeData:ee}))}:function(){Z||(I(!0),r({recipeId:h,getRecipeData:ee}))},styleNone:!0,favorite:!0,loading:E,disabled:E,text:Object(u.jsx)(x,{big:!0,active:Z||E})}),Object(u.jsx)("div",{className:"single-card__favorite-tooltip tooltip",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]})]}),Object(u.jsx)("ul",{className:"single-card__items",children:O(U.tag)}),Object(u.jsxs)("div",{className:"single-card__items single-card__items_column",children:[Object(u.jsxs)("p",{className:"single-card__text",children:[Object(u.jsx)(he,{})," ".concat(U.cooking_time," \u043c\u0438\u043d.")]}),Object(u.jsxs)("ul",{className:"single-card__items",children:[Object(u.jsx)("li",{className:"single-card__item",children:Object(u.jsxs)(i.b,{to:"/recipes/".concat(U.author),className:"single-card__name-link",children:[Object(u.jsx)(pe,{})," ".concat(U.author)]})}),Object(u.jsx)("li",{className:"single-card__item",children:U.author===q.username&&Object(u.jsx)(i.b,{type:"button",to:"/form-recipe/".concat(h),className:"single-card__button",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442"})})]})]}),Object(u.jsxs)("ul",{className:"single-card__items",children:[Object(u.jsx)("li",{className:"single-card__item",children:K?Object(u.jsx)(z,{text:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u043f\u043e\u043a\u0443\u043f\u043e\u043a"]}),onClick:function(){T(!0),d(K)},lightOrange:!0,disabled:!q.username||w}):Object(u.jsx)(z,{text:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v,{}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"]}),onClick:function(){T(!0),j(h)},blue:!0,disabled:!q.username||w})}),q.username&&q.username!==U.author?null===X?Object(u.jsx)("li",{className:"single-card__item",children:Object(u.jsx)(z,{text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",type:"button",lightBlue:!0,sizeSubscribe:!0,disabled:!0})}):X?Object(u.jsx)("li",{className:"single-card__item",children:Object(u.jsx)(z,{text:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",lightBlue:!0,sizeSubscribe:!0,onClick:ne})}):Object(u.jsx)("li",{className:"single-card__item",children:Object(u.jsx)(z,{text:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0430",onClick:te,lightBlue:!0,sizeSubscribe:!0})}):Object(u.jsx)("li",{className:"single-card__item",children:Object(u.jsx)("div",{className:"button_size_subscribe"})})]}),Object(u.jsxs)("div",{className:"single-card__section",children:[Object(u.jsx)("h3",{className:"single-card__section-title",children:"\u0418\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442\u044b:"}),Object(u.jsx)("div",{className:"single-card__items single-card__items_column",children:(t=U.ingredient,t?t.map((function(e){return Object(u.jsx)("p",{className:" single-card__section-item",children:"".concat(e.name," - ").concat(e.amount," ").concat(e.units,".")},e.id)})):Object(u.jsx)("p",{className:" single-card__section-item",children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}))})]}),Object(u.jsxs)("div",{className:"single-card__section",children:[Object(u.jsx)("h3",{className:"single-card__section-title",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(u.jsx)("p",{className:" single-card__section-text",children:U.description})]})]})]}):Object(u.jsx)(_e,{})},xe=n(23),ve=n(24),ge=function(e){var t=e.component,n=Object(ve.a)(e,["component"]),a=n.path,c=Object(A.g)();return Object(u.jsx)(A.b,{exact:!0,path:a,children:function(){return localStorage.getItem("token")?Object(u.jsx)(t,Object(xe.a)({},n)):c.push("/",{noAuthRedirect:!0})}})};n(73),n(74);var Ne=function(e){var t=e.isOpen,n=e.title,a=e.onClose,c=e.message;return Object(u.jsx)("div",{onMouseDown:function(e){(e.target.classList.contains("popup__close")||e.target.classList.contains("popup_opened"))&&a()},className:"popup ".concat(t&&"popup_opened"),children:Object(u.jsxs)("div",{className:"popup__window ".concat(t&&"popup__window_opened"),children:[Object(u.jsx)("h3",{className:"popup__title",children:n}),Object(u.jsx)("p",{className:"popup__server-error popup__server-error_active",children:c}),Object(u.jsx)("button",{type:"button",onClick:a,className:"popup__close"})]})})};var ke=function(e){var t=e.isOpen,n=e.onClose,a=e.responseError,c=e.setResponseError;return Object(u.jsx)(Ne,{isOpen:t,title:"\u041e\u0448\u0438\u0431\u043a\u0430!",message:a,onClose:function(){n(),setTimeout((function(){c("")}),400)}})},Pe=(n(75),n.p+"static/media/DSC01449.8108d6bc.jpg");function ye(){return Object(u.jsxs)("section",{className:"about appearAnimationDelay",children:[Object(u.jsx)("img",{className:"about__image",src:Pe,alt:"\u0421\u0435\u0440\u0433\u0435\u0439 \u041c\u0435\u0434\u0432\u0435\u0434\u0435\u0432"}),Object(u.jsxs)("div",{className:"about__info-container",children:[Object(u.jsx)("h2",{className:"about__title",children:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e!"}),Object(u.jsx)("p",{className:"about__text",children:"\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0421\u0435\u0440\u0433\u0435\u0439 \u041c\u0435\u0434\u0432\u0435\u0434\u0435\u0432. \u042f \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u043a\u0438\u043a."}),Object(u.jsxs)("p",{className:"about__text",children:["\u042f \u043e\u043a\u043e\u043d\u0447\u0438\u043b \u043a\u0443\u0440\u0441\u044b \u201c\u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u201c \u0438 \u201cpython-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u201c \u043e\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430. \u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043a\u0443\u0440\u0441\u0430 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u043b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043d\u0430\u0432\u044b\u043a\u0438:",Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"HTML, CSS \u0438 JavaScript;"}),Object(u.jsx)("li",{children:"\u043c\u0435\u0442\u043e\u0434\u043e\u043b\u043e\u0433\u0438\u044f \u0411\u042d\u041c, \u0430\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0442\u043a\u0430;"}),Object(u.jsx)("li",{children:"\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 React;"}),Object(u.jsx)("li",{children:"\u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 Git;"}),Object(u.jsx)("li",{children:"\u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a Express \u0434\u043b\u044f \u0431\u044d\u043a-\u0435\u043d\u0434\u0430."})]}),"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043a\u0443\u0440\u0441\u0430 python-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438\u0437\u0443\u0447\u0438\u043b:",Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Django;"}),Object(u.jsx)("li",{children:"Django REST framwork, \u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 API;"}),Object(u.jsx)("li",{children:"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u044b \u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u0430\u043d\u043d\u044b\u0445;"}),Object(u.jsx)("li",{children:"\u0418\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0431\u044d\u043a\u0435\u043d\u0434 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 - Docker, NGINX, Gunicorn, \u043e\u0441\u043d\u043e\u0432\u044b DevOps \u0438 CI, workflow \u0438 Git Actions."})]})]})]})]})}var Se=c.a.memo(ye);n(76);function we(){return Object(u.jsx)("section",{className:"technologies",children:Object(u.jsxs)("div",{className:"technologies__grid appearAnimation",children:[Object(u.jsx)("div",{className:"technologies__icon technologies__icon_django"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_docker"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_python"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_postgresql"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_git"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_react"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_js"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_html"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_css"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_github"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_nginx"}),Object(u.jsx)("div",{className:"technologies__icon technologies__icon_gunicorn"})]})})}var Te=c.a.memo(we),Re=new(function(){function e(t){Object(Z.a)(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}return Object(Y.a)(e,[{key:"register",value:function(){var e=Object(B.a)(J.a.mark((function e(t,n,a,c){var s,r,i,o;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=fetch("".concat(this.baseUrl,"/users/signup/"),{method:"POST",headers:this.headers,body:JSON.stringify({first_name:t,username:n,email:a,password:c})}),e.next=3,s;case 3:return r=e.sent,e.next=6,r.json();case 6:if(i=e.sent,r.ok){e.next=11;break}return o=[],Object.keys(i).forEach((function(e){o.push("".concat(e,": ").concat(i[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(o.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(i)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"authorize",value:function(){var e=Object(B.a)(J.a.mark((function e(t,n){var a,c,s,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fetch("".concat(this.baseUrl,"/users/signin/"),{method:"POST",headers:this.headers,body:JSON.stringify({username:t,password:n})}),e.next=3,a;case 3:return c=e.sent,e.next=6,c.json();case 6:if(s=e.sent,c.ok){e.next=11;break}return r=[],Object.keys(s).forEach((function(e){r.push("".concat(e,": ").concat(s[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(r.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(s)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(B.a)(J.a.mark((function e(t,n,a){var c,s,r,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=fetch("".concat(this.baseUrl,"/users/change-password/"),{method:"PATCH",headers:this.headers,body:JSON.stringify({old_password:t,new_password:n,new_password_again:a})}),e.next=3,c;case 3:return s=e.sent,e.next=6,s.json();case 6:if(r=e.sent,s.ok){e.next=11;break}return i=[],Object.keys(r).forEach((function(e){i.push("".concat(e,": ").concat(r[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(i.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(r)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getContent",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c,s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/users/me/"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(t)}}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=11;break}return s=[],Object.keys(c).forEach((function(e){s.push("".concat(e,": ").concat(c[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(s.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(c)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(B.a)(J.a.mark((function e(t){var n,a,c,s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(this.baseUrl,"/users/reset-password/"),{method:"POST",headers:this.headers,body:JSON.stringify({email:t})}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=11;break}return s=[],Object.keys(c).forEach((function(e){s.push("".concat(e,": ").concat(c[e]))})),e.abrupt("return",Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(s.join("\n"))));case 11:return e.abrupt("return",new Promise((function(e){e(c)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())({baseUrl:P,headers:{Accept:"application/json","Content-Type":"application/json"}});var Fe=function(){var e=Object(A.g)(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),i=Object(o.a)(r,2),l=i[0],m=i[1],f=Object(a.useState)([]),h=Object(o.a)(f,2),p=h[0],_=h[1],O=Object(a.useState)({}),x=Object(o.a)(O,2),v=x[0],g=x[1],k=Object(a.useState)(""),P=Object(o.a)(k,2),y=P[0],S=P[1],w=Object(a.useState)(""),T=Object(o.a)(w,2),R=T[0],F=T[1],E=Object(a.useState)({}),I=Object(o.a)(E,2),L=I[0],H=I[1],z=Object(a.useState)({}),U=Object(o.a)(z,2),W=U[0],M=U[1],C=Object(a.useState)({}),X=Object(o.a)(C,2),D=X[0],q=X[1],J=Object(a.useState)([]),B=Object(o.a)(J,2),Z=B[0],Y=B[1],Q=Object(a.useState)(""),K=Object(o.a)(Q,2),ae=K[0],ce=K[1],se=Object(a.useState)([]),re=Object(o.a)(se,2),ie=re[0],oe=re[1],ue=Object(a.useState)({}),de=Object(o.a)(ue,2),be=de[0],me=de[1],he=Object(a.useState)([]),pe=Object(o.a)(he,2),_e=pe[0],xe=pe[1],ve=Object(a.useState)(""),Ne=Object(o.a)(ve,2),Pe=Ne[0],ye=Ne[1],we=Object(a.useState)(""),Fe=Object(o.a)(we,2),Ee=Fe[0],Ie=Fe[1],Le=Object(a.useState)(""),He=Object(o.a)(Le,2),ze=He[0],Ue=He[1],We=Object(a.useState)(!1),Me=Object(o.a)(We,2),Ce=Me[0],Xe=Me[1],De=Object(a.useState)(""),qe=Object(o.a)(De,2),Je=qe[0],Be=qe[1];function Ze(){Xe(!1)}function Ye(e){var t=e.page,n=e.author,a=e.loadedElementsContainer;G.getRecipes({page:t,author:n,tagBreakfast:Pe,tagDinner:Ee,tagSupper:ze}).then((function(e){n?(_(e.results),g({count:e.count,next:e.next,previous:e.previous})):(m(e.results),H({count:e.count,next:e.next,previous:e.previous})),a&&(a.classList.remove("disappearAnimation"),a.classList.add("appearAnimation"))})).catch((function(e){Be(e),Xe(!0)}))}function Ge(e){var t=e.page,n=e.loadedElementsContainer;G.getSubscriptions({page:t}).then((function(e){oe(e.results),me({count:e.count,next:e.next,previous:e.previous}),n&&(n.classList.remove("disappearAnimation"),n.classList.add("appearAnimation"))})).catch((function(e){Be(e),Xe(!0)}))}function Ve(e,t){G.subscribe(e).then((function(){t(!0),Ge({})})).catch((function(e){Be(e),Xe(!0)}))}function Qe(e){var t=e.subscriptionId,n=e.setIsUserisSubscribed,a=e.page;G.unsubscribe(t).then((function(){Ge({page:a}),n&&n(!1)})).catch((function(e){Be(e),Xe(!0)}))}function Ke(e){var t=e.page,n=e.loadedElementsContainer;G.getFavoritesRecipes({page:t,tagBreakfast:Pe,tagDinner:Ee,tagSupper:ze}).then((function(e){var t=[];e.results.forEach((function(e){return t.push(e.favorite)})),Y(e.results),M({count:e.count,next:e.next,previous:e.previous}),n&&(n.classList.remove("disappearAnimation"),n.classList.add("appearAnimation"))}))}function $e(){G.getPurchases().then((function(e){xe(e)})).catch((function(e){Be(e),Xe(!0)}))}function et(e){Ye({author:e})}function tt(){ye(Pe?"":"&tag__name=\u0437\u0430\u0432\u0442\u0440\u0430\u043a")}function nt(){Ie(Ee?"":"&tag__name=\u043e\u0431\u0435\u0434")}function at(){Ue(ze?"":"&tag__name=\u0443\u0436\u0438\u043d")}function ct(e){G.addPurchase(e).then((function(){$e()})).catch((function(e){Be(e),Xe(!0)}))}function st(e){G.deletePurchase(e).then((function(){$e()})).catch((function(e){Be(e),Xe(!0)}))}function rt(e){var t=e.recipeId,n=e.page,a=e.author,c=e.allRecipesPage,s=e.favoriteRecipesPage,r=e.getRecipeData;G.addToFavoritesRecipes(t).then((function(){Ye(c?{page:n,author:a}:{}),Ke(s?{page:n}:{}),r&&r(t)})).catch((function(e){Be(e),Xe(!0)}))}function it(e){var t=e.recipeId,n=e.page,a=e.author,c=e.allRecipesPage,s=e.favoriteRecipesPage,r=e.getRecipeData;G.deleteFromFavoritesRecipes(t).then((function(){Ye(c?{page:n,author:a}:{}),Ke(s?{page:n}:{}),r&&r(t)})).catch((function(e){Be(e),Xe(!0)}))}function ot(e){return" ".concat(e.replace("&author__username=",""))}function At(e,t){return Object(u.jsxs)("div",{className:"main__header appearAnimation",children:[Object(u.jsx)("h1",{className:"main__title",children:t?ot(t):e}),["\u0420\u0435\u0446\u0435\u043f\u0442\u044b","\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"].includes(e)&&Object(u.jsx)(b,{main:!0,onSetTagBreakfast:tt,onSetTagTagDinner:nt,onSetTagTagSupper:at,tagBreakfast:Pe,tagDinner:Ee,tagSupper:ze})]})}return Object(a.useEffect)((function(){function e(e){"Escape"===e.key&&Ze()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),Object(a.useEffect)((function(){s(!1),function(){var t=localStorage.getItem("token");t?Re.getContent(t).then((function(e){e&&(G.headers.Authorization="Token ".concat(t),Re.headers.Authorization="Token ".concat(t),q({name:e.first_name,username:e.username,email:e.email}),ce(""),s(!0))})).catch((function(t){localStorage.removeItem("jwt"),q({}),s(!1),e.push("/signin"),console.log(t)})):(localStorage.removeItem("jwt"),q({}),s(!1))}()}),[]),Object(a.useEffect)((function(){c&&Ke({})}),[c]),Object(a.useEffect)((function(){c&&$e()}),[c]),Object(a.useEffect)((function(){y&&Ye({author:y}),Ye({}),c&&Ke({})}),[Pe,Ee,ze]),Object(a.useEffect)((function(){Ye(y?{author:y}:{})}),[c,y]),Object(a.useEffect)((function(){c&&Ge({})}),[c]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(N.Provider,{value:D,children:[Object(u.jsx)(j,{isLoggedIn:c,onExit:function(){localStorage.removeItem("token"),q({}),s(!1),e.push("/signin")},purchases:_e}),Object(u.jsxs)("main",{className:"container main",children:[Object(u.jsxs)(A.d,{children:[Object(u.jsxs)(A.b,{exact:!0,path:"/",children:[At("\u0420\u0435\u0446\u0435\u043f\u0442\u044b"),Object(u.jsx)(V,{recipes:l,favoriteRecipes:Z,onAddToFavorites:rt,onDeleteFromFavorites:it,onAddPurchase:ct,recipesPagination:L,getRecipes:Ye,onAuthorClick:et,setSelectedAuthor:S,onDeletePurchase:st,purchases:_e,setResponseError:Be,setIsOpenInfoTooltip:Xe})]}),Object(u.jsxs)(A.b,{path:"/signup",children:[At("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),Object(u.jsx)($,{onSubmit:function(t,n,a,c,r){Re.register(t,n,a,c).then((function(t){t.token&&(localStorage.setItem("token",t.token),G.headers.Authorization="Token ".concat(t.token),Re.headers.Authorization="Token ".concat(t.token),q({name:t.first_name,username:t.username,email:t.email}),s(!0),ce(""),e.push("/"))})).catch((function(e){ce(e)})).finally((function(){r(!1)}))},serverError:ae})]}),Object(u.jsxs)(A.b,{path:"/signin",children:[At("\u0412\u043e\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442"),Object(u.jsx)(ee,{onSubmit:function(t,n,a){Re.authorize(t,n).then((function(t){t.token&&Re.getContent(t.token).then((function(n){localStorage.setItem("token",t.token),G.headers.Authorization="Token ".concat(t.token),Re.headers.Authorization="Token ".concat(t.token),q({name:n.first_name,username:n.username,email:n.email}),s(!0),ce(""),e.push("/")}))})).catch((function(e){ce(e)})).finally((function(){a(!1)}))},serverError:ae})]}),Object(u.jsxs)(A.b,{path:"/reset-password",children:[At("\u0421\u0431\u0440\u043e\u0441 \u043f\u0430\u0440\u043e\u043b\u044f"),Object(u.jsx)(te,{onSubmit:function(e,t){Re.resetPassword(e).then((function(e){F(e),ce("")})).catch((function(e){ce(e)})).finally((function(){t(!1)}))},serverError:ae,resetPasswordResponse:R,setServerError:ce,setResetPasswordResponse:F})]}),Object(u.jsxs)(A.b,{path:"/change-password",children:[At("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),Object(u.jsx)(ne,{onSubmit:function(t,n,a,c){Re.changePassword(t,n,a).then((function(){localStorage.removeItem("token"),s(!1),q({}),ce(""),e.push("/signin")})).catch((function(e){ce(e)})).finally((function(){c(!1)}))},serverError:ae})]}),Object(u.jsx)(ge,{path:"/my-follow",header:"\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438",renderMainHeader:At,component:Ae,onUnsubscribe:Qe,subscriptions:ie,getSubscriptions:Ge,subscriptionsPagination:be,setResponseError:Be,setIsOpenInfoTooltip:Xe}),Object(u.jsx)(ge,{path:"/form-recipe/:recipeId",header:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",renderMainHeader:At,component:le,onSubmit:function(e,t,n,a,c){t.append("ingredient",JSON.stringify(e.ingredient)),t.append("tag",JSON.stringify(e.tag)),G.updateRecipe(t,n,a).then((function(){ce(""),window.location.assign("/")})).catch((function(e){ce(e)})).finally((function(){c(!1)}))},serverError:ae,onDelete:function(e){G.deleteRecipe(e).then((function(){window.location.assign("/"),ce("")})).catch((function(e){ce(e)}))}}),Object(u.jsx)(ge,{path:"/form-recipe/",header:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",renderMainHeader:At,component:le,onSubmit:function(e,t,n){t.append("ingredient",JSON.stringify(e.ingredient)),t.append("tag",JSON.stringify(e.tag)),G.postRecipe(e,t,n).then((function(){ce(""),window.location.assign("/")})).catch((function(e){ce(e)}))},serverError:ae,setResponseError:Be,setIsOpenInfoTooltip:Xe}),Object(u.jsx)(ge,{path:"/favorite/",header:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",renderMainHeader:At,component:je,onAddToFavorites:rt,onDeleteFromFavorites:it,onAddPurchase:ct,favoritesPagination:W,recipes:Z,getFavoritesRecipes:Ke,onDeletePurchase:st,purchases:_e}),Object(u.jsx)(ge,{path:"/shop-list",header:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a",renderMainHeader:At,component:fe,purchases:_e,onDeletePurchase:st,onDownload:function(e){G.download(e).then((function(e){!function(e){var t=document.createElement("a"),n=new Blob([e],{type:"application/text"});t.href=URL.createObjectURL(n),t.download="example.txt",t.click()}(e)})).catch((function(e){Be(e),Xe(!0)}))}}),Object(u.jsx)(A.b,{path:"/single-page/:recipeId",children:Object(u.jsx)(Oe,{onSubscribe:Ve,onUnsubscribe:Qe,subscriptions:ie,onAddToFavorites:rt,onDeleteFromFavorites:it,onAddPurchase:ct,favoriteRecipes:Z,onDeletePurchase:st,purchases:_e,setResponseError:Be,setIsOpenInfoTooltip:Xe})}),Object(u.jsxs)(A.b,{path:"/recipes/:author",children:[At("\u0420\u0435\u0446\u0435\u043f\u0442\u044b",y),Object(u.jsx)(V,{recipes:p,favoriteRecipes:Z,onAddToFavorites:rt,onDeleteFromFavorites:it,onAddPurchase:ct,recipesPagination:v,getRecipes:Ye,onAuthorClick:et,selectedAuthor:y,setSelectedAuthor:S,onSubscribe:Ve,onUnsubscribe:Qe,subscriptions:ie,onDeletePurchase:st,purchases:_e})]}),Object(u.jsx)(A.b,{path:"/about",children:Object(u.jsx)(Se,{})}),Object(u.jsx)(A.b,{path:"/technologies",children:Object(u.jsx)(Te,{})}),"Technologies",Object(u.jsx)(A.b,{children:Object(u.jsx)(A.a,{to:"/"})})]}),Object(u.jsx)(ke,{isOpen:Ce,onClose:Ze,responseError:Je,setResponseError:Be})]}),Object(u.jsx)(d,{})]})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(Fe,{})})}),document.getElementById("root")),Ee()}],[[77,1,2]]]);
//# sourceMappingURL=main.12e903d8.chunk.js.map